/*! For license information please see main.45bbee93.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var i=n(853),r=n(43),s=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case S:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return R(e(t))}catch(G_){}}return null}var O=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},j=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=j[F],j[F]=null,F--)}function H(e,t){F++,j[F]=e.current,e.current=t}var B=z(null),W=z(null),V=z(null),q=z(null);function Y(e,t){switch(H(V,t),H(W,e),H(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=sh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),H(B,e)}function K(){U(B),U(W),U(V)}function $(e){null!==e.memoizedState&&H(q,e);var t=B.current,n=oh(t,e.type);t!==n&&(H(W,e),H(B,n))}function G(e){W.current===e&&(U(B),U(W)),q.current===e&&(U(q),Gh._currentValue=L)}var X=Object.prototype.hasOwnProperty,Q=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,Z=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,re=i.unstable_UserBlockingPriority,se=i.unstable_NormalPriority,oe=i.unstable_LowPriority,ae=i.unstable_IdlePriority,le=i.log,ce=i.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var me=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&i;return 0!==a?0!==(i=a&~s)?r=ye(i):0!==(o&=a)?r=ye(o):n||0!==(n=a&~e)&&(r=ye(n)):0!==(a=i&~s)?r=ye(a):0!==o?r=ye(o):n||0!==(n=i&~e)&&(r=ye(n)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:r}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function ke(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-fe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-fe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ne(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ud(e.type)}var Ae=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ae,Oe="__reactProps$"+Ae,Me="__reactContainer$"+Ae,De="__reactEvents$"+Ae,Le="__reactListeners$"+Ae,je="__reactHandles$"+Ae,Fe="__reactResources$"+Ae,ze="__reactMarker$"+Ae;function Ue(e){delete e[Re],delete e[Oe],delete e[De],delete e[Le],delete e[je]}function He(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bh(e);null!==e;){if(n=e[Re])return n;e=bh(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Re]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ve(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[ze]=!0}var Ye=new Set,Ke={};function $e(e,t){Ge(e,t),Ge(e+"Capture",t)}function Ge(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Ye.add(t[e])}var Xe,Qe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(r=t,X.call(et,r)||!X.call(Ze,r)&&(Je.test(r)?et[r]=!0:(Ze[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function rt(e){if(void 0===Xe)try{throw Error()}catch(G_){var t=G_.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Qe=-1<G_.stack.indexOf("\n    at")?" (<anonymous>)":-1<G_.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Qe}var st=!1;function ot(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(G_){var i=G_}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){i=r}e.call(n.prototype)}}else{try{throw Error()}catch(s){i=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(iv){if(iv&&i&&"string"===typeof iv.stack)return[iv.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),c=a.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(G_){return"\nError generating stack: "+G_.message+"\n"+G_.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ut(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,i,r,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,ct(t)):null!=n?yt(e,o,ct(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,i,r,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(o(92));if(O(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&St(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Ot=null;function Mt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Oe]||null;if(!r)throw Error(o(90));mt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&dt(i)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Dt=!1;function Lt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Rt||null!==Ot)&&(Bc(),Rt&&(t=Rt,e=Ot,Ot=Rt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Oe]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Md){zt=!1}var Ht=null,Bt=null,Wt=null;function Vt(){if(Wt)return Wt;var e,t,n=Bt,i=n.length,r="value"in Ht?Ht.value:Ht.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[s-t];t++);return Wt=r.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Kt(){return!1}function $t(e){function t(t,n,i,r,s){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Yt:Kt,this.isPropagationStopped=Kt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Gt,Xt,Qt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=$t(Jt),en=d({},Jt,{view:0,detail:0}),tn=$t(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Gt=e.screenX-Qt.screenX,Xt=e.screenY-Qt.screenY):Xt=Gt=0,Qt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=$t(nn),sn=$t(d({},nn,{dataTransfer:0})),on=$t(d({},en,{relatedTarget:0})),an=$t(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=$t(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=$t(d({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var gn=$t(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=$t(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=$t(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=$t(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=$t(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=$t(d({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],xn=Ft&&"CompositionEvent"in window,kn=null;Ft&&"documentMode"in document&&(kn=document.documentMode);var Sn=Ft&&"TextEvent"in window&&!kn,Cn=Ft&&(!xn||kn&&8<kn&&11>=kn),En=String.fromCharCode(32),Tn=!1;function In(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function On(e,t,n,i){Rt?Ot?Ot.push(i):Ot=[i]:Rt=i,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Mn=null,Dn=null;function Ln(e){ju(e,0)}function jn(e){if(dt(We(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var Un;if(Ft){var Hn="oninput"in document;if(!Hn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Hn="function"===typeof Bn.oninput}Un=Hn}else Un=!1;zn=Un&&(!document.documentMode||9<document.documentMode)}function Wn(){Mn&&(Mn.detachEvent("onpropertychange",Vn),Dn=Mn=null)}function Vn(e){if("value"===e.propertyName&&jn(Dn)){var t=[];On(t,Dn,e,At(e)),Lt(Ln,t)}}function qn(e,t,n){"focusin"===e?(Wn(),Dn=n,(Mn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Wn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(Dn)}function Kn(e,t){if("click"===e)return jn(t)}function $n(e,t){if("input"===e||"change"===e)return jn(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!X.call(t,r)||!Gn(e[r],t[r]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,i=Qn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Qn(i)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=Ft&&"documentMode"in document&&11>=document.documentMode,ii=null,ri=null,si=null,oi=!1;function ai(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;oi||null==ii||ii!==ft(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},si&&Xn(si,i)||(si=i,0<(i=qu(ri,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ui={},hi={};function di(e){if(ui[e])return ui[e];if(!ci[e])return e;var t,n=ci[e];for(t in n)if(n.hasOwnProperty(t)&&t in hi)return ui[e]=n[t];return e}Ft&&(hi=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var fi=di("animationend"),pi=di("animationiteration"),gi=di("animationstart"),mi=di("transitionrun"),vi=di("transitionstart"),yi=di("transitioncancel"),_i=di("transitionend"),bi=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(e,t){bi.set(e,t),$e(t,[e])}wi.push("scrollEnd");var ki=new WeakMap;function Si(e,t){if("object"===typeof e&&null!==e){var n=ki.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},ki.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ci=[],Ei=0,Ti=0;function Ii(){for(var e=Ei,t=Ti=Ei=0;t<e;){var n=Ci[t];Ci[t++]=null;var i=Ci[t];Ci[t++]=null;var r=Ci[t];Ci[t++]=null;var s=Ci[t];if(Ci[t++]=null,null!==i&&null!==r){var o=i.pending;null===o?r.next=r:(r.next=o.next,o.next=r),i.pending=r}0!==s&&Ri(n,r,s)}}function Pi(e,t,n,i){Ci[Ei++]=e,Ci[Ei++]=t,Ci[Ei++]=n,Ci[Ei++]=i,Ti|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ni(e,t,n,i){return Pi(e,t,n,i),Oi(e)}function Ai(e,t){return Pi(e,null,null,t),Oi(e)}function Ri(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(i=s.alternate)&&(i.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-fe(n),null===(i=(e=s.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),s):null}function Oi(e){if(50<Oc)throw Oc=0,Mc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mi={};function Di(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(e,t,n,i){return new Di(e,t,n,i)}function ji(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fi(e,t){var n=e.alternate;return null===n?((n=Li(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ui(e,t,n,i,r,s){var a=0;if(i=e,"function"===typeof e)ji(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Li(31,n,t,r)).elementType=T,e.lanes=s,e;case m:return Hi(n.children,r,s,t);case v:a=8,r|=24;break;case y:return(e=Li(12,n,t,2|r)).elementType=y,e.lanes=s,e;case k:return(e=Li(13,n,t,r)).elementType=k,e.lanes=s,e;case S:return(e=Li(19,n,t,r)).elementType=S,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:case w:a=10;break e;case b:a=9;break e;case x:a=11;break e;case C:a=14;break e;case E:a=16,i=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),i=null}return(t=Li(a,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Hi(e,t,n,i){return(e=Li(7,e,i,t)).lanes=n,e}function Bi(e,t,n){return(e=Li(6,e,null,t)).lanes=n,e}function Wi(e,t,n){return(t=Li(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vi=[],qi=0,Yi=null,Ki=0,$i=[],Gi=0,Xi=null,Qi=1,Ji="";function Zi(e,t){Vi[qi++]=Ki,Vi[qi++]=Yi,Yi=e,Ki=t}function er(e,t,n){$i[Gi++]=Qi,$i[Gi++]=Ji,$i[Gi++]=Xi,Xi=e;var i=Qi;e=Ji;var r=32-fe(i)-1;i&=~(1<<r),n+=1;var s=32-fe(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Qi=1<<32-fe(t)+r|n<<r|i,Ji=s+e}else Qi=1<<s|n<<r|i,Ji=e}function tr(e){null!==e.return&&(Zi(e,1),er(e,1,0))}function nr(e){for(;e===Yi;)Yi=Vi[--qi],Vi[qi]=null,Ki=Vi[--qi],Vi[qi]=null;for(;e===Xi;)Xi=$i[--Gi],$i[Gi]=null,Ji=$i[--Gi],$i[Gi]=null,Qi=$i[--Gi],$i[Gi]=null}var ir=null,rr=null,sr=!1,or=null,ar=!1,lr=Error(o(519));function cr(e){throw gr(Si(Error(o(418,"")),e)),lr}function ur(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Re]=e,t[Oe]=i,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Fu(Du[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),vt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ht(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),wt(t,i.value,i.defaultValue,i.children),ht(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Qu(t.textContent,n)?(null!=i.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=i.onScroll&&Fu("scroll",t),null!=i.onScrollEnd&&Fu("scrollend",t),null!=i.onClick&&(t.onclick=Ju),t=!0):t=!1,t||cr(e)}function hr(e){for(ir=e.return;ir;)switch(ir.tag){case 5:case 13:return void(ar=!1);case 27:case 3:return void(ar=!0);default:ir=ir.return}}function dr(e){if(e!==ir)return!1;if(!sr)return hr(e),sr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&rr&&cr(e),hr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rr=yh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rr=null}}else 27===n?(n=rr,ph(e.type)?(e=_h,_h=null,rr=e):rr=n):rr=ir?yh(e.stateNode.nextSibling):null;return!0}function fr(){rr=ir=null,sr=!1}function pr(){var e=or;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),or=null),e}function gr(e){null===or?or=[e]:or.push(e)}var mr=z(null),vr=null,yr=null;function _r(e,t,n){H(mr,t._currentValue),t._currentValue=n}function br(e){e._currentValue=mr.current,U(mr)}function wr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function xr(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var s=r.dependencies;if(null!==s){var a=r.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wr(s.return,n,e),i||(a=null);break e}s=l.next}}else if(18===r.tag){if(null===(a=r.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),wr(a,n,e),a=null}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===e){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}}function kr(e,t,n,i){e=null;for(var r=t,s=!1;null!==r;){if(!s)if(0!==(524288&r.flags))s=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var a=r.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=r.type;Gn(r.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(r===q.current){if(null===(a=r.alternate))throw Error(o(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Gh):e=[Gh])}r=r.return}null!==e&&xr(t,e,n,i),t.flags|=262144}function Sr(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cr(e){vr=e,yr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Er(e){return Ir(vr,e)}function Tr(e,t){return null===vr&&Cr(e),Ir(e,t)}function Ir(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yr){if(null===e)throw Error(o(308));yr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yr=yr.next=t;return n}var Pr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Nr=i.unstable_scheduleCallback,Ar=i.unstable_NormalPriority,Rr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Or(){return{controller:new Pr,data:new Map,refCount:0}}function Mr(e){e.refCount--,0===e.refCount&&Nr(Ar,(function(){e.controller.abort()}))}var Dr=null,Lr=0,jr=0,Fr=null;function zr(){if(0===--Lr&&null!==Dr){null!==Fr&&(Fr.status="fulfilled");var e=Dr;Dr=null,jr=0,Fr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ur=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Dr){var n=Dr=[];Lr=0,jr=Nu(),Fr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Lr++,t.then(zr,zr)}(0,t),null!==Ur&&Ur(e,t)};var Hr=z(null);function Br(){var e=Hr.current;return null!==e?e:rc.pooledCache}function Wr(e,t){H(Hr,null===t?Hr.current:t.pool)}function Vr(){var e=Br();return null===e?null:{parent:Rr._currentValue,pool:e}}var qr=Error(o(460)),Yr=Error(o(474)),Kr=Error(o(542)),$r={then:function(){}};function Gr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xr(){}function Qr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xr,Xr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xr,Xr);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Jr=t,qr}}var Jr=null;function Zr(){if(null===Jr)throw Error(o(459));var e=Jr;return Jr=null,e}function es(e){if(e===qr||e===Kr)throw Error(o(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&ic)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Oi(e),Ri(e,null,n),t}return Pi(e,i,t,n),Oi(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Te(e,n)}}function as(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Fr)throw Fr}}function us(e,t,n,i){ls=!1;var r=e.updateQueue;ts=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(oc&f)===f:(i&f)===f){0!==f&&f===jr&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,m=a;f=t;var v=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(v,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(v,h,f):g)||void 0===f)break e;h=d({},h,f);break e;case 2:ts=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,o|=f;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(p=a).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===s&&(r.shared.lanes=0),pc|=o,e.lanes=o,e.memoizedState=h}}function hs(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ds(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hs(n[e],t)}var fs=z(null),ps=z(0);function gs(e,t){H(ps,e=dc),H(fs,t),dc=e|t.baseLanes}function ms(){H(ps,dc),H(fs,fs.current)}function vs(){dc=ps.current,U(fs),U(ps)}var ys=0,_s=null,bs=null,ws=null,xs=!1,ks=!1,Ss=!1,Cs=0,Es=0,Ts=null,Is=0;function Ps(){throw Error(o(321))}function Ns(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function As(e,t,n,i,r,s){return ys=s,_s=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Ko:$o,Ss=!1,s=n(i,r),Ss=!1,ks&&(s=Os(t,n,i,r)),Rs(e),s}function Rs(e){M.H=Yo;var t=null!==bs&&null!==bs.next;if(ys=0,ws=bs=_s=null,xs=!1,Es=0,Ts=null,t)throw Error(o(300));null===e||Ia||null!==(e=e.dependencies)&&Sr(e)&&(Ia=!0)}function Os(e,t,n,i){_s=e;var r=0;do{if(ks&&(Ts=null),Es=0,ks=!1,25<=r)throw Error(o(301));if(r+=1,ws=bs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}M.H=Go,s=t(n,i)}while(ks);return s}function Ms(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Us(t):t,e=e.useState()[0],(null!==bs?bs.memoizedState:null)!==e&&(_s.flags|=1024),t}function Ds(){var e=0!==Cs;return Cs=0,e}function Ls(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function js(e){if(xs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xs=!1}ys=0,ws=bs=_s=null,ks=!1,Es=Cs=0,Ts=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?_s.memoizedState=ws=e:ws=ws.next=e,ws}function zs(){if(null===bs){var e=_s.alternate;e=null!==e?e.memoizedState:null}else e=bs.next;var t=null===ws?_s.memoizedState:ws.next;if(null!==t)ws=t,bs=e;else{if(null===e){if(null===_s.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(bs=e).memoizedState,baseState:bs.baseState,baseQueue:bs.baseQueue,queue:bs.queue,next:null},null===ws?_s.memoizedState=ws=e:ws=ws.next=e}return ws}function Us(e){var t=Es;return Es+=1,null===Ts&&(Ts=[]),e=Qr(Ts,e,t),t=_s,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Ko:$o),e}function Hs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Us(e);if(e.$$typeof===w)return Er(e)}throw Error(o(438,String(e)))}function Bs(e){var t=null,n=_s.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=_s.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=I;return t.index++,n}function Ws(e,t){return"function"===typeof t?t(e):t}function Vs(e){return qs(zs(),bs,e)}function qs(e,t,n){var i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,null===r)e.memoizedState=s;else{var l=a=null,c=null,u=t=r.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(oc&d)===d:(ys&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===jr&&(h=!0);else{if((ys&f)===f){u=u.next,f===jr&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,a=s):c=c.next=d,_s.lanes|=f,pc|=f}d=u.action,Ss&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=s):c=c.next=f,_s.lanes|=d,pc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?a=s:c.next=l,!Gn(s,e.memoizedState)&&(Ia=!0,h&&null!==(n=Fr)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=c,i.lastRenderedState=s}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ys(e){var t=zs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=e(s,a.action),a=a.next}while(a!==r);Gn(s,t.memoizedState)||(Ia=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Ks(e,t,n){var i=_s,r=zs(),s=sr;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Gn((bs||r).memoizedState,n);if(a&&(r.memoizedState=n,Ia=!0),r=r.queue,vo(2048,8,Xs.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||null!==ws&&1&ws.memoizedState.tag){if(i.flags|=2048,po(9,{destroy:void 0,resource:void 0},Gs.bind(null,i,r,n,t),null),null===rc)throw Error(o(349));s||0!==(124&ys)||$s(i,t,n)}return n}function $s(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_s.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Gs(e,t,n,i){t.value=n,t.getSnapshot=i,Qs(t)&&Js(e)}function Xs(e,t,n){return n((function(){Qs(t)&&Js(e)}))}function Qs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(Ho){return!0}}function Js(e){var t=Ai(e,2);null!==t&&jc(t,e,2)}function Zs(e){var t=Fs();if("function"===typeof e){var n=e;if(e=n(),Ss){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t}function eo(e,t,n,i){return e.baseState=n,qs(e,bs,"function"===typeof i?i:Ws)}function to(e,t,n,i,r){if(Wo(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==M.T?n(!0):s.isTransition=!1,i(s),null===(n=t.pending)?(s.next=t.pending=s,no(t,s)):(s.next=n.next,t.pending=n.next=s)}}function no(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=M.T,o={};M.T=o;try{var a=n(r,i),l=M.S;null!==l&&l(o,a),io(e,t,a)}catch(Ho){so(e,t,Ho)}finally{M.T=s}}else try{io(e,t,s=n(r,i))}catch(c){so(e,t,c)}}function io(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ro(e,t,n)}),(function(n){return so(e,t,n)})):ro(e,t,n)}function ro(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function so(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==i)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function lo(e,t){if(sr){var n=rc.formState;if(null!==n){e:{var i=_s;if(sr){if(rr){t:{for(var r=rr,s=ar;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=yh(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){rr=yh(r.nextSibling),i="F!"===r.data;break e}}cr(i)}i=!1}i&&(t=n[0])}}return(n=Fs()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=i,n=zo.bind(null,_s,i),i.dispatch=n,i=Zs(!1),s=Bo.bind(null,_s,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=Fs()).queue=r,n=to.bind(null,_s,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function co(e){return uo(zs(),bs,e)}function uo(e,t,n){if(t=qs(e,t,ao)[0],e=Vs(Ws)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=Us(t)}catch(G_){if(G_===qr)throw Kr;throw G_}else i=t;var r=(t=zs()).queue,s=r.dispatch;return n!==t.memoizedState&&(_s.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,r,n),null)),[i,s,e]}function ho(e,t){e.action=t}function fo(e){var t=zs(),n=bs;if(null!==n)return uo(t,n,e);zs(),t=t.memoizedState;var i=(n=zs()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function po(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=_s.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function go(){return zs().memoizedState}function mo(e,t,n,i){var r=Fs();i=void 0===i?null:i,_s.flags|=e,r.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,i)}function vo(e,t,n,i){var r=zs();i=void 0===i?null:i;var s=r.memoizedState.inst;null!==bs&&null!==i&&Ns(i,bs.memoizedState.deps)?r.memoizedState=po(t,s,n,i):(_s.flags|=e,r.memoizedState=po(1|t,s,n,i))}function yo(e,t){mo(8390656,8,e,t)}function _o(e,t){vo(2048,8,e,t)}function bo(e,t){return vo(4,2,e,t)}function wo(e,t){return vo(4,4,e,t)}function xo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ko(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vo(4,4,xo.bind(null,t,e),n)}function So(){}function Co(e,t){var n=zs();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Ns(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Eo(e,t){var n=zs();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Ns(t,i[1]))return i[0];if(i=e(),Ss){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[i,t],i}function To(e,t,n){return void 0===n||0!==(1073741824&ys)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),_s.lanes|=e,pc|=e,n)}function Io(e,t,n,i){return Gn(n,t)?n:null!==fs.current?(e=To(e,n,i),Gn(e,t)||(Ia=!0),e):0===(42&ys)?(Ia=!0,e.memoizedState=n):(e=Lc(),_s.lanes|=e,pc|=e,t)}function Po(e,t,n,i,r){var s=D.p;D.p=0!==s&&8>s?s:8;var o=M.T,a={};M.T=a,Bo(e,!1,t,n);try{var l=r(),c=M.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),i}(l,i);Uo(e,t,u,Dc())}else Uo(e,t,i,Dc())}catch(Ho){Uo(e,t,{then:function(){},status:"rejected",reason:Ho},Dc())}finally{D.p=s,M.T=o}}function No(){}function Ao(e,t,n,i){if(5!==e.tag)throw Error(o(476));var r=Ro(e).queue;Po(e,r,t,L,null===n?No:function(){return Oo(e),n(i)})}function Ro(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Oo(e){Uo(e,Ro(e).next.queue,{},Dc())}function Mo(){return Er(Gh)}function Do(){return zs().memoizedState}function Lo(){return zs().memoizedState}function jo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),i=ss(t,e=rs(n),n);return null!==i&&(jc(i,t,n),os(i,t,n)),t={cache:Or()},void(e.payload=t)}t=t.return}}function Fo(e,t,n){var i=Dc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Wo(e)?Vo(t,n):null!==(n=Ni(e,t,n,i))&&(jc(n,e,i),qo(n,t,i))}function zo(e,t,n){Uo(e,t,n,Dc())}function Uo(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))Vo(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Gn(a,o))return Pi(e,t,r,0),null===rc&&Ii(),!1}catch(Ho){}if(null!==(n=Ni(e,t,r,i)))return jc(n,e,i),qo(n,t,i),!0}return!1}function Bo(e,t,n,i){if(i={lane:2,revertLane:Nu(),action:i,hasEagerState:!1,eagerState:null,next:null},Wo(e)){if(t)throw Error(o(479))}else null!==(t=Ni(e,n,i,2))&&jc(t,e,2)}function Wo(e){var t=e.alternate;return e===_s||null!==t&&t===_s}function Vo(e,t){ks=xs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qo(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Yo={readContext:Er,use:Hs,useCallback:Ps,useContext:Ps,useEffect:Ps,useImperativeHandle:Ps,useLayoutEffect:Ps,useInsertionEffect:Ps,useMemo:Ps,useReducer:Ps,useRef:Ps,useState:Ps,useDebugValue:Ps,useDeferredValue:Ps,useTransition:Ps,useSyncExternalStore:Ps,useId:Ps,useHostTransitionStatus:Ps,useFormState:Ps,useActionState:Ps,useOptimistic:Ps,useMemoCache:Ps,useCacheRefresh:Ps},Ko={readContext:Er,use:Hs,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:Er,useEffect:yo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,mo(4194308,4,xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4194308,4,e,t)},useInsertionEffect:function(e,t){mo(4,2,e,t)},useMemo:function(e,t){var n=Fs();t=void 0===t?null:t;var i=e();if(Ss){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Fs();if(void 0!==n){var r=n(t);if(Ss){de(!0);try{n(t)}finally{de(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Fo.bind(null,_s,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=zo.bind(null,_s,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:So,useDeferredValue:function(e,t){return To(Fs(),e,t)},useTransition:function(){var e=Zs(!1);return e=Po.bind(null,_s,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=_s,r=Fs();if(sr){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rc)throw Error(o(349));0!==(124&oc)||$s(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,yo(Xs.bind(null,i,s,e),[e]),i.flags|=2048,po(9,{destroy:void 0,resource:void 0},Gs.bind(null,i,s,n,t),null),n},useId:function(){var e=Fs(),t=rc.identifierPrefix;if(sr){var n=Ji;t="\xab"+t+"R"+(n=(Qi&~(1<<32-fe(Qi)-1)).toString(32)+n),0<(n=Cs++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Is++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bo.bind(null,_s,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bs,useCacheRefresh:function(){return Fs().memoizedState=jo.bind(null,_s)}},$o={readContext:Er,use:Hs,useCallback:Co,useContext:Er,useEffect:_o,useImperativeHandle:ko,useInsertionEffect:bo,useLayoutEffect:wo,useMemo:Eo,useReducer:Vs,useRef:go,useState:function(){return Vs(Ws)},useDebugValue:So,useDeferredValue:function(e,t){return Io(zs(),bs.memoizedState,e,t)},useTransition:function(){var e=Vs(Ws)[0],t=zs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:Ks,useId:Do,useHostTransitionStatus:Mo,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(zs(),0,e,t)},useMemoCache:Bs,useCacheRefresh:Lo},Go={readContext:Er,use:Hs,useCallback:Co,useContext:Er,useEffect:_o,useImperativeHandle:ko,useInsertionEffect:bo,useLayoutEffect:wo,useMemo:Eo,useReducer:Ys,useRef:go,useState:function(){return Ys(Ws)},useDebugValue:So,useDeferredValue:function(e,t){var n=zs();return null===bs?To(n,e,t):Io(n,bs.memoizedState,e,t)},useTransition:function(){var e=Ys(Ws)[0],t=zs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:Ks,useId:Do,useHostTransitionStatus:Mo,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=zs();return null!==bs?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bs,useCacheRefresh:Lo},Xo=null,Qo=0;function Jo(e){var t=Qo;return Qo+=1,null===Xo&&(Xo=[]),Qr(Xo,e,t)}function Zo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ea(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ta(e){return(0,e._init)(e._payload)}function na(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Fi(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Bi(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===m?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&ta(s)===t.type)?(Zo(t=r(t,n.props),n),t.return=e,t):(Zo(t=Ui(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,s){return null===t||7!==t.tag?((t=Hi(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Zo(n=Ui(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Wi(t,e.mode,n)).return=e,t;case E:return d(e,t=(0,t._init)(t._payload),n)}if(O(t)||N(t))return(t=Hi(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Jo(t),n);if(t.$$typeof===w)return d(e,Tr(e,t),n);ea(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===r?c(e,t,n,i):null;case g:return n.key===r?u(e,t,n,i):null;case E:return f(e,t,n=(r=n._init)(n._payload),i)}if(O(n)||N(n))return null!==r?null:h(e,t,n,i,null);if("function"===typeof n.then)return f(e,t,Jo(n),i);if(n.$$typeof===w)return f(e,t,Tr(e,n),i);ea(e,n)}return null}function v(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case p:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case g:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case E:return v(e,t,n,i=(0,i._init)(i._payload),r)}if(O(i)||N(i))return h(t,e=e.get(n)||null,i,r,null);if("function"===typeof i.then)return v(e,t,n,Jo(i),r);if(i.$$typeof===w)return v(e,t,n,Tr(t,i),r);ea(t,i)}return null}function y(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var _=u.key;null!==c;){if(c.key===_){if((_=u.type)===m){if(7===c.tag){n(l,c.sibling),(h=r(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===E&&ta(_)===c.type){n(l,c.sibling),Zo(h=r(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((h=Hi(u.props.children,l.mode,h,u.key)).return=l,l=h):(Zo(h=Ui(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return a(l);case g:e:{for(_=u.key;null!==c;){if(c.key===_){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=r(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Wi(u,l.mode,h)).return=l,l=h}return a(l);case E:return y(l,c,u=(_=u._init)(u._payload),h)}if(O(u))return function(r,o,a,l){for(var c=null,u=null,h=o,p=o=0,g=null;null!==h&&p<a.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var m=f(r,h,a[p],l);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(r,h),o=s(m,o,p),null===u?c=m:u.sibling=m,u=m,h=g}if(p===a.length)return n(r,h),sr&&Zi(r,p),c;if(null===h){for(;p<a.length;p++)null!==(h=d(r,a[p],l))&&(o=s(h,o,p),null===u?c=h:u.sibling=h,u=h);return sr&&Zi(r,p),c}for(h=i(h);p<a.length;p++)null!==(g=v(h,r,p,a[p],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),o=s(g,o,p),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(r,e)})),sr&&Zi(r,p),c}(l,c,u,h);if(N(u)){if("function"!==typeof(_=N(u)))throw Error(o(150));return function(r,a,l,c){if(null==l)throw Error(o(151));for(var u=null,h=null,p=a,g=a=0,m=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var _=f(r,p,y.value,c);if(null===_){null===p&&(p=m);break}e&&p&&null===_.alternate&&t(r,p),a=s(_,a,g),null===h?u=_:h.sibling=_,h=_,p=m}if(y.done)return n(r,p),sr&&Zi(r,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,c))&&(a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return sr&&Zi(r,g),u}for(p=i(p);!y.done;g++,y=l.next())null!==(y=v(p,r,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&p.forEach((function(e){return t(r,e)})),sr&&Zi(r,g),u}(l,c,u=_.call(u),h)}if("function"===typeof u.then)return y(l,c,Jo(u),h);if(u.$$typeof===w)return y(l,c,Tr(l,u),h);ea(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=r(c,u)).return=l,l=h):(n(l,c),(h=Bi(u,l.mode,h)).return=l,l=h),a(l)):n(l,c)}return function(e,t,n,i){try{Qo=0;var r=y(e,t,n,i);return Xo=null,r}catch(G_){if(G_===qr||G_===Kr)throw G_;var s=Li(29,G_,null,e.mode);return s.lanes=i,s.return=e,s}}}var ia=na(!0),ra=na(!1),sa=z(null),oa=null;function aa(e){var t=e.alternate;H(ha,1&ha.current),H(sa,e),null===oa&&(null===t||null!==fs.current||null!==t.memoizedState)&&(oa=e)}function la(e){if(22===e.tag){if(H(ha,ha.current),H(sa,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else ca()}function ca(){H(ha,ha.current),H(sa,sa.current)}function ua(e){U(sa),oa===e&&(oa=null),U(ha)}var ha=z(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||vh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fa(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Dc(),r=rs(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ss(e,r,i))&&(jc(t,e,i),os(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Dc(),r=rs(i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ss(e,r,i))&&(jc(t,e,i),os(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),i=rs(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ss(e,i,n))&&(jc(t,e,n),os(t,e,n))}};function ga(e,t,n,i,r,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,i)||!Xn(r,s))}function ma(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function va(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=d({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var ya="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function _a(e){ya(e)}function ba(e){console.error(e)}function wa(e){ya(e)}function xa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ka(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout((function(){throw i}))}}function Sa(e,t,n){return(n=rs(n)).tag=3,n.payload={element:null},n.callback=function(){xa(e,t)},n}function Ca(e){return(e=rs(e)).tag=3,e}function Ea(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){ka(t,n,i)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){ka(t,n,i),"function"!==typeof r&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Ta=Error(o(461)),Ia=!1;function Pa(e,t,n,i){t.child=null===e?ra(t,null,n,i):ia(t,e.child,n,i)}function Na(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var o={};for(var a in i)"ref"!==a&&(o[a]=i[a])}else o=i;return Cr(t),i=As(e,t,n,o,s,r),a=Ds(),null===e||Ia?(sr&&a&&tr(t),t.flags|=1,Pa(e,t,i,r),t.child):(Ls(e,t,r),Xa(e,t,r))}function Aa(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||ji(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ui(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ra(e,t,s,i,r))}if(s=e.child,!Qa(e,r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(o,i)&&e.ref===t.ref)return Xa(e,t,r)}return t.flags|=1,(e=Fi(s,i)).ref=t.ref,e.return=t,t.child=e}function Ra(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(Xn(s,i)&&e.ref===t.ref){if(Ia=!1,t.pendingProps=i=s,!Qa(e,r))return t.lanes=e.lanes,Xa(e,t,r);0!==(131072&e.flags)&&(Ia=!0)}}return La(e,t,n,i,r)}function Oa(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,s=0;null!==r;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return Ma(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ma(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wr(0,null!==s?s.cachePool:null),null!==s?gs(t,s):ms(),la(t)}else null!==s?(Wr(0,s.cachePool),gs(t,s),ca(),t.memoizedState=null):(null!==e&&Wr(0,null),ms(),ca());return Pa(e,t,r,n),t.child}function Ma(e,t,n,i){var r=Br();return r=null===r?null:{parent:Rr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Wr(0,null),ms(),la(t),null!==e&&kr(e,t,i,!0),null}function Da(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function La(e,t,n,i,r){return Cr(t),n=As(e,t,n,i,void 0,r),i=Ds(),null===e||Ia?(sr&&i&&tr(t),t.flags|=1,Pa(e,t,n,r),t.child):(Ls(e,t,r),Xa(e,t,r))}function ja(e,t,n,i,r,s){return Cr(t),t.updateQueue=null,n=Os(t,i,n,r),Rs(e),i=Ds(),null===e||Ia?(sr&&i&&tr(t),t.flags|=1,Pa(e,t,n,s),t.child):(Ls(e,t,s),Xa(e,t,s))}function Fa(e,t,n,i,r){if(Cr(t),null===t.stateNode){var s=Mi,o=n.contextType;"object"===typeof o&&null!==o&&(s=Er(o)),s=new n(i,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=pa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=i,s.state=t.memoizedState,s.refs={},ns(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Er(o):Mi,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(fa(t,n,o,i),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&pa.enqueueReplaceState(s,s.state,null),us(t,i,s,r),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=va(n,a);s.props=l;var c=s.context,u=n.contextType;o=Mi,"object"===typeof u&&null!==u&&(o=Er(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||c!==o)&&ma(t,s,i,o),ts=!1;var d=t.memoizedState;s.state=d,us(t,i,s,r),cs(),c=t.memoizedState,a||d!==c||ts?("function"===typeof h&&(fa(t,n,h,i),c=t.memoizedState),(l=ts||ga(t,n,l,i,d,c,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=o,i=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,is(e,t),u=va(n,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Mi,"object"===typeof c&&null!==c&&(l=Er(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&ma(t,s,i,l),ts=!1,d=t.memoizedState,s.state=d,us(t,i,s,r),cs();var f=t.memoizedState;o!==h||d!==f||ts||null!==e&&null!==e.dependencies&&Sr(e.dependencies)?("function"===typeof a&&(fa(t,n,a,i),f=t.memoizedState),(u=ts||ga(t,n,u,i,d,f,l)||null!==e&&null!==e.dependencies&&Sr(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=l,i=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Da(e,t),i=0!==(128&t.flags),s||i?(s=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&i?(t.child=ia(t,e.child,null,r),t.child=ia(t,null,n,r)):Pa(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Xa(e,t,r),e}function za(e,t,n,i){return fr(),t.flags|=256,Pa(e,t,n,i),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ha(e){return{baseLanes:e,cachePool:Vr()}}function Ba(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=vc),e}function Wa(e,t,n){var i,r=t.pendingProps,s=!1,a=0!==(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&0!==(2&ha.current)),i&&(s=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(sr){if(s?aa(t):ca(),sr){var l,c=rr;if(l=c){e:{for(l=c,c=ar;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xi?{id:Qi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},(l=Li(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ir=t,rr=null,l=!0):l=!1}l||cr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return vh(c)?t.lanes=32:t.lanes=536870912,null;ua(t)}return c=r.children,r=r.fallback,s?(ca(),c=qa({mode:"hidden",children:c},s=t.mode),r=Hi(r,s,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(s=t.child).memoizedState=Ha(n),s.childLanes=Ba(e,i,n),t.memoizedState=Ua,r):(aa(t),Va(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(aa(t),t.flags&=-257,t=Ya(e,t,n)):null!==t.memoizedState?(ca(),t.child=e.child,t.flags|=128,t=null):(ca(),s=r.fallback,c=t.mode,r=qa({mode:"visible",children:r.children},c),(s=Hi(s,c,n,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,ia(t,e.child,null,n),(r=t.child).memoizedState=Ha(n),r.childLanes=Ba(e,i,n),t.memoizedState=Ua,t=s);else if(aa(t),vh(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(o(419))).stack="",r.digest=i,gr({value:r,source:null,stack:null}),t=Ya(e,t,n)}else if(Ia||kr(e,t,n,!1),i=0!==(n&e.childLanes),Ia||i){if(null!==(i=rc)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:Ie(r))&(i.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,Ai(e,r),jc(i,e,r),Ta;"$?"===c.data||$c(),t=Ya(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rr=yh(c.nextSibling),ir=t,sr=!0,or=null,ar=!1,null!==e&&($i[Gi++]=Qi,$i[Gi++]=Ji,$i[Gi++]=Xi,Qi=e.id,Ji=e.overflow,Xi=t),(t=Va(t,r.children)).flags|=4096);return t}return s?(ca(),s=r.fallback,c=t.mode,u=(l=e.child).sibling,(r=Fi(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Fi(u,s):(s=Hi(s,c,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,null===(c=e.child.memoizedState)?c=Ha(n):(null!==(l=c.cachePool)?(u=Rr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Vr(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Ba(e,i,n),t.memoizedState=Ua,r):(aa(t),e=(n=e.child).sibling,(n=Fi(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Va(e,t){return(t=qa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qa(e,t){return(e=Li(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ya(e,t,n){return ia(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),wr(e.return,t,n)}function $a(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Ga(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Pa(e,t,i.children,n),0!==(2&(i=ha.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(H(ha,i),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),$a(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===da(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}$a(t,!0,n,null,s);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(kr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qa(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Sr(e))}function Ja(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ia=!0;else{if(!Qa(e,n)&&0===(128&t.flags))return Ia=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),_r(0,Rr,e.memoizedState.cache),fr();break;case 27:case 5:$(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:_r(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(aa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Wa(e,t,n):(aa(t),null!==(e=Xa(e,t,n))?e.sibling:null);aa(t);break;case 19:var r=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(kr(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return Ga(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),H(ha,ha.current),i)break;return null;case 22:case 23:return t.lanes=0,Oa(e,t,n);case 24:_r(0,Rr,e.memoizedState.cache)}return Xa(e,t,n)}(e,t,n);Ia=0!==(131072&e.flags)}else Ia=!1,sr&&0!==(1048576&t.flags)&&er(t,Ki,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((r=i.$$typeof)===x){t.tag=11,t=Na(null,t,i,e,n);break e}if(r===C){t.tag=14,t=Aa(null,t,i,e,n);break e}}throw t=R(i)||i,Error(o(306,t,""))}ji(i)?(e=va(i,e),t.tag=1,t=Fa(null,t,i,e,n)):(t.tag=0,t=La(null,t,i,e,n))}return t;case 0:return La(e,t,t.type,t.pendingProps,n);case 1:return Fa(e,t,i=t.type,r=va(i,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(o(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,is(e,t),us(t,i,null,n);var a=t.memoizedState;if(i=a.cache,_r(0,Rr,i),i!==s.cache&&xr(t,[Rr],n,!0),cs(),i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=za(e,t,i,n);break e}if(i!==r){gr(r=Si(Error(o(424)),t)),t=za(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=yh(e.firstChild),ir=t,sr=!0,or=null,ar=!0,n=ra(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fr(),i===r){t=Xa(e,t,n);break e}Pa(e,t,i,n)}t=t.child}return t;case 26:return Da(e,t),null===e?(n=Ph(t.type,null,t.pendingProps,null))?t.memoizedState=n:sr||(n=t.type,e=t.pendingProps,(i=rh(V.current).createElement(n))[Re]=t,i[Oe]=e,th(i,n,e),qe(i),t.stateNode=i):t.memoizedState=Ph(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&sr&&(i=t.stateNode=wh(t.type,t.pendingProps,V.current),ir=t,ar=!0,r=rr,ph(t.type)?(_h=r,rr=yh(i.firstChild)):rr=r),Pa(e,t,t.pendingProps.children,n),Da(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sr&&((r=i=rr)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=yh(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ar))?(t.stateNode=i,ir=t,rr=yh(i.firstChild),ar=!1,r=!0):r=!1),r||cr(t)),$(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,i=s.children,ah(r,s)?i=null:null!==a&&ah(r,a)&&(t.flags|=32),null!==t.memoizedState&&(r=As(e,t,Ms,null,null,n),Gh._currentValue=r),Da(e,t),Pa(e,t,i,n),t.child;case 6:return null===e&&sr&&((e=n=rr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yh(e.nextSibling)))return null}return e}(n,t.pendingProps,ar))?(t.stateNode=n,ir=t,rr=null,e=!0):e=!1),e||cr(t)),null;case 13:return Wa(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ia(t,null,i,n):Pa(e,t,i,n),t.child;case 11:return Na(e,t,t.type,t.pendingProps,n);case 7:return Pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,_r(0,t.type,i.value),Pa(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Cr(t),i=i(r=Er(r)),t.flags|=1,Pa(e,t,i,n),t.child;case 14:return Aa(e,t,t.type,t.pendingProps,n);case 15:return Ra(e,t,t.type,t.pendingProps,n);case 19:return Ga(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=qa(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fi(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Oa(e,t,n);case 24:return Cr(t),i=Er(Rr),null===e?(null===(r=Br())&&(r=rc,s=Or(),r.pooledCache=s,s.refCount++,null!==s&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},ns(t),_r(0,Rr,r)):(0!==(e.lanes&n)&&(is(e,t),us(t,null,null,n),cs()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),_r(0,Rr,i)):(i=s.cache,_r(0,Rr,i),i!==r.cache&&xr(t,[Rr],n,!0))),Pa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Za(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bh(t)){if(null!==(t=sa.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oa))throw Jr=$r,Yr;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yc|=t)}function nl(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function il(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function rl(e,t,n){var i=t.pendingProps;switch(nr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return il(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),br(Rr),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(dr(t)?Za(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pr())),il(t),null;case 26:return n=t.memoizedState,null===e?(Za(t),null!==n?(il(t),el(t,n)):(il(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Za(t),il(t),el(t,n)):(il(t),t.flags&=-16777217):(e.memoizedProps!==i&&Za(t),il(t),t.flags&=-16777217),null;case 27:G(t),n=V.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Za(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return il(t),null}e=B.current,dr(t)?ur(t):(e=wh(r,i,n),t.stateNode=e,Za(t))}return il(t),null;case 5:if(G(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Za(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return il(t),null}if(e=B.current,dr(t))ur(t);else{switch(r=rh(V.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Re]=t,e[Oe]=i;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(th(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Za(t)}}return il(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Za(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(e=V.current,dr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=ir))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Qu(e.nodeValue,n)))||cr(t)}else(e=rh(e).createTextNode(i))[Re]=t,t.stateNode=e}return il(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=dr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[Re]=t}else fr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;il(t),r=!1}else r=pr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(ua(t),t):(ua(t),null)}if(ua(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),il(t),null;case 4:return K(),null===e&&Hu(t.stateNode.containerInfo),il(t),null;case 10:return br(t.type),il(t),null;case 19:if(U(ha),null===(r=t.memoizedState))return il(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)nl(r,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=da(e))){for(t.flags|=128,nl(r,!1),e=s.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zi(n,e),n=n.sibling;return H(ha,1&ha.current|2),t.child}e=e.sibling}null!==r.tail&&te()>kc&&(t.flags|=128,i=!0,nl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=da(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!sr)return il(t),null}else 2*te()-r.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,i=!0,nl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=ha.current,H(ha,i?1&e|2:1&e),t):(il(t),null);case 22:case 23:return ua(t),vs(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(il(t),6&t.subtreeFlags&&(t.flags|=8192)):il(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&U(Hr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),br(Rr),il(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function sl(e,t){switch(nr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return br(Rr),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(ua(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ha),null;case 4:return K(),null;case 10:return br(t.type),null;case 22:case 23:return ua(t),vs(),null!==e&&U(Hr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return br(Rr),null;default:return null}}function ol(e,t){switch(nr(t),t.tag){case 3:br(Rr),K();break;case 26:case 27:case 5:G(t);break;case 4:K();break;case 13:ua(t);break;case 19:U(ha);break;case 10:br(t.type);break;case 22:case 23:ua(t),vs(),null!==e&&U(Hr);break;case 24:br(Rr)}}function al(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,o=n.inst;i=s(),o.destroy=i}n=n.next}while(n!==r)}}catch(Ho){hu(t,t.return,Ho)}}function ll(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var s=r.next;i=s;do{if((i.tag&e)===e){var o=i.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,r=t;var l=n,c=a;try{c()}catch(Ho){hu(r,l,Ho)}}}i=i.next}while(i!==s)}}catch(Ho){hu(t,t.return,Ho)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ds(t,n)}catch(Ho){hu(e,e.return,Ho)}}}function ul(e,t,n){n.props=va(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(Ho){hu(e,t,Ho)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(Ho){hu(e,t,Ho)}}function dl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(Ho){hu(e,t,Ho)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){hu(e,t,r)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(Ho){hu(e,e.return,Ho)}}function pl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:i.hasOwnProperty(p)||Zu(e,t,p,null,i,d)}}for(var f in i){var p=i[f];if(d=n[f],i.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&Zu(e,t,f,p,i,d)}}return void mt(e,a,l,c,u,h,s,r);case"select":for(s in p=a=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(s)||Zu(e,t,s,null,i,c)}for(r in i)if(s=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=s||null!=c))switch(r){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&Zu(e,t,r,s,i,c)}return t=l,n=a,i=p,void(null!=f?_t(e,!!n,f,!1):!!i!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(null!=r||null!=s))switch(a){case"value":f=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(o(91));break;default:r!==s&&Zu(e,t,a,r,i,s)}return void bt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Zu(e,t,g,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m)&&Zu(e,t,m,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Zu(e,t,u,f,i,p)}return;default:if(Et(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!i.hasOwnProperty(v)&&eh(e,t,v,void 0,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||eh(e,t,h,f,i,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&Zu(e,t,y,null,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||null==f&&null==p||Zu(e,t,d,f,i,p)}(i,e.type,n,t),i[Oe]=t}catch(Ho){hu(e,e.return,Ho)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ph(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ph(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==i&&(27===i&&ph(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&ph(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function _l(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);th(t,i,n),t[Re]=e,t[Oe]=n}catch(Ho){hu(e,e.return,Ho)}}var bl=!1,wl=!1,xl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function Cl(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&i&&al(5,n);break;case 1:if(Fl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(Ho){hu(n,n.return,Ho)}else{var r=va(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hu(n,n.return,o)}}64&i&&cl(n),512&i&&hl(n,n.return);break;case 3:if(Fl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ds(e,t)}catch(Ho){hu(n,n.return,Ho)}}break;case 27:null===t&&4&i&&_l(n);case 26:case 5:Fl(e,n),null===t&&4&i&&fl(n),512&i&&hl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&i&&Al(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=gu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,r=bl;var s=wl;bl=i,(wl=t)&&!s?Ul(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),bl=r,wl=s}break;case 30:break;default:Fl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Il=!1;function Pl(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:wl||dl(n,t),Pl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var i=Tl,r=Il;ph(n.type)&&(Tl=n.stateNode,Il=!1),Pl(e,t,n),xh(n.stateNode),Tl=i,Il=r;break;case 5:wl||dl(n,t);case 6:if(i=Tl,r=Il,Tl=null,Pl(e,t,n),Il=r,null!==(Tl=i))if(Il)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(Ho){hu(n,t,Ho)}else try{Tl.removeChild(n.stateNode)}catch(Ho){hu(n,t,Ho)}break;case 18:null!==Tl&&(Il?(gh(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Id(e)):gh(Tl,n.stateNode));break;case 4:i=Tl,r=Il,Tl=n.stateNode.containerInfo,Il=!0,Pl(e,t,n),Tl=i,Il=r;break;case 0:case 11:case 14:case 15:wl||ll(2,n,t),wl||ll(4,n,t),Pl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&ul(n,t,i)),Pl(e,t,n);break;case 21:Pl(e,t,n);break;case 22:wl=(i=wl)||null!==n.memoizedState,Pl(e,t,n),wl=i;break;default:Pl(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Id(e)}catch(Ho){hu(t,t.return,Ho)}}function Rl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var i=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}function Ol(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(ph(l.type)){Tl=l.stateNode,Il=!1;break e}break;case 5:Tl=l.stateNode,Il=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===Tl)throw Error(o(160));Nl(s,a,r),Tl=null,Il=!1,null!==(s=r.alternate)&&(s.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ml=null;function Dl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Ll(e),4&i&&(ll(3,e,e.return),al(3,e),ll(5,e,e.return));break;case 1:Ol(t,e),Ll(e),512&i&&(wl||null===n||dl(n,n.return)),64&i&&bl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Ml;if(Ol(t,e),Ll(e),512&i&&(wl||null===n||dl(n,n.return)),4&i){var s=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(s=r.getElementsByTagName("title")[0])||s[ze]||s[Re]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),th(s,i,n),s[Re]=e,qe(s),i=s;break e;case"link":var a=Uh("link","href",r).get(i+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}th(s=r.createElement(i),i,n),r.head.appendChild(s);break;case"meta":if(a=Uh("meta","content",r).get(i+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}th(s=r.createElement(i),i,n),r.head.appendChild(s);break;default:throw Error(o(468,i))}s[Re]=e,qe(s),i=s}e.stateNode=i}else Hh(r,e.type,e.stateNode);else e.stateNode=Dh(r,i,e.memoizedProps);else s!==i?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===i?Hh(r,e.type,e.stateNode):Dh(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Ll(e),512&i&&(wl||null===n||dl(n,n.return)),null!==n&&4&i&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Ll(e),512&i&&(wl||null===n||dl(n,n.return)),32&e.flags){r=e.stateNode;try{xt(r,"")}catch(Ho){hu(e,e.return,Ho)}}4&i&&null!=e.stateNode&&pl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(xl=!0);break;case 6:if(Ol(t,e),Ll(e),4&i){if(null===e.stateNode)throw Error(o(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(Ho){hu(e,e.return,Ho)}}break;case 3:if(zh=null,r=Ml,Ml=Ch(t.containerInfo),Ol(t,e),Ml=r,Ll(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Id(t.containerInfo)}catch(Ho){hu(e,e.return,Ho)}xl&&(xl=!1,jl(e));break;case 4:i=Ml,Ml=Ch(e.stateNode.containerInfo),Ol(t,e),Ll(e),Ml=i;break;case 12:default:Ol(t,e),Ll(e);break;case 13:Ol(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Rl(e,i)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,h=wl;if(bl=u||r,wl=h||c,Ol(t,e),wl=h,bl=u,Ll(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||bl||wl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,r)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(Ho){hu(c,c.return,Ho)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(Ho){hu(c,c.return,Ho)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Rl(e,n))));break;case 19:Ol(t,e),Ll(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Rl(e,i)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(gl(i)){n=i;break}i=i.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var r=n.stateNode;yl(e,ml(e),r);break;case 5:var s=n.stateNode;32&n.flags&&(xt(s,""),n.flags&=-33),yl(e,ml(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;vl(e,ml(e),a);break;default:throw Error(o(161))}}catch(Ho){hu(e,e.return,Ho)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),zl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),zl(t);break;case 27:xh(t.stateNode);case 26:case 5:dl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Ul(r,s,n),al(4,s);break;case 1:if(Ul(r,s,n),"function"===typeof(r=(i=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(Ho){hu(i,i.return,Ho)}if(null!==(r=(i=s).updateQueue)){var a=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)hs(l[r],a)}catch(Ho){hu(i,i.return,Ho)}}n&&64&o&&cl(s),hl(s,s.return);break;case 27:_l(s);case 26:case 5:Ul(r,s,n),n&&null===i&&4&o&&fl(s),hl(s,s.return);break;case 12:Ul(r,s,n);break;case 13:Ul(r,s,n),n&&4&o&&Al(r,s);break;case 22:null===s.memoizedState&&Ul(r,s,n),hl(s,s.return);break;case 30:break;default:Ul(r,s,n)}t=t.sibling}}function Hl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Mr(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mr(e))}function Wl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,i),t=t.sibling}function Vl(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Wl(e,t,n,i),2048&r&&al(9,t);break;case 1:case 13:default:Wl(e,t,n,i);break;case 3:Wl(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mr(e)));break;case 12:if(2048&r){Wl(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(Ho){hu(t,t.return,Ho)}}else Wl(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Wl(e,t,n,i):Yl(e,t):2&s._visibility?Wl(e,t,n,i):(s._visibility|=2,ql(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&r&&Hl(o,t);break;case 24:Wl(e,t,n,i),2048&r&&Bl(t.alternate,t)}}function ql(e,t,n,i,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=n,l=i,c=o.flags;switch(o.tag){case 0:case 11:case 15:ql(s,o,a,l,r),al(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?ql(s,o,a,l,r):Yl(s,o):(u._visibility|=2,ql(s,o,a,l,r)),r&&2048&c&&Hl(o.alternate,o);break;case 24:ql(s,o,a,l,r),r&&2048&c&&Bl(o.alternate,o);break;default:ql(s,o,a,l,r)}t=t.sibling}}function Yl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Yl(n,i),2048&r&&Hl(i.alternate,i);break;case 24:Yl(n,i),2048&r&&Bl(i.alternate,i);break;default:Yl(n,i)}t=t.sibling}}var Kl=8192;function $l(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:$l(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Wh)throw Error(o(475));var i=Wh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Nh(n.href),s=e.querySelector(Ah(r));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=qh.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,void qe(s);s=e.ownerDocument||e,n=Rh(n),(r=kh.get(r))&&jh(n,r),qe(s=s.createElement("link"));var a=s;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),th(s,"link",n),t.instance=s}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=qh.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:$l(e);break;case 3:case 4:var t=Ml;Ml=Ch(e.stateNode.containerInfo),$l(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,$l(e),Kl=t):$l(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Sl=i,ec(i,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Ql(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Sl=i,ec(i,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Mr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Sl=i;else e:for(n=e;null!==Sl;){var r=(i=Sl).sibling,s=i.return;if(El(i),i===n){Sl=null;break e}if(null!==r){r.return=s,Sl=r;break e}Sl=s}}}var tc={getCacheForType:function(e){var t=Er(Rr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,ic=0,rc=null,sc=null,oc=0,ac=0,lc=null,cc=!1,uc=!1,hc=!1,dc=0,fc=0,pc=0,gc=0,mc=0,vc=0,yc=0,_c=null,bc=null,wc=!1,xc=0,kc=1/0,Sc=null,Cc=null,Ec=0,Tc=null,Ic=null,Pc=0,Nc=0,Ac=null,Rc=null,Oc=0,Mc=null;function Dc(){if(0!==(2&ic)&&0!==oc)return oc&-oc;if(null!==M.T){return 0!==jr?jr:Nu()}return Ne()}function Lc(){0===vc&&(vc=0===(536870912&oc)||sr?xe():536870912);var e=sa.current;return null!==e&&(e.flags|=32),vc}function jc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Vc(e,0),Hc(e,oc,vc,!1)),Ce(e,n),0!==(2&ic)&&e===rc||(e===rc&&(0===(2&ic)&&(gc|=n),4===fc&&Hc(e,oc,vc,!1)),ku(e))}function Fc(e,t,n){if(0!==(6&ic))throw Error(o(327));for(var i=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),r=i?function(e,t){var n=ic;ic|=2;var i=Yc(),r=Kc();rc!==e||oc!==t?(Sc=null,kc=te()+500,Vc(e,t)):uc=be(e,t);e:for(;;)try{if(0!==ac&&null!==sc){t=sc;var s=lc;t:switch(ac){case 1:ac=0,lc=null,eu(e,t,s,1);break;case 2:case 9:if(Gr(s)){ac=0,lc=null,Zc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),ku(e)},s.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Gr(s)?(ac=0,lc=null,Zc(t)):(ac=0,lc=null,eu(e,t,s,7));break;case 5:var a=null;switch(sc.tag){case 26:a=sc.memoizedState;case 5:case 27:var l=sc;if(!a||Bh(a)){ac=0,lc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,tu(u)):sc=null}break t}}ac=0,lc=null,eu(e,t,s,5);break;case 6:ac=0,lc=null,eu(e,t,s,6);break;case 8:Wc(),fc=6;break e;default:throw Error(o(462))}}Qc();break}catch(h){qc(e,h)}return yr=vr=null,M.H=i,M.A=r,ic=n,null!==sc?0:(rc=null,oc=0,Ii(),fc)}(e,t):Gc(e,t,!0),s=i;;){if(0===r){uc&&!i&&Hc(e,t,0,!1);break}if(n=e.current.alternate,!s||Uc(n)){if(2===r){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;r=_c;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,a).flags|=256),2!==(a=Gc(l,a,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=s,gc|=s,r=4;break e}s=bc,bc=r,null!==s&&(null===bc?bc=s:bc.push.apply(bc,s))}r=a}if(s=!1,2!==r)continue}}if(1===r){Vc(e,0),Hc(e,t,0,!0);break}e:{switch(i=e,s=r){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Hc(i,t,vc,!cc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(r=xc+300-te())){if(Hc(i,t,vc,!cc),0!==_e(i,0,!0))break e;i.timeoutHandle=ch(zc.bind(null,i,n,bc,Sc,wc,t,vc,gc,yc,cc,s,2,-0,0),r)}else zc(i,n,bc,Sc,wc,t,vc,gc,yc,cc,s,0,-0,0)}break}r=Gc(e,t,!1),s=!1}ku(e)}function zc(e,t,n,i,r,s,a,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Wh={stylesheets:null,count:0,unsuspend:Vh},Gl(t),null!==(d=function(){if(null===Wh)throw Error(o(475));var e=Wh;return e.stylesheets&&0===e.count&&Kh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Kh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(iu.bind(null,e,t,s,n,i,r,a,l,c,h,1,f,p)),void Hc(e,s,a,!u);iu(e,t,s,n,i,r,a,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Gn(s(),r))return!1}catch(Ho){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hc(e,t,n,i){t&=~mc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-fe(r),o=1<<s;i[s]=-1,r&=~o}0!==n&&Ee(e,n,t)}function Bc(){return 0!==(6&ic)||(Su(0,!1),!1)}function Wc(){if(null!==sc){if(0===ac)var e=sc.return;else yr=vr=null,js(e=sc),Xo=null,Qo=0,e=sc;for(;null!==e;)ol(e.alternate,e),e=e.return;sc=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,uh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc(),rc=e,sc=n=Fi(e.current,null),oc=t,ac=0,lc=null,cc=!1,uc=be(e,t),hc=!1,yc=vc=mc=gc=pc=fc=0,bc=_c=null,wc=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-fe(i),s=1<<r;t|=e[r],i&=~s}return dc=t,Ii(),n}function qc(e,t){_s=null,M.H=Yo,t===qr||t===Kr?(t=Zr(),ac=3):t===Yr?(t=Zr(),ac=4):ac=t===Ta?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===sc&&(fc=1,xa(e,Si(t,e.current)))}function Yc(){var e=M.H;return M.H=Yo,null===e?Yo:e}function Kc(){var e=M.A;return M.A=tc,e}function $c(){fc=4,cc||(4194048&oc)!==oc&&null!==sa.current||(uc=!0),0===(134217727&pc)&&0===(134217727&gc)||null===rc||Hc(rc,oc,vc,!1)}function Gc(e,t,n){var i=ic;ic|=2;var r=Yc(),s=Kc();rc===e&&oc===t||(Sc=null,Vc(e,t)),t=!1;var o=fc;e:for(;;)try{if(0!==ac&&null!==sc){var a=sc,l=lc;switch(ac){case 8:Wc(),o=6;break e;case 3:case 2:case 9:case 6:null===sa.current&&(t=!0);var c=ac;if(ac=0,lc=null,eu(e,a,l,c),n&&uc){o=0;break e}break;default:c=ac,ac=0,lc=null,eu(e,a,l,c)}}Xc(),o=fc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,yr=vr=null,ic=i,M.H=r,M.A=s,null===sc&&(rc=null,oc=0,Ii()),o}function Xc(){for(;null!==sc;)Jc(sc)}function Qc(){for(;null!==sc&&!Z();)Jc(sc)}function Jc(e){var t=Ja(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ja(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=ja(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:js(t);default:ol(n,t),t=Ja(n,t=sc=zi(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function eu(e,t,n,i){yr=vr=null,js(t),Xo=null,Qo=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&kr(t,n,r,!0),null!==(n=sa.current)){switch(n.tag){case 13:return null===oa?$c():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===$r?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),du(e,i,r)),!1;case 22:return n.flags|=65536,i===$r?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),du(e,i,r)),!1}throw Error(o(435,n.tag))}return du(e,i,r),$c(),!1}if(sr)return null!==(t=sa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==lr&&gr(Si(e=Error(o(422),{cause:i}),n))):(i!==lr&&gr(Si(t=Error(o(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=Si(i,n),as(e,r=Sa(e.stateNode,i,r)),4!==fc&&(fc=2)),!1;var s=Error(o(520),{cause:i});if(s=Si(s,n),null===_c?_c=[s]:_c.push(s),4!==fc&&(fc=2),null===t)return!0;i=Si(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,as(n,e=Sa(n.stateNode,i,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Cc||!Cc.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,Ea(r=Ca(r),e,n,i),as(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,oc))return fc=1,xa(e,Si(n,e.current)),void(sc=null)}catch(Ho){if(null!==r)throw sc=r,Ho;return fc=1,xa(e,Si(n,e.current)),void(sc=null)}32768&t.flags?(sr||1===i?e=!0:uc||0!==(536870912&oc)?e=!1:(cc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=sa.current)&&13===i.tag&&(i.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);fc=6,sc=null}function iu(e,t,n,i,r,s,a,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Ec);if(0!==(6&ic))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,i,r,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),h=1<<u;a[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==i&&Ee(e,i,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Ti,a,l,c),e===rc&&(sc=rc=null,oc=0),Ic=t,Tc=e,Pc=n,Nc=s,Ac=r,Rc=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,function(e,t){Q(e,t)}(se,(function(){return cu(),null}))):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=M.T,M.T=null,r=D.p,D.p=2,a=ic,ic|=4;try{!function(e,t){if(e=e.containerInfo,nh=id,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(m){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==s||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===r&&(l=a),f===s&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ih={focusedElem:e,selectionRange:n},id=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(s=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var g=va(n.type,r,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(g,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(Ho){hu(n,n.return,Ho)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{ic=a,D.p=r,M.T=i}}Ec=1,ru(),su(),ou()}}function ru(){if(1===Ec){Ec=0;var e=Tc,t=Ic,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var i=D.p;D.p=2;var r=ic;ic|=4;try{Dl(t,e);var s=ih,o=ei(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&ti(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(o=m,m=g,g=o);var v=Jn(a,g),y=Jn(a,m);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var _=h.createRange();_.setStart(v.node,v.offset),f.removeAllRanges(),g>m?(f.addRange(_),f.extend(y.node,y.offset)):(_.setEnd(y.node,y.offset),f.addRange(_))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var b=h[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}id=!!nh,ih=nh=null}finally{ic=r,D.p=i,M.T=n}}e.current=t,Ec=2}}function su(){if(2===Ec){Ec=0;var e=Tc,t=Ic,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var i=D.p;D.p=2;var r=ic;ic|=4;try{Cl(e,t.alternate,t)}finally{ic=r,D.p=i,M.T=n}}Ec=3}}function ou(){if(4===Ec||3===Ec){Ec=0,ee();var e=Tc,t=Ic,n=Pc,i=Rc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Ic=Tc=null,au(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Cc=null),Pe(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=M.T,r=D.p,D.p=2,M.T=null;try{for(var s=e.onRecoverableError,o=0;o<i.length;o++){var a=i[o];s(a.value,{componentStack:a.stack})}}finally{M.T=t,D.p=r}}0!==(3&Pc)&&lu(),ku(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===Mc?Oc++:(Oc=0,Mc=e):Oc=0,Su(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mr(t)))}function lu(e){return ru(),su(),ou(),cu()}function cu(){if(5!==Ec)return!1;var e=Tc,t=Nc;Nc=0;var n=Pe(Pc),i=M.T,r=D.p;try{D.p=32>n?32:n,M.T=null,n=Ac,Ac=null;var s=Tc,a=Pc;if(Ec=0,Ic=Tc=null,Pc=0,0!==(6&ic))throw Error(o(331));var l=ic;if(ic|=4,Jl(s.current),Vl(s,s.current,a,n),ic=l,Su(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{D.p=r,M.T=i,au(e,t)}}function uu(e,t,n){t=Si(n,t),null!==(e=ss(e,t=Sa(e.stateNode,t,2),2))&&(Ce(e,2),ku(e))}function hu(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Cc||!Cc.has(i))){e=Si(n,e),null!==(i=ss(t,n=Ca(2),2))&&(Ea(n,i,t,e),Ce(i,2),ku(i));break}}t=t.return}}function du(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new nc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(hc=!0,r.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===fc||3===fc&&(62914560&oc)===oc&&300>te()-xc?0===(2&ic)&&Vc(e,0):mc|=n,yc===oc&&(yc=0)),ku(e)}function pu(e,t){0===t&&(t=ke()),null!==(e=Ai(e,t))&&(Ce(e,t),ku(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==i&&i.delete(t),pu(e,n)}var vu=null,yu=null,_u=!1,bu=!1,wu=!1,xu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?vu=yu=e:yu=yu.next=e),bu=!0,_u||(_u=!0,dh((function(){0!==(6&ic)?Q(ie,Cu):Eu()})))}function Su(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,i=vu;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var s=0;else{var o=i.suspendedLanes,a=i.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=r&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Pu(i,s))}else s=oc,0===(3&(s=_e(i,i===rc?s:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||be(i,s)||(n=!0,Pu(i,s));i=i.next}}while(n);wu=!1}}function Cu(){Eu()}function Eu(){bu=_u=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==lh&&(lh=e,!0);return lh=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,i=vu;null!==i;){var r=i.next,s=Tu(i,t);0===s?(i.next=null,null===n?vu=r:n.next=r,null===r&&(yu=n)):(n=i,(0!==e||0!==(3&s))&&(bu=!0)),i=r}Su(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-fe(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=we(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=oc,n=_e(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&J(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&J(i),Pe(n)){case 2:case 8:n=re;break;case 32:default:n=se;break;case 268435456:n=ae}return i=Iu.bind(null,e),n=Q(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&J(i),e.callbackPriority=2,e.callbackNode=null,2}function Iu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var i=oc;return 0===(i=_e(e,e===rc?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,i,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Iu.bind(null,e):null)}function Pu(e,t){if(lu())return null;Fc(e,t,!0)}function Nu(){return 0===xu&&(xu=xe()),xu}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<wi.length;Ou++){var Mu=wi[Ou];xi(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}xi(fi,"onAnimationEnd"),xi(pi,"onAnimationIteration"),xi(gi,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(mi,"onTransitionRun"),xi(vi,"onTransitionStart"),xi(yi,"onTransitionCancel"),xi(_i,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function ju(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;s=a,r.currentTarget=c;try{s(r)}catch(Ho){ya(Ho)}r.currentTarget=null,s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;s=a,r.currentTarget=c;try{s(r)}catch(Ho){ya(Ho)}r.currentTarget=null,s=l}}}}function Fu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var i=e+"__bubble";n.has(i)||(Bu(t,e,2,!1),n.add(i))}function zu(e,t,n){var i=0;t&&(i|=4),Bu(n,e,i,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[Uu]){e[Uu]=!0,Ye.forEach((function(t){"selectionchange"!==t&&(Lu.has(t)||zu(t,!1,e),zu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,zu("selectionchange",!1,t))}}function Bu(e,t,n,i){switch(ud(t)){case 2:var r=rd;break;case 8:r=sd;break;default:r=od}n=r.bind(null,t,n,e),r=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wu(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r)break;if(4===o)for(o=i.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===r)return;o=o.return}for(;null!==a;){if(null===(o=He(a)))return;if(5===(c=o.tag)||6===c||26===c||27===c){i=s=o;continue e}a=a.parentNode}}i=i.return}Lt((function(){var i=s,r=At(n),o=[];e:{var a=bi.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fi:case pi:case gi:c=an;break;case _i:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mn;break;case"toggle":case"beforetoggle":c=bn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,g=i;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=jt(g,f))&&h.push(Vu(g,m,p)),d)break;g=g.return}0<h.length&&(a=new c(a,u,null,n,r),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Nt||!(u=n.relatedTarget||n.fromElement)||!He(u)&&!u[Me])&&(c||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?He(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=i),c!==u)){if(h=rn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=mn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==c?a:We(c),p=null==u?a:We(u),(a=new h(m,g+"leave",c,n,r)).target=d,a.relatedTarget=p,m=null,He(r)===i&&((h=new h(f,g+"enter",u,n,r)).target=p,h.relatedTarget=d,m=h),d=m,c&&u)e:{for(f=u,g=0,p=h=c;p;p=Yu(p))g++;for(p=0,m=f;m;m=Yu(m))p++;for(;0<g-p;)h=Yu(h),g--;for(;0<p-g;)f=Yu(f),p--;for(;g--;){if(h===f||null!==f&&h===f.alternate)break e;h=Yu(h),f=Yu(f)}h=null}else h=null;null!==c&&Ku(o,a,c,h,!1),null!==u&&null!==d&&Ku(o,d,u,h,!0)}if("select"===(c=(a=i?We(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=Fn;else if(Rn(a))if(zn)v=$n;else{v=Yn;var y=qn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&Et(i.elementType)&&(v=Fn):v=Kn;switch(v&&(v=v(e,i))?On(o,v,n,r):(y&&y(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&yt(a,"number",a.value)),y=i?We(i):window,e){case"focusin":(Rn(y)||"true"===y.contentEditable)&&(ii=y,ri=i,si=null);break;case"focusout":si=ri=ii=null;break;case"mousedown":oi=!0;break;case"contextmenu":case"mouseup":case"dragend":oi=!1,ai(o,n,r);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":ai(o,n,r)}var _;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Nn?In(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Cn&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Nn&&(_=Vt()):(Bt="value"in(Ht=r)?Ht.value:Ht.textContent,Nn=!0)),0<(y=qu(i,b)).length&&(b=new cn(b,e,null,n,r),o.push({event:b,listeners:y}),_?b.data=_:null!==(_=Pn(n))&&(b.data=_))),(_=Sn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Tn=!0,En);case"textInput":return(e=t.data)===En&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!xn&&In(e,t)?(e=Vt(),Wt=Bt=Ht=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=qu(i,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,r),o.push({event:y,listeners:b}),y.data=_)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var s=Au((r[Oe]||null).action),o=i.submitter;o&&null!==(t=(t=o[Oe]||null)?Au(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new Zt("action","action",null,i,r);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==xu){var e=o?Ru(r,o):new FormData(r);Ao(n,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Ru(r,o):new FormData(r),Ao(n,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(o,e,i,n,r)}ju(o,t)}))}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=jt(e,n))&&i.unshift(Vu(e,r,s)),null!=(r=jt(e,t))&&i.push(Vu(e,r,s))),3===e.tag)return i;e=e.return}return[]}function Yu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,i,r){for(var s=t._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===c||(l=c,r?null!=(c=jt(n,s))&&o.unshift(Vu(n,c,l)):r||null!=(c=jt(n,s))&&o.push(Vu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $u=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Xu(e){return("string"===typeof e?e:""+e).replace($u,"\n").replace(Gu,"")}function Qu(e,t){return t=Xu(t),Xu(e)===t}function Ju(){}function Zu(e,t,n,i,r,s){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||xt(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&xt(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":Ct(e,i,s);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Zu(e,t,"name",r.name,r,null),Zu(e,t,"formEncType",r.formEncType,r,null),Zu(e,t,"formMethod",r.formMethod,r,null),Zu(e,t,"formTarget",r.formTarget,r,null)):(Zu(e,t,"encType",r.encType,r,null),Zu(e,t,"method",r.method,r,null),Zu(e,t,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Ju);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=Pt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,i)}}function eh(e,t,n,i,r,s){switch(n){case"style":Ct(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof i?xt(e,i):("number"===typeof i||"bigint"===typeof i)&&xt(e,""+i);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Oe]||null)?s[n]:null)&&e.removeEventListener(t,s,r),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function th(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var i,r=!1,s=!1;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(null!=a)switch(i){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,i,a,n,null)}}return s&&Zu(e,t,"srcSet",n.srcSet,n,null),void(r&&Zu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=i=a=s=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(null!=h)switch(r){case"name":s=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Zu(e,t,r,h,n,null)}}return vt(e,i,l,c,u,a,s,!1),void ht(e);case"select":for(s in Fu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":r=l;default:Zu(e,t,s,l,n,null)}return t=i,n=a,e.multiple=!!r,void(null!=t?_t(e,!!r,t,!1):null!=n&&_t(e,!!r,n,!0));case"textarea":for(a in Fu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Zu(e,t,a,l,n,null)}return wt(e,r,s,i),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Zu(e,t,c,r,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(r=0;r<Du.length;r++)Fu(Du[r],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,u,r,n,null)}return;default:if(Et(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(r=n[h])&&eh(e,t,h,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Zu(e,t,l,r,n,null))}var nh=null,ih=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function sh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var lh=null;var ch="function"===typeof setTimeout?setTimeout:void 0,uh="function"===typeof clearTimeout?clearTimeout:void 0,hh="function"===typeof Promise?Promise:void 0,dh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hh?function(e){return hh.resolve(null).then(e).catch(fh)}:ch;function fh(e){setTimeout((function(){throw e}))}function ph(e){return"head"===e}function gh(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<i&&8>i){n=i;var o=e.ownerDocument;if(1&n&&xh(o.documentElement),2&n&&xh(o.body),4&n)for(xh(n=o.head),o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}if(0===r)return e.removeChild(s),void Id(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);Id(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function vh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var _h=null;function bh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wh(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function xh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kh=new Map,Sh=new Set;function Ch(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Eh=D.d;D.d={f:function(){var e=Eh.f(),t=Bc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Oo(t):Eh.r(e)},D:function(e){Eh.D(e),Ih("dns-prefetch",e,null)},C:function(e,t){Eh.C(e,t),Ih("preconnect",e,t)},L:function(e,t,n){Eh.L(e,t,n);var i=Th;if(i&&e&&t){var r='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+gt(n.imageSizes)+'"]')):r+='[href="'+gt(e)+'"]';var s=r;switch(t){case"style":s=Nh(e);break;case"script":s=Oh(e)}kh.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kh.set(s,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Ah(s))||"script"===t&&i.querySelector(Mh(s))||(th(t=i.createElement("link"),"link",e),qe(t),i.head.appendChild(t)))}},m:function(e,t){Eh.m(e,t);var n=Th;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+gt(i)+'"][href="'+gt(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Oh(e)}if(!kh.has(s)&&(e=d({rel:"modulepreload",href:e},t),kh.set(s,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Mh(s)))return}th(i=n.createElement("link"),"link",e),qe(i),n.head.appendChild(i)}}},X:function(e,t){Eh.X(e,t);var n=Th;if(n&&e){var i=Ve(n).hoistableScripts,r=Oh(e),s=i.get(r);s||((s=n.querySelector(Mh(r)))||(e=d({src:e,async:!0},t),(t=kh.get(r))&&Fh(e,t),qe(s=n.createElement("script")),th(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}},S:function(e,t,n){Eh.S(e,t,n);var i=Th;if(i&&e){var r=Ve(i).hoistableStyles,s=Nh(e);t=t||"default";var o=r.get(s);if(!o){var a={loading:0,preload:null};if(o=i.querySelector(Ah(s)))a.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kh.get(s))&&jh(e,n);var l=o=i.createElement("link");qe(l),th(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Lh(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:a},r.set(s,o)}}},M:function(e,t){Eh.M(e,t);var n=Th;if(n&&e){var i=Ve(n).hoistableScripts,r=Oh(e),s=i.get(r);s||((s=n.querySelector(Mh(r)))||(e=d({src:e,async:!0,type:"module"},t),(t=kh.get(r))&&Fh(e,t),qe(s=n.createElement("script")),th(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}};var Th="undefined"===typeof document?null:document;function Ih(e,t,n){var i=Th;if(i&&"string"===typeof t&&t){var r=gt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Sh.has(r)||(Sh.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(th(t=i.createElement("link"),"link",e),qe(t),i.head.appendChild(t)))}}function Ph(e,t,n,i){var r,s,a,l,c=(c=V.current)?Ch(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nh(n.href),(i=(n=Ve(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nh(n.href);var u=Ve(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Ah(e)))&&!u._p&&(h.instance=u,h.state.loading=5),kh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kh.set(e,n),u||(r=c,s=e,a=n,l=h.state,r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),th(s,"link",a),qe(s),r.head.appendChild(s))))),t&&null===i)throw Error(o(528,""));return h}if(t&&null!==i)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Oh(n),(i=(n=Ve(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Nh(e){return'href="'+gt(e)+'"'}function Ah(e){return'link[rel="stylesheet"]['+e+"]"}function Rh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Oh(e){return'[src="'+gt(e)+'"]'}function Mh(e){return"script[async]"+e}function Dh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(i)return t.instance=i,qe(i),i;var r=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(i=(e.ownerDocument||e).createElement("style")),th(i,"style",r),Lh(i,n.precedence,e),t.instance=i;case"stylesheet":r=Nh(n.href);var s=e.querySelector(Ah(r));if(s)return t.state.loading|=4,t.instance=s,qe(s),s;i=Rh(n),(r=kh.get(r))&&jh(i,r),qe(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),th(s,"link",i),t.state.loading|=4,Lh(s,n.precedence,e),t.instance=s;case"script":return s=Oh(n.src),(r=e.querySelector(Mh(s)))?(t.instance=r,qe(r),r):(i=n,(r=kh.get(s))&&Fh(i=d({},n),r),qe(r=(e=e.ownerDocument||e).createElement("script")),th(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Lh(i,n.precedence,e));return t.instance}function Lh(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,o=0;o<i.length;o++){var a=i[o];if(a.dataset.precedence===t)s=a;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function jh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zh=null;function Uh(e,t,n){if(null===zh){var i=new Map,r=zh=new Map;r.set(n,i)}else(i=(r=zh).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[ze]||s[Re]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=i.get(o);a?a.push(s):i.set(o,[s])}}return i}function Hh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Wh=null;function Vh(){}function qh(){if(this.count--,0===this.count)if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Yh=null;function Kh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Yh=new Map,t.forEach($h,e),Yh=null,qh.call(e))}function $h(e,t){if(!(4&t.state.loading)){var n=Yh.get(e);if(n)var i=n.get(null);else{n=new Map,Yh.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var o=r[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}o=(r=t.instance).getAttribute("data-precedence"),(s=n.get(o)||i)===i&&n.set(null,r),n.set(o,r),this.count++,i=qh.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Gh={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Xh(e,t,n,i,r,s,o,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Qh(e,t,n,i,r,s,o,a,l,c,u,h){return e=new Xh(e,t,n,o,a,l,c,h),t=1,!0===s&&(t|=24),s=Li(3,null,null,t),e.current=s,s.stateNode=e,(t=Or()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},ns(s),e}function Jh(e){return e?e=Mi:Mi}function Zh(e,t,n,i,r,s){r=Jh(r),null===i.context?i.context=r:i.pendingContext=r,(i=rs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(i.callback=s),null!==(n=ss(e,i,t))&&(jc(n,0,t),os(n,e,t))}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function nd(e){if(13===e.tag){var t=Ai(e,67108864);null!==t&&jc(t,0,67108864),td(e,67108864)}}var id=!0;function rd(e,t,n,i){var r=M.T;M.T=null;var s=D.p;try{D.p=2,od(e,t,n,i)}finally{D.p=s,M.T=r}}function sd(e,t,n,i){var r=M.T;M.T=null;var s=D.p;try{D.p=8,od(e,t,n,i)}finally{D.p=s,M.T=r}}function od(e,t,n,i){if(id){var r=ad(i);if(null===r)Wu(e,t,i,ld,n),_d(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return dd=bd(dd,e,t,n,i,r),!0;case"dragenter":return fd=bd(fd,e,t,n,i,r),!0;case"mouseover":return pd=bd(pd,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return gd.set(s,bd(gd.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,md.set(s,bd(md.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(_d(e,i),4&t&&-1<yd.indexOf(e)){for(;null!==r;){var s=Be(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=ye(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-fe(o);a.entanglements[1]|=l,o&=~l}ku(s),0===(6&ic)&&(kc=te()+500,Su(0,!1))}}break;case 13:null!==(a=Ai(s,2))&&jc(a,0,2),Bc(),td(s,2)}if(null===(s=ad(i))&&Wu(e,t,i,ld,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Wu(e,t,i,null,n)}}function ad(e){return cd(e=At(e))}var ld=null;function cd(e){if(ld=null,null!==(e=He(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ld=e,null}function ud(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case re:return 8;case se:case oe:return 32;case ae:return 268435456;default:return 32}default:return 32}}var hd=!1,dd=null,fd=null,pd=null,gd=new Map,md=new Map,vd=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _d(e,t){switch(e){case"focusin":case"focusout":dd=null;break;case"dragenter":case"dragleave":fd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":gd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function bd(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=Be(t))&&nd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function wd(e){var t=He(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,(function(){if(13===n.tag){var e=Dc();e=Ie(e);var t=Ai(n,e);null!==t&&jc(t,0,e),td(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&nd(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Nt=i,n.target.dispatchEvent(i),Nt=null,t.shift()}return!0}function kd(e,t,n){xd(e)&&n.delete(t)}function Sd(){hd=!1,null!==dd&&xd(dd)&&(dd=null),null!==fd&&xd(fd)&&(fd=null),null!==pd&&xd(pd)&&(pd=null),gd.forEach(kd),md.forEach(kd)}function Cd(e,t){e.blockedOn===t&&(e.blockedOn=null,hd||(hd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Sd)))}var Ed=null;function Td(e){Ed!==e&&(Ed=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){Ed===e&&(Ed=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!==typeof i){if(null===cd(i||n))continue;break}var s=Be(n);null!==s&&(e.splice(t,3),t-=3,Ao(s,{pending:!0,data:r,method:n.method,action:i},i,r))}})))}function Id(e){function t(t){return Cd(t,e)}null!==dd&&Cd(dd,e),null!==fd&&Cd(fd,e),null!==pd&&Cd(pd,e),gd.forEach(t),md.forEach(t);for(var n=0;n<vd.length;n++){var i=vd[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<vd.length&&null===(n=vd[0]).blockedOn;)wd(n),null===n.blockedOn&&vd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],o=r[Oe]||null;if("function"===typeof s)o||Td(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(r=s,o=s[Oe]||null)a=o.formAction;else if(null!==cd(r))continue}else a=o.action;"function"===typeof a?n[i+1]=a:(n.splice(i,3),i-=3),Td(n)}}}function Pd(e){this._internalRoot=e}function Nd(e){this._internalRoot=e}Nd.prototype.render=Pd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Zh(t.current,Dc(),e,t,null,null)},Nd.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zh(e.current,2,null,e,null,null),Bc(),t[Me]=null}},Nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ne();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vd.length&&0!==t&&t<vd[n].priority;n++);vd.splice(n,0,e),0===n&&wd(e)}};var Ad=r.version;if("19.1.0"!==Ad)throw Error(o(527,Ad,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return u(r),e;if(s===i)return u(r),t;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=s;break}if(c===i){a=!0,i=r,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,i=r;break}if(c===i){a=!0,i=s,n=r;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Rd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ue=Od.inject(Rd),he=Od}catch(Dd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,i="",r=_a,s=ba,l=wa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qh(e,1,!1,null,0,n,i,r,s,l,0,null),e[Me]=t.current,Hu(e),new Pd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var i=!1,r="",s=_a,l=ba,c=wa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Qh(e,1,!0,t,0,i,r,s,l,c,0,u)).context=Jh(null),n=t.current,(r=rs(i=Ie(i=Dc()))).callback=null,ss(n,r,i),n=i,t.current.lanes=n,Ce(t,n),ku(t),e[Me]=t.current,Hu(e),new Nd(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,g(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function S(e,t,i,r,s,o){return i=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:o}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function P(e,t,r,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case d:return P((u=e._init)(e._payload),t,r,s,o)}}if(u)return o=o(e),u=""===s?"."+T(e,0):s,w(o)?(r="",null!=u&&(r=u.replace(E,"$&/")+"/"),P(o,t,r,"",(function(e){return e}))):null!=o&&(C(o)&&(l=o,c=r+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+u,o=S(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var h,p=""===s?".":s+":";if(w(e))for(var g=0;g<e.length;g++)u+=P(s=e[g],t,r,a=p+T(s,g),o);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(s=e.next()).done;)u+=P(s=s.value,t,r,a=p+T(s,g++),o);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var i=[],r=0;return P(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=g({},e.props),r=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(i[s]=t[s]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];i.children=o}return S(e.type,r,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var i,r={},s=null;if(null!=t)for(i in void 0!==t.key&&(s=""+t.key),t)k.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}if(e&&e.defaultProps)for(i in o=e.defaultProps)void 0===r[i]&&(r[i]=o[i]);return S(e,s,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var i=e(),r=x.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(O,R)}catch(Ho){R(Ho)}finally{x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=x.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.1.0"},379:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(705);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var i=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},705:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>s})},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var s in i={},t)"key"!==s&&(i[s]=t[s]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function x(e){if(m=!1,w(e),!g)if(null!==i(c))g=!0,S||(S=!0,k());else{var t=i(u);null!==t&&R(x,t.startTime-e)}}var k,S=!1,C=-1,E=5,T=-1;function I(){return!!v||!(t.unstable_now()-T<E)}function P(){if(v=!1,S){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,m&&(m=!1,_(C),C=-1),p=!0;var s=f;try{t:{for(w(e),d=i(c);null!==d&&!(d.expirationTime>e&&I());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,w(e),n=!0;break t}d===i(c)&&r(c),w(e)}else r(c);d=i(c)}if(null!==d)n=!0;else{var l=i(u);null!==l&&R(x,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=P,k=function(){A.postMessage(null)}}else k=function(){y(P,0)};function R(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(m?(_(C),C=-1):m=!0,R(x,s-o))):(e.sortIndex=a,n(c,e),g||p||(g=!0,S||(S=!0,k()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>i[e]));return o.default=()=>i,n.d(s,o),s}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+e+".d9702bb7.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(i,r,s,o)=>{if(e[i])e[i].push(r);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=i),e[i]=[r];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/FYP_Project/",(()=>{var e={792:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise(((n,i)=>r=e[t]=[n,i]));i.push(r[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,s,o=i[0],a=i[1],l=i[2],c=0;if(o.some((t=>0!==e[t]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(t&&t(i);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkfrontend=self.webpackChunkfrontend||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var i,r=n(43),s=n.t(r,2),o=n(391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,i){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function g(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,p=i.Pop,g=null,m=v();function v(){return(u.state||{idx:null}).idx}function y(){p=i.Pop;let e=v(),t=null==e?null:e-m;m=e,g&&g({action:p,location:b.location,delta:t})}function _(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,u.replaceState(a({},u.state,{idx:m}),""));let b={get action(){return p},get location(){return e(s,u)},listen(e){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),g=e,()=>{s.removeEventListener(l,y),g=null}},createHref:e=>t(s,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=i.Push;let r=d(b.location,e,t);n&&n(r,e),m=v()+1;let a=h(r,m),l=b.createHref(r);try{u.pushState(a,"",l)}catch(Ho){if(Ho instanceof DOMException&&"DataCloneError"===Ho.name)throw Ho;s.location.assign(l)}o&&g&&g({action:p,location:b.location,delta:1})},replace:function(e,t){p=i.Replace;let r=d(b.location,e,t);n&&n(r,e),m=v();let s=h(r,m),a=b.createHref(r);u.replaceState(s,"",a),o&&g&&g({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let i=A(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let r=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let o=0;null==s&&o<r.length;++o)s=I(r[o],N(i));return s}function y(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=D([i,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of _(e.path))r(e,t,i);else r(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=_(i.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),r&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:\w+$/,w=3,x=2,k=1,S=10,C=-2,E=e=>"*"===e;function T(e,t){let n=e.split("/"),i=n.length;return n.some(E)&&(i+=C),t&&(i+=x),n.filter((e=>!E(e))).reduce(((e,t)=>e+(b.test(t)?w:""===t?k:S)),i)}function I(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(i,c.params);let u=e.route;s.push({params:i,pathname:D([r,c.pathname]),pathnameBase:L(D([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=D([r,c.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1),l=i.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Ho){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Ho+")."),e}}(a[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function N(e){try{return decodeURI(e)}catch(Ho){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Ho+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function R(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=p(e):(r=a({},e),c(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let s,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(i||null==l)s=n;else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:j(i),hash:F(r)}}(r,s),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const D=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],H=(new Set(U),["get",...U]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},B.apply(this,arguments)}const W=r.createContext(null);const V=r.createContext(null);const q=r.createContext(null);const Y=r.createContext(null);const K=r.createContext({outlet:null,matches:[],isDataRoute:!1});const $=r.createContext(null);function G(){return null!=r.useContext(Y)}function X(){return G()||c(!1),r.useContext(Y).location}function Q(e){r.useContext(q).static||r.useLayoutEffect(e)}function J(){let{isDataRoute:e}=r.useContext(K);return e?function(){let{router:e}=le(oe.UseNavigateStable),t=ue(ae.UseNavigateStable),n=r.useRef(!1);Q((()=>{n.current=!0}));let i=r.useCallback((function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?e.navigate(i):e.navigate(i,B({fromRouteId:t},r)))}),[e,t]);return i}():function(){G()||c(!1);let e=r.useContext(W),{basename:t,navigator:n}=r.useContext(q),{matches:i}=r.useContext(K),{pathname:s}=X(),o=JSON.stringify(O(i).map((e=>e.pathnameBase))),a=r.useRef(!1);Q((()=>{a.current=!0}));let l=r.useCallback((function(i,r){if(void 0===r&&(r={}),!a.current)return;if("number"===typeof i)return void n.go(i);let l=M(i,JSON.parse(o),s,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:D([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)}),[t,n,o,s,e]);return l}()}function Z(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=r.useContext(K),{pathname:s}=X(),o=JSON.stringify(O(i).map((e=>e.pathnameBase)));return r.useMemo((()=>M(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function ee(e,t,n){G()||c(!1);let{navigator:s}=r.useContext(q),{matches:o}=r.useContext(K),a=o[o.length-1],l=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let h,d=X();if(t){var f;let e="string"===typeof t?p(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),h=e}else h=d;let g=h.pathname||"/",m=v(e,{pathname:"/"===u?g:g.slice(u.length)||"/"});let y=se(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:D([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n);return t&&y?r.createElement(Y.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:i.Pop}},y):y}function te(){let e=function(){var e;let t=r.useContext($),n=ce(ae.UseRouteError),i=ue(ae.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const ne=r.createElement(te,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function re(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(W);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(K.Provider,{value:t},i)}function se(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let o=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,i,s)=>{let l=i.route.id?null==a?void 0:a[i.route.id]:null,c=null;n&&(c=i.route.errorElement||ne);let u=t.concat(o.slice(0,s+1)),h=()=>{let t;return t=l?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(re,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),ae=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ae||{});function le(e){let t=r.useContext(W);return t||c(!1),t}function ce(e){let t=r.useContext(V);return t||c(!1),t}function ue(e){let t=function(){let e=r.useContext(K);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}s.startTransition;function he(e){let{to:t,replace:n,state:i,relative:s}=e;G()||c(!1);let{matches:o}=r.useContext(K),{pathname:a}=X(),l=J(),u=M(t,O(o).map((e=>e.pathnameBase)),a,"path"===s),h=JSON.stringify(u);return r.useEffect((()=>l(JSON.parse(h),{replace:n,state:i,relative:s})),[l,h,s,n,i]),null}function de(e){c(!1)}function fe(e){let{basename:t="/",children:n=null,location:s,navigationType:o=i.Pop,navigator:a,static:l=!1}=e;G()&&c(!1);let u=t.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:u,navigator:a,static:l})),[u,a,l]);"string"===typeof s&&(s=p(s));let{pathname:d="/",search:f="",hash:g="",state:m=null,key:v="default"}=s,y=r.useMemo((()=>{let e=A(d,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:m,key:v},navigationType:o}}),[u,d,f,g,m,v,o]);return null==y?null:r.createElement(q.Provider,{value:h},r.createElement(Y.Provider,{children:n,value:y}))}function pe(e){let{children:t,location:n}=e;return ee(ge(t),n)}new Promise((()=>{}));r.Component;function ge(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ge(e.props.children,s));e.type!==de&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ge(e.props.children,s)),n.push(o)})),n}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},me.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];const _e=s.startTransition;function be(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return d("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,a)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},p=r.useCallback((e=>{h&&_e?_e((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>l.listen(p)),[l,p]),r.createElement(fe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l})}const we="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:u,to:h,preventScrollReset:d}=e,p=ve(e,ye),{basename:g}=r.useContext(q),m=!1;if("string"===typeof h&&xe.test(h)&&(n=h,we))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=A(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:m=!0}catch(_){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;G()||c(!1);let{basename:i,navigator:s}=r.useContext(q),{hash:o,pathname:a,search:l}=Z(e,{relative:n}),u=a;return"/"!==i&&(u="/"===a?i:D([i,a])),s.createHref({pathname:u,search:l,hash:o})}(h,{relative:s}),y=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a}=void 0===t?{}:t,l=J(),c=X(),u=Z(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:f(c)===f(u);l(e,{replace:n,state:s,preventScrollReset:o,relative:a})}}),[c,l,u,i,s,n,e,o,a])}(h,{replace:a,state:l,target:u,preventScrollReset:d,relative:s});return r.createElement("a",me({},p,{href:n||v,onClick:m||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:t,target:u}))}));var Se,Ce;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Se||(Se={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ce||(Ce={}));const Ee=!1,Te=!1,Ie="${JSCORE_VERSION}",Pe=function(e,t){if(!e)throw Ne(t)},Ne=function(e){return new Error("Firebase Database ("+Ie+") INTERNAL ASSERT FAILED: "+e)},Ae=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,o=s?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ae(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==o||null==a)throw new Oe;const l=t<<2|s>>4;if(i.push(l),64!==o){const e=s<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(e){const t=Ae(e);return Re.encodeByteArray(t,!0)},De=function(e){return Me(e).replace(/\./g,"")},Le=function(e){try{return Re.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function je(e){return Fe(void 0,e)}function Fe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Fe(e[n],t[n]));return e}const ze=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ue=()=>{try{return ze()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/FYP_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_API_KEY:"854932294567319",REACT_APP_CLOUDINARY_API_SECRET:"LWXTwlOA2ncBbP5eB0DC4DpzZTg",REACT_APP_CLOUDINARY_CLOUD_NAME:"serenaproject",REACT_APP_FIREBASE_API_KEY:"AIzaSyBgng3iTWUxr8mTyEZZqO69eUZySqkl6iw",REACT_APP_FIREBASE_APP_ID:"1:316408488634:web:0882bf787f4afbba1b1883",REACT_APP_FIREBASE_AUTH_DOMAIN:"fyp-iomt.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://fyp-iomt-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-Y8EHX676KZ",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"316408488634",REACT_APP_FIREBASE_PROJECT_ID:"fyp-iomt",REACT_APP_FIREBASE_STORAGE_BUCKET:"fyp-iomt.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Le(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},He=e=>{var t,n;return null===(n=null===(t=Ue())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Be=()=>{var e;return null===(e=Ue())||void 0===e?void 0:e.config},We=e=>{var t;return null===(t=Ue())||void 0===t?void 0:t["_".concat(e)]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function qe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function Ke(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function $e(){return!0===Ee||!0===Te}class Ge extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(Qe,((e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,t):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new Ge(n,s,t)}}const Qe=/\{\$([^}]+)}/g;function Je(e){return JSON.parse(e)}function Ze(e){return JSON.stringify(e)}const et=function(e){let t={},n={},i={},r="";try{const s=e.split(".");t=Je(Le(s[0])||""),n=Je(Le(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:i,signature:r}};function tt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function it(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function rt(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function st(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(ot(n)&&ot(s)){if(!st(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function ot(e){return null!==e&&"object"===typeof e}function at(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function lt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function ct(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ut{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let i,r,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^o&(a^l),r=1518500249):(i=o^a^l,r=1859775393):u<60?(i=o&a|l&(o|a),r=2400959708):(i=o^a^l,r=3395469782);const e=(s<<5|s>>>27)+i+c+r+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let s=this.inbuf_;for(;i<t;){if(0===s)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<t;)if(r[s]=e[i],++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}class ht{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=dt),void 0===i.error&&(i.error=dt),void 0===i.complete&&(i.complete=dt);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function dt(){}function ft(e,t){return"".concat(e," failed: ").concat(t," argument ")}const pt=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function gt(e){return e&&e._delegate?e._delegate:e}function mt(e){return e.endsWith(".cloudworkstations.dev")}async function vt(e){return(await fetch(e,{credentials:"include"})).ok}class yt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _t="[DEFAULT]";class bt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ve;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_t})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===_t?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(s){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t;return this.component?this.component.multipleInstances?e:_t:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class wt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const xt=[];var kt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kt||(kt={}));const St={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Ct=kt.INFO,Et={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Tt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=Et[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(e.name,":"),...s)};class It{constructor(e){this.name=e,this._logLevel=Ct,this._logHandler=Tt,this._userLogHandler=null,xt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?St[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}var Pt=n(379);let Nt,At;const Rt=new WeakMap,Ot=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,Lt=new WeakMap;let jt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ot.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ut(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ft(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(At||(At=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(Ht(this),n),Ut(Rt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Ut(e.apply(Ht(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=e.call(Ht(this),t,...i);return Mt.set(s,t.sort?t.sort():[t]),Ut(s)}}function zt(e){return"function"===typeof e?Ft(e):(e instanceof IDBTransaction&&function(e){if(Ot.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));Ot.set(e,t)}(e),t=e,(Nt||(Nt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,jt):e);var t}function Ut(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(Ut(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Rt.set(t,e)})).catch((()=>{})),Lt.set(t,e),t}(e);if(Dt.has(e))return Dt.get(e);const t=zt(e);return t!==e&&(Dt.set(e,t),Lt.set(t,e)),t}const Ht=e=>Lt.get(e);const Bt=["get","getKey","getAll","getAllKeys","count"],Wt=["put","add","delete","clear"],Vt=new Map;function qt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Vt.get(t))return Vt.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Wt.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Bt.includes(n))return;const s=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&t.done]))[0]};return Vt.set(t,s),s}!function(e){jt=e(jt)}((e=>(0,Pt.A)((0,Pt.A)({},e),{},{get:(t,n,i)=>qt(t,n)||e.get(t,n,i),has:(t,n)=>!!qt(t,n)||e.has(t,n)})));class Yt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Kt="@firebase/app",$t="0.12.1",Gt=new It("@firebase/app"),Xt="@firebase/app-compat",Qt="@firebase/analytics-compat",Jt="@firebase/analytics",Zt="@firebase/app-check-compat",en="@firebase/app-check",tn="@firebase/auth",nn="@firebase/auth-compat",rn="@firebase/database",sn="@firebase/data-connect",on="@firebase/database-compat",an="@firebase/functions",ln="@firebase/functions-compat",cn="@firebase/installations",un="@firebase/installations-compat",hn="@firebase/messaging",dn="@firebase/messaging-compat",fn="@firebase/performance",pn="@firebase/performance-compat",gn="@firebase/remote-config",mn="@firebase/remote-config-compat",vn="@firebase/storage",yn="@firebase/storage-compat",_n="@firebase/firestore",bn="@firebase/vertexai",wn="@firebase/firestore-compat",xn="firebase",kn="[DEFAULT]",Sn={[Kt]:"fire-core",[Xt]:"fire-core-compat",[Jt]:"fire-analytics",[Qt]:"fire-analytics-compat",[en]:"fire-app-check",[Zt]:"fire-app-check-compat",[tn]:"fire-auth",[nn]:"fire-auth-compat",[rn]:"fire-rtdb",[sn]:"fire-data-connect",[on]:"fire-rtdb-compat",[an]:"fire-fn",[ln]:"fire-fn-compat",[cn]:"fire-iid",[un]:"fire-iid-compat",[hn]:"fire-fcm",[dn]:"fire-fcm-compat",[fn]:"fire-perf",[pn]:"fire-perf-compat",[gn]:"fire-rc",[mn]:"fire-rc-compat",[vn]:"fire-gcs",[yn]:"fire-gcs-compat",[_n]:"fire-fst",[wn]:"fire-fst-compat",[bn]:"fire-vertex","fire-js":"fire-js",[xn]:"fire-js-all"},Cn=new Map,En=new Map,Tn=new Map;function In(e,t){try{e.container.addComponent(t)}catch(n){Gt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pn(e){const t=e.name;if(Tn.has(t))return Gt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Tn.set(t,e);for(const n of Cn.values())In(n,e);for(const n of En.values())In(n,e);return!0}function Nn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function An(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Rn=new Xe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class On{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new yt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const Mn="11.7.1";function Dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:kn,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!==typeof r||!r)throw Rn.create("bad-app-name",{appName:String(r)});if(n||(n=Be()),!n)throw Rn.create("no-options");const s=Cn.get(r);if(s){if(st(n,s.options)&&st(i,s.config))return s;throw Rn.create("duplicate-app",{appName:r})}const o=new wt(r);for(const l of Tn.values())o.addComponent(l);const a=new On(n,i,o);return Cn.set(r,a),a}function Ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;const t=Cn.get(e);if(!t&&e===kn&&Be())return Dn();if(!t)throw Rn.create("no-app",{appName:e});return t}function jn(e,t,n){var i;let r=null!==(i=Sn[e])&&void 0!==i?i:e;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Gt.warn(e.join(" "))}Pn(new yt("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}const Fn="firebase-heartbeat-store";let zn=null;function Un(){return zn||(zn=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Ut(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(Ut(o.result),e.oldVersion,e.newVersion,Ut(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Fn)}catch(n){console.warn(n)}}}).catch((e=>{throw Rn.create("idb-open",{originalErrorMessage:e.message})}))),zn}async function Hn(e,t){try{const n=(await Un()).transaction(Fn,"readwrite"),i=n.objectStore(Fn);await i.put(t,Bn(e)),await n.done}catch(n){if(n instanceof Ge)Gt.warn(n.message);else{const e=Rn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Gt.warn(e.message)}}}function Bn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Wn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Vn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Gt.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Vn(),{heartbeatsToSend:n,unsentEntries:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),Yn(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Yn(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=De(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Gt.warn(t),""}}}function Vn(){return(new Date).toISOString().substring(0,10)}class qn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(Ho){t(Ho)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Un()).transaction(Fn),n=await t.objectStore(Fn).get(Bn(e));return await t.done,n}catch(t){if(t instanceof Ge)Gt.warn(t.message);else{const e=Rn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Gt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Hn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Hn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Yn(e){return De(JSON.stringify({version:2,heartbeats:e})).length}var Kn;Kn="",Pn(new yt("platform-logger",(e=>new Yt(e)),"PRIVATE")),Pn(new yt("heartbeat",(e=>new Wn(e)),"PRIVATE")),jn(Kt,$t,Kn),jn(Kt,$t,"esm2017"),jn("fire-js","");function $n(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Gn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xn=Gn,Qn=new Xe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jn=new It("@firebase/auth");function Zn(e){if(Jn.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Jn.error("Auth (".concat(Mn,"): ").concat(e),...n)}}function ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw ri(e,...n)}function ti(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ri(e,...n)}function ni(e,t,n){const i=Object.assign(Object.assign({},Xn()),{[t]:n});return new Xe("auth","Firebase",i).create(t,{appName:e.name})}function ii(e){return ni(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ri(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return Qn.create(e,...n)}function si(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw ri(t,...i)}}function oi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Zn(t),new Error(t)}function ai(e,t){e||oi(t)}function li(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ci(){return"http:"===ui()||"https:"===ui()}function ui(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function hi(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ci()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class di{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile=Ye()||Ke()}get(){return hi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fi(e,t){ai(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class pi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mi=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vi=new di(3e4,6e4);function yi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _i(e,t,n,i){return bi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const o=at(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},r);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&mt(e.emulatorConfig.host)&&(l.credentials="include"),pi.fetch()(await xi(e,e.config.apiHost,n,o),l)}))}async function bi(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},gi),t);try{const t=new Si(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Ci(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ci(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ci(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ci(e,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ni(e,a,o);ei(e,a)}}catch(r){if(r instanceof Ge)throw r;ei(e,"network-request-failed",{message:String(r)})}}async function wi(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await _i(e,t,n,i,r);return"mfaPendingCredential"in s&&ei(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function xi(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i),s=e,o=s.config.emulator?fi(e.config,r):"".concat(e.config.apiScheme,"://").concat(r);if(mi.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function ki(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Si{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ti(this.auth,"network-request-failed"))),vi.get())}))}}function Ci(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ti(e,t,i);return r.customData._tokenResponse=n,r}function Ei(e){return void 0!==e&&void 0!==e.enterprise}class Ti{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ki(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ii(e,t){return _i(e,"GET","/v2/recaptchaConfig",yi(e,t))}async function Pi(e,t){return _i(e,"POST","/v1/accounts:lookup",t)}function Ni(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Ai(e){return 1e3*Number(e)}function Ri(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return Zn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Le(n);return e?JSON.parse(e):(Zn("Failed to decode base64 JWT payload"),null)}catch(r){return Zn("Caught error parsing JWT payload as JSON",null===r||void 0===r?void 0:r.toString()),null}}function Oi(e){const t=Ri(e);return si(t,"internal-error"),si("undefined"!==typeof t.exp,"internal-error"),si("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Mi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Ge&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Di{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Li{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ni(this.lastLoginAt),this.creationTime=Ni(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ji(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Mi(e,Pi(n,{idToken:i}));si(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Fi(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Li(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Fi(e){return e.map((e=>{var{providerId:t}=e,n=$n(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class zi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){si(e.idToken,"internal-error"),si("undefined"!==typeof e.idToken,"internal-error"),si("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Oi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){si(0!==e.length,"internal-error");const t=Oi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(si(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await bi(e,{},(async()=>{const n=at({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=await xi(e,i,"/v1/token","key=".concat(r)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",pi.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new zi;return n&&(si("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(si("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(si("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zi,this.toJSON())}_performRefresh(){return oi("not implemented")}}function Ui(e,t){si("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Hi{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=$n(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Di(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Li(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Mi(this,this.stsTokenManager.getToken(this.auth,e));return si(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=gt(e),i=await n.getIdToken(t),r=Ri(i);si(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ni(Ai(r.auth_time)),issuedAtTime:Ni(Ai(r.iat)),expirationTime:Ni(Ai(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=gt(e);await ji(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(si(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){si(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ji(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await Mi(this,async function(e,t){return _i(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:x}=t;si(y&&x,e,"internal-error");const k=zi.fromJSON(this.name,x);si("string"===typeof y,e,"internal-error"),Ui(u,e.name),Ui(h,e.name),si("boolean"===typeof _,e,"internal-error"),si("boolean"===typeof b,e,"internal-error"),Ui(d,e.name),Ui(f,e.name),Ui(p,e.name),Ui(g,e.name),Ui(m,e.name),Ui(v,e.name);const S=new Hi({uid:y,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new zi;i.updateFromServerResponse(t);const r=new Hi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ji(r),r}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];si(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?Fi(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length),o=new zi;o.updateFromIdToken(n);const a=new Hi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Li(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(a,l),a}}const Bi=new Map;function Wi(e){ai(e instanceof Function,"Expected a class definition");let t=Bi.get(e);return t?(ai(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bi.set(e,t),t)}class Vi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vi.type="NONE";const qi=Vi;function Yi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ki{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Yi(this.userKey,i.apiKey,r),this.fullPersistenceKey=Yi("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Pi(this.auth,{idToken:e}).catch((()=>{}));return t?Hi._fromGetAccountInfoResponse(this.auth,t,e):null}return Hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ki(Wi(qi),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||Wi(qi);const s=Yi(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const i=await Pi(e,{idToken:t}).catch((()=>{}));if(!i)break;n=await Hi._fromGetAccountInfoResponse(e,i,t)}else n=Hi._fromJSON(e,t);c!==r&&(o=n),r=c;break}}catch(l){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(l){}}))),new Ki(r,e,n)):new Ki(r,e,n)}}function $i(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ji(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Gi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(er(t))return"Blackberry";if(tr(t))return"Webos";if(Xi(t))return"Safari";if((t.includes("chrome/")||Qi(t))&&!t.includes("edge/"))return"Chrome";if(Zi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/firefox\//i.test(e)}function Xi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/crios\//i.test(e)}function Ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/iemobile/i.test(e)}function Zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/android/i.test(e)}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/blackberry/i.test(e)}function tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/webos/i.test(e)}function nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ir(){return function(){const e=qe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return nr(e)||Zi(e)||tr(e)||er(e)||/windows phone/i.test(e)||Ji(e)}function sr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$i(qe());break;case"Worker":t="".concat($i(qe()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Mn,"/").concat(i)}class or{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(z_){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ar{constructor(e){var t,n,i,r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,r,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsUppercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class lr{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ur(this),this.idTokenSubscription=new ur(this),this.beforeStateQueue=new or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wi(t)),this._initializationPromise=this.queue((async()=>{var n,i,r;if(!this._deleted&&(this.persistenceManager=await Ki.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Pi(this,{idToken:e}),n=await Hi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(An(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return si(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ji(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(ii(this));const t=e?gt(e):null;return t&&si(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&si(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return An(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(ii(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Wi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return _i(e,"GET","/v2/passwordPolicy",yi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ar(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return _i(e,"POST","/v2/accounts:revokeToken",yi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wi(e)||this._popupRedirectResolver;si(t,this,"argument-error"),this.redirectPersistenceManager=await Ki.create(this,[Wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(si(o,this,"internal-error"),o.then((()=>{s||r(this.currentUser)})),"function"===typeof t){const r=e.addObserver(t,n,i);return()=>{s=!0,r()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return si(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Jn.logLevel<=kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Jn.warn("Auth (".concat(Mn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function cr(e){return gt(e)}class ur{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ht(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return si(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dr(e){return hr.loadJS(e)}function fr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class pr{constructor(){this.enterprise=new gr}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gr{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mr="NO_RECAPTCHA";class vr{constructor(e){this.type="recaptcha-enterprise",this.auth=cr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;Ei(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(mr)}))})):i(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new pr).execute("siteKey",{action:"verify"})}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ii(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new Ti(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&Ei(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=hr.recaptchaEnterpriseScript;0!==t.length&&(t+=r),dr(t).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function yr(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new vr(e);let o;if(r)o=mr;else try{o=await s.verify(n)}catch(Ho){o=await s.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function _r(e,t,n,i,r){var s,o;if("EMAIL_PASSWORD_PROVIDER"===r){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await yr(e,t,n,"getOobCode"===n);return i(e,r)}return i(e,t).catch((async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await yr(e,t,n,"getOobCode"===n);return i(e,r)}return Promise.reject(r)}))}if("PHONE_PROVIDER"===r){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const r=await yr(e,t,n);return i(e,r).catch((async r=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(r.code==="auth/".concat("missing-recaptcha-token")||r.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const r=await yr(e,t,n,!1,!0);return i(e,r)}return Promise.reject(r)}))}{const r=await yr(e,t,n,!1,!0);return i(e,r)}}return Promise.reject(r+" provider is not supported.")}async function br(e){const t=cr(e),n=await Ii(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new Ti(n);if(null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,i.isAnyProviderEnabled()){new vr(t).verify()}}function wr(e,t,n){const i=cr(e);si(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=xr(t),{host:o,port:a}=function(e){const t=xr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:kr(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:kr(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(s,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator)return si(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),void si(st(c,i.config.emulator)&&st(u,i.emulatorConfig),i,"emulator-config-failed");i.config.emulator=c,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}(),mt(o)&&vt("".concat(s,"//").concat(o).concat(l))}function xr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function kr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Sr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,t){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function Cr(e,t){return _i(e,"POST","/v1/accounts:signUp",t)}async function Er(e,t){return wi(e,"POST","/v1/accounts:signInWithPassword",yi(e,t))}class Tr extends Sr{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Tr(e,t,"password")}static _fromEmailAndCode(e,t){return new Tr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return _r(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Er,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return wi(e,"POST","/v1/accounts:signInWithEmailLink",yi(e,t))}(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return _r(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return wi(e,"POST","/v1/accounts:signInWithEmailLink",yi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ir(e,t){return wi(e,"POST","/v1/accounts:signInWithIdp",yi(e,t))}class Pr extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ei("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=$n(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Pr(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return Ir(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ir(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ir(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=at(t)}return e}}async function Nr(e,t){return _i(e,"POST","/v1/accounts:sendVerificationCode",yi(e,t))}const Ar={USER_NOT_FOUND:"user-not-found"};class Rr extends Sr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Rr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Rr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return wi(e,"POST","/v1/accounts:signInWithPhoneNumber",yi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await wi(e,"POST","/v1/accounts:signInWithPhoneNumber",yi(e,t));if(n.temporaryProof)throw Ci(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return wi(e,"POST","/v1/accounts:signInWithPhoneNumber",yi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ar)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Rr({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Or{constructor(e){var t,n,i,r,s,o;const a=lt(ct(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);si(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=lt(ct(e)).link,n=t?lt(ct(t)).deep_link_id:null,i=lt(ct(e)).deep_link_id;return(i?lt(ct(i)).link:null)||i||n||t||e}(e);try{return new Or(t)}catch(n){return null}}}class Mr{constructor(){this.providerId=Mr.PROVIDER_ID}static credential(e,t){return Tr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Or.parseLink(t);return si(n,"argument-error"),Tr._fromEmailAndCode(e,n.code,n.tenantId)}}Mr.PROVIDER_ID="password",Mr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Dr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lr extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class jr extends Lr{constructor(){super("facebook.com")}static credential(e){return Pr._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch(n){return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com",jr.PROVIDER_ID="facebook.com";class Fr extends Lr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pr._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Fr.credential(n,i)}catch(r){return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com",Fr.PROVIDER_ID="google.com";class zr extends Lr{constructor(){super("github.com")}static credential(e){return Pr._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch(n){return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com",zr.PROVIDER_ID="github.com";class Ur extends Lr{constructor(){super("twitter.com")}static credential(e,t){return Pr._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ur.credential(n,i)}catch(r){return null}}}async function Hr(e,t){return wi(e,"POST","/v1/accounts:signUp",yi(e,t))}Ur.TWITTER_SIGN_IN_METHOD="twitter.com",Ur.PROVIDER_ID="twitter.com";class Br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await Hi._fromIdTokenResponse(e,n,i),s=Wr(n);return new Br({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Wr(n);return new Br({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Wr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Vr extends Ge{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Vr.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Vr(e,t,n,i)}}function qr(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Vr._fromErrorAndOperation(e,n,t,i);throw n}))}async function Yr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await Mi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Br._forOperation(e,"link",i)}async function Kr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if(An(i.app))return Promise.reject(ii(i));const r="reauthenticate";try{const s=await Mi(e,qr(i,r,t,e),n);si(s.idToken,i,"internal-error");const o=Ri(s.idToken);si(o,i,"internal-error");const{sub:a}=o;return si(e.uid===a,i,"user-mismatch"),Br._forOperation(e,r,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&ei(i,"user-mismatch"),s}}async function $r(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(An(e.app))return Promise.reject(ii(e));const i="signIn",r=await qr(e,i,t),s=await Br._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function Gr(e,t){return $r(cr(e),t)}async function Xr(e){const t=cr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Qr(e,t){let{displayName:n,photoURL:i}=t;if(void 0===n&&void 0===i)return;const r=gt(e),s={idToken:await r.getIdToken(),displayName:n,photoUrl:i,returnSecureToken:!0},o=await Mi(r,async function(e,t){return _i(e,"POST","/v1/accounts:update",t)}(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}async function Jr(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=await Mi(e,async function(e,t){return _i(e,"POST","/v1/accounts:update",t)}(i,r));await e._updateTokensIfNecessary(s,!0)}function Zr(e,t,n,i){return gt(e).onAuthStateChanged(t,n,i)}function es(e,t){return _i(e,"POST","/v2/accounts/mfaEnrollment:start",yi(e,t))}new WeakMap;const ts="__sak";class ns{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ts,"1"),this.storage.removeItem(ts),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class is extends ns{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);ir()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}is.type="LOCAL";const rs=is;function ss(e){var t,n;const i=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp("".concat(i,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(r))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function os(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class as{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=os(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return ss(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=os(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=os(e);if(window.cookieStore){const e=e=>{const i=e.changed.find((e=>e.name===n));i&&t(i.value);e.deleted.find((e=>e.name===n))&&t(null)},i=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,i),window.cookieStore.addEventListener("change",e)}let i=ss(n);const r=setInterval((()=>{const e=ss(n);e!==i&&(t(e),i=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(r)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}as.type="COOKIE";class ls extends ns{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ls.type="SESSION";const cs=ls;class us{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new us(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}us.receivers=[];class ds{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=hs("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function fs(){return window}function ps(){return"undefined"!==typeof fs().WorkerGlobalScope&&"function"===typeof fs().importScripts}const gs="firebaseLocalStorageDb",ms="firebaseLocalStorage",vs="fbase_key";class ys{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function _s(e,t){return e.transaction([ms],t?"readwrite":"readonly").objectStore(ms)}function bs(){const e=indexedDB.open(gs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ms,{keyPath:vs})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ms)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(gs);return new ys(e).toPromise()}(),t(await bs()))}))}))}async function ws(e,t,n){const i=_s(e,!0).put({[vs]:t,value:n});return new ys(i).toPromise()}function xs(e,t){const n=_s(e,!0).delete(t);return new ys(n).toPromise()}class ks{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await bs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ps()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=us._getInstance(ps()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ds(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bs();return await ws(e,ts,"1"),await xs(e,ts),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ws(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=_s(e,!1).get(t),i=await new ys(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>xs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=_s(e,!1).getAll();return new ys(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ks.type="LOCAL";const Ss=ks;function Cs(e,t){return _i(e,"POST","/v2/accounts/mfaSignIn:start",yi(e,t))}fr("rcb"),new di(3e4,6e4);const Es="recaptcha";async function Ts(e,t,n){var i;if(!e._getRecaptchaConfig())try{await br(e)}catch(Ho){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){si("enroll"===t.type,e,"internal-error");const i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=_r(e,i,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===mr){si((null===n||void 0===n?void 0:n.type)===Es,e,"argument-error");return es(e,await Is(e,t,n))}return es(e,t)}),"PHONE_PROVIDER"),o=await s.catch((e=>Promise.reject(e)));return o.phoneSessionInfo.sessionInfo}{si("signin"===t.type,e,"internal-error");const s=(null===(i=r.multiFactorHint)||void 0===i?void 0:i.uid)||r.multiFactorUid;si(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=_r(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===mr){si((null===n||void 0===n?void 0:n.type)===Es,e,"argument-error");return Cs(e,await Is(e,t,n))}return Cs(e,t)}),"PHONE_PROVIDER"),l=await a.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=_r(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===mr){si((null===n||void 0===n?void 0:n.type)===Es,e,"argument-error");return Nr(e,await Is(e,t,n))}return Nr(e,t)}),"PHONE_PROVIDER"),s=await i.catch((e=>Promise.reject(e)));return s.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Is(e,t,n){si(n.type===Es,e,"argument-error");const i=await n.verify();si("string"===typeof i,e,"argument-error");const r=Object.assign({},t);if("phoneEnrollmentInfo"in r){const e=r.phoneEnrollmentInfo.phoneNumber,t=r.phoneEnrollmentInfo.captchaResponse,n=r.phoneEnrollmentInfo.clientType,s=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:i,captchaResponse:t,clientType:n,recaptchaVersion:s}}),r}if("phoneSignInInfo"in r){const e=r.phoneSignInInfo.captchaResponse,t=r.phoneSignInInfo.clientType,n=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:e,clientType:t,recaptchaVersion:n}}),r}return Object.assign(r,{recaptchaToken:i}),r}class Ps{constructor(e){this.providerId=Ps.PROVIDER_ID,this.auth=cr(e)}verifyPhoneNumber(e,t){return Ts(this.auth,e,gt(t))}static credential(e,t){return Rr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ps.credentialFromTaggedObject(t)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?Rr._fromTokenResponse(n,i):null}}function Ns(e,t){return t?Wi(t):(si(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ps.PROVIDER_ID="phone",Ps.PHONE_SIGN_IN_METHOD="phone";class As extends Sr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ir(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ir(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ir(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Rs(e){return $r(e.auth,new As(e),e.bypassAuthState)}function Os(e){const{auth:t,user:n}=e;return si(n,t,"internal-error"),Kr(n,new As(e),e.bypassAuthState)}async function Ms(e){const{auth:t,user:n}=e;return si(n,t,"internal-error"),Yr(n,new As(e),e.bypassAuthState)}class Ds{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rs;case"linkViaPopup":case"linkViaRedirect":return Ms;case"reauthViaPopup":case"reauthViaRedirect":return Os;default:ei(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ls=new di(2e3,1e4);class js extends Ds{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return si(e,this.auth,"internal-error"),e}async onExecution(){ai(1===this.filter.length,"Popup operations only handle one event");const e=hs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ti(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ls.get())};e()}}js.currentPopupAction=null;const Fs=new Map;class zs extends Ds{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Fs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Bs(t),i=Hs(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Fs.set(this.auth._key(),e)}return this.bypassAuthState||Fs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Us(e,t){Fs.set(e._key(),t)}function Hs(e){return Wi(e._redirectPersistence)}function Bs(e){return Yi("pendingRedirect",e.config.apiKey,e.name)}async function Ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(An(e.app))return Promise.reject(ii(e));const i=cr(e),r=Ns(i,t),s=new zs(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class Vs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ys(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ys(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ti(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qs(e))}saveEventToCache(e){this.cachedEventUids.add(qs(e)),this.lastProcessedEventTime=Date.now()}}function qs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ys(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Ks=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$s=/^https?/;async function Gs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return _i(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const i of t)try{if(Xs(i))return}catch(n){}ei(e,"unauthorized-domain")}function Xs(e){const t=li(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!$s.test(n))return!1;if(Ks.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Qs=new di(3e4,6e4);function Js(){const e=fs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Zs(e){return new Promise(((t,n)=>{var i,r,s;function o(){Js(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Js(),n(ti(e,"network-request-failed"))},timeout:Qs.get()})}if(null===(r=null===(i=fs().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=fs().gapi)||void 0===s?void 0:s.load)){const t=fr("iframefcb");return fs()[t]=()=>{gapi.load?o():n(ti(e,"network-request-failed"))},dr("".concat(hr.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw eo=null,e}))}let eo=null;const to=new di(5e3,15e3),no={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},io=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ro(e){const t=e.config;si(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:t.apiKey,appName:e.name,v:Mn},r=io.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(at(i).slice(1))}async function so(e){const t=await function(e){return eo=eo||Zs(e),eo}(e),n=fs().gapi;return si(n,e,"internal-error"),t.open({where:document.body,url:ro(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:no,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=ti(e,"network-request-failed"),s=fs().setTimeout((()=>{i(r)}),to.get());function o(){fs().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{i(r)}))}))))}const oo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ao{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function lo(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},oo),{width:i.toString(),height:r.toString(),top:s,left:o}),c=qe().toLowerCase();n&&(a=Qi(c)?"_blank":n),Gi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")}),"");if(function(){var e;return nr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new ao(null);const h=window.open(t||"",a,u);si(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ao(h)}const co="__/auth/handler",uo="emulator/auth/handler",ho=encodeURIComponent("fac");async function fo(e,t,n,i,r,s){si(e.config.authDomain,e,"auth-domain-config-required"),si(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Mn,eventId:r};if(t instanceof Dr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",it(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Lr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ho,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(co);return fi(t,uo)}(e),"?").concat(at(a).slice(1)).concat(c)}const po="webStorageSupport";const go=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cs,this._completeRedirectFn=Ws,this._overrideRedirectResult=Us}async _openPopup(e,t,n,i){var r;ai(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return lo(e,await fo(e,t,n,li(),i),hs())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){fs().location.href=e}(await fo(e,t,n,li(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ai(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await so(e),n=new Vs(e);return t.register("authEvent",(t=>{si(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(po,{type:po},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[po];void 0!==r&&t(!!r),ei(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Gs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rr()||Xi()||nr()}};var mo="@firebase/auth",vo="1.10.2";class yo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){si(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _o=We("authIdTokenMaxAge")||300;let bo=null;var wo,xo;wo={loadJS:e=>new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=ti("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},hr=wo,xo="Browser",Pn(new yt("auth",((e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;si(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:xo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sr(xo)},c=new lr(i,r,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Wi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Pn(new yt("auth-internal",(e=>(e=>new yo(e))(cr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),jn(mo,vo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(xo)),jn(mo,vo,"esm2017");const ko="@firebase/database",So="1.0.15";let Co="";function Eo(e){Co=e}class To{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Je(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Io{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return tt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Po=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new To(t)}}catch(t){}return new Io},No=Po("localStorage"),Ao=Po("sessionStorage"),Ro=new It("@firebase/database"),Oo=function(){let e=1;return function(){return e++}}(),Mo=function(e){const t=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const t=r-55296;i++,Pe(i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}(e),n=new ut;n.update(t);const i=n.digest();return Re.encodeByteArray(i)},Do=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Do.apply(null,n):e+="object"===typeof n?Ze(n):n,e+=" "}return e};let Lo=null,jo=!0;const Fo=function(e,t){Pe(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ro.logLevel=kt.VERBOSE,Lo=Ro.log.bind(Ro),t&&Ao.set("logging_enabled",!0)):"function"===typeof e?Lo=e:(Lo=null,Ao.remove("logging_enabled"))},zo=function(){if(!0===jo&&(jo=!1,null===Lo&&!0===Ao.get("logging_enabled")&&Fo(!0)),Lo){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=Do.apply(null,t);Lo(i)}},Uo=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];zo(e,...n)}},Ho=function(){const e="FIREBASE INTERNAL ERROR: "+Do(...arguments);Ro.error(e)},Bo=function(){const e="FIREBASE FATAL ERROR: ".concat(Do(...arguments));throw Ro.error(e),new Error(e)},Wo=function(){const e="FIREBASE WARNING: "+Do(...arguments);Ro.warn(e)},Vo=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},qo="[MIN_NAME]",Yo="[MAX_NAME]",Ko=function(e,t){if(e===t)return 0;if(e===qo||t===Yo)return-1;if(t===qo||e===Yo)return 1;{const n=ta(e),i=ta(t);return null!==n?null!==i?n-i===0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},$o=function(e,t){return e===t?0:e<t?-1:1},Go=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ze(t))},Xo=function(e){if("object"!==typeof e||null===e)return Ze(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=Ze(t[i]),n+=":",n+=Xo(e[t[i]]);return n+="}",n},Qo=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Jo(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Zo=function(e){Pe(!Vo(e),"Invalid JSON number");const t=1023;let n,i,r,s,o;0===e?(i=0,r=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),i=s+t,r=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(i=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const ea=new RegExp("^-?(0*)\\d{1,10}$"),ta=function(e){if(ea.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},na=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw Wo("Exception was thrown by user callback.",e),t}),Math.floor(0))}},ia=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class ra{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,An(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Wo('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class sa{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(zo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wo(e)}}class oa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}oa.OWNER="owner";const aa="5",la=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ca="ac",ua="websocket",ha="long_polling";class da{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=No.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&No.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function fa(e,t,n){let i;if(Pe("string"===typeof t,"typeof type must == string"),Pe("object"===typeof n,"typeof params must == object"),t===ua)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ha)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const r=[];return Jo(n,((e,t)=>{r.push(e+"="+t)})),i+r.join("&")}class pa{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;tt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return je(this.counters_)}}const ga={},ma={};function va(e){const t=e.toString();return ga[t]||(ga[t]=new pa),ga[t]}class ya{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&na((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const _a="start";class ba{constructor(e,t,n,i,r,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uo(e),this.stats_=va(t),this.urlFn=e=>(this.appCheckToken&&(e[ca]=this.appCheckToken),fa(t,ha,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ya(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if($e()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new wa((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r===_a)n.id=s,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[_a]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=aa,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[ca]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&la.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ba.forceAllow_=!0}static forceDisallow(){ba.forceDisallow_=!0}static isAvailable(){return!$e()&&(!!ba.forceAllow_||!ba.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ze(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Me(t),i=Qo(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if($e())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ze(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class wa{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,$e())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Oo(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=wa.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){zo("frame writing exception"),r.stack&&zo(r.stack),zo(r)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||zo("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(i),n()}))}addTag(e,t){$e()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{zo("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let xa=null;"undefined"!==typeof MozWebSocket?xa=MozWebSocket:"undefined"!==typeof WebSocket&&(xa=WebSocket);class ka{constructor(e,t,n,i,r,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uo(this.connId),this.stats_=va(t),this.connURL=ka.connectionURL_(t,s,o,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const s={};return s.v=aa,!$e()&&"undefined"!==typeof location&&location.hostname&&la.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),i&&(s[ca]=i),r&&(s.p=r),fa(e,ua,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,No.set("previous_websocket_failure",!0);try{let e;if($e()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(aa,"/").concat(Co,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/FYP_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_API_KEY:"854932294567319",REACT_APP_CLOUDINARY_API_SECRET:"LWXTwlOA2ncBbP5eB0DC4DpzZTg",REACT_APP_CLOUDINARY_CLOUD_NAME:"serenaproject",REACT_APP_FIREBASE_API_KEY:"AIzaSyBgng3iTWUxr8mTyEZZqO69eUZySqkl6iw",REACT_APP_FIREBASE_APP_ID:"1:316408488634:web:0882bf787f4afbba1b1883",REACT_APP_FIREBASE_AUTH_DOMAIN:"fyp-iomt.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://fyp-iomt-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-Y8EHX676KZ",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"316408488634",REACT_APP_FIREBASE_PROJECT_ID:"fyp-iomt",REACT_APP_FIREBASE_STORAGE_BUCKET:"fyp-iomt.firebasestorage.app"},i=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;i&&(e.proxy={origin:i})}this.mySock=new xa(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){ka.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==xa&&!ka.forceDisallow_}static previouslyFailed(){return No.isInMemoryStorage||!0===No.get("previous_websocket_failure")}markConnectionHealthy(){No.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Je(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Pe(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ze(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Qo(t,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ka.responsesRequiredToBeHealthy=2,ka.healthyTimeout=3e4;class Sa{static get ALL_TRANSPORTS(){return[ba,ka]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=ka&&ka.isAvailable();let n=t&&!ka.previouslyFailed();if(e.webSocketOnly&&(t||Wo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ka];else{const e=this.transports_=[];for(const t of Sa.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Sa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Sa.globalTransportInitialized_=!1;class Ca{constructor(e,t,n,i,r,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uo("c:"+this.id+":"),this.transportManager_=new Sa(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ia((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Go("t",e),n=Go("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Go("t",e),n=Go("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Go("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Ho("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ho("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),aa!==n&&Wo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),ia((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ia((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(No.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ea{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Ta{constructor(e){this.allowedEvents_=e,this.listeners_={},Pe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(let e=0;e<r.length;e++)r[e].callback.apply(r[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){Pe(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Ia extends Ta{static getInstance(){return new Ia}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ye()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return Pe("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Pa{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Na(){return new Pa("")}function Aa(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ra(e){return e.pieces_.length-e.pieceNum_}function Oa(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Pa(e.pieces_,t)}function Ma(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Da(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function La(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Pa(t,0)}function ja(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof Pa)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Pa(n,0)}function Fa(e){return e.pieceNum_>=e.pieces_.length}function za(e,t){const n=Aa(e),i=Aa(t);if(null===n)return t;if(n===i)return za(Oa(e),Oa(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ua(e,t){if(Ra(e)!==Ra(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Ha(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Ra(e)>Ra(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Ba{constructor(e,t){this.errorPrefix_=t,this.parts_=Da(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=pt(this.parts_[n]);Wa(this)}}function Wa(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Va(e))}function Va(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class qa extends Ta{static getInstance(){return new qa}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return Pe("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ya=1e3;class Ka extends Ea{constructor(e,t,n,i,r,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=Ka.nextPersistentConnectionId_++,this.log_=Uo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ya,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!$e())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qa.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ia.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(Ze(r)),Pe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new Ve,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),Pe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Pe(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(s).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,(r=>{const s=r.d,o=r.s;Ka.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",r),"ok"!==o&&this.removeListen_(n,i),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&tt(e,"w")){const n=nt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Wo("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=et(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=et(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Pe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,(e=>{i&&setTimeout((()=>{i(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const s={p:t,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Ho("Unrecognized action received from server: "+Ze(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Pe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ya,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ya,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ya),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ka.nextConnectionId_++,r=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){Pe(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?zo("getToken() completed but was canceled"):(zo("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new Ca(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Wo(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),r))}catch(Ho){this.log_("Failed to get token: "+Ho),s||(this.repoInfo_.nodeAdmin&&Wo(Ho),a())}}}interrupt(e){zo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],it(this.interruptReasons_)&&(this.reconnectDelay_=Ya,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Xo(e))).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new Pa(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){zo("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){zo("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";$e()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Co.replace(/\./g,"-")]=1,Ye()?e["framework.cordova"]=1:Ke()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ia.getInstance().currentlyOnline();return it(this.interruptReasons_)&&e}}Ka.nextPersistentConnectionId_=0,Ka.nextConnectionId_=0;class $a{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new $a(e,t)}}class Ga{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new $a(qo,e),i=new $a(qo,t);return 0!==this.compare(n,i)}minPost(){return $a.MIN}}let Xa;class Qa extends Ga{static get __EMPTY_NODE(){return Xa}static set __EMPTY_NODE(e){Xa=e}compare(e,t){return Ko(e.name,t.name)}isDefinedOn(e){throw Ne("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return $a.MIN}maxPost(){return new $a(Yo,Xa)}makePost(e,t){return Pe("string"===typeof e,"KeyIndex indexValue must always be a string."),new $a(e,Xa)}toString(){return".key"}}const Ja=new Qa;class Za{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class el{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:el.RED,this.left=null!=i?i:tl.EMPTY_NODE,this.right=null!=r?r:tl.EMPTY_NODE}copy(e,t,n,i,r){return new el(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return tl.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return tl.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,el.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,el.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}el.RED=!0,el.BLACK=!1;class tl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tl.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new tl(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,el.BLACK,null,null))}remove(e){return new tl(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,el.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Za(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Za(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Za(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Za(this.root_,null,this.comparator_,!0,e)}}function nl(e,t){return Ko(e.name,t.name)}function il(e,t){return Ko(e,t)}let rl;tl.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new el(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sl=function(e){return"number"===typeof e?"number:"+Zo(e):"string:"+e},ol=function(e){if(e.isLeafNode()){const t=e.val();Pe("string"===typeof t||"number"===typeof t||"object"===typeof t&&tt(t,".sv"),"Priority must be a string or number.")}else Pe(e===rl||e.isEmpty(),"priority of unexpected type.");Pe(e===rl||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let al,ll,cl;class ul{static set __childrenNodeConstructor(e){al=e}static get __childrenNodeConstructor(){return al}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ul.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Pe(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ol(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ul(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:ul.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Fa(e)?this:".priority"===Aa(e)?this.priorityNode_:ul.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:ul.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Aa(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Pe(".priority"!==n||1===Ra(e),".priority must be the last token in a path"),this.updateImmediateChild(n,ul.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oa(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sl(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Zo(this.value_):this.value_,this.lazyHash_=Mo(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ul.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ul.__childrenNodeConstructor?-1:(Pe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=ul.VALUE_TYPE_ORDER.indexOf(t),r=ul.VALUE_TYPE_ORDER.indexOf(n);return Pe(i>=0,"Unknown leaf type: "+t),Pe(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}ul.VALUE_TYPE_ORDER=["object","boolean","number","string"];const hl=new class extends Ga{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?Ko(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return $a.MIN}maxPost(){return new $a(Yo,new ul("[PRIORITY-POST]",cl))}makePost(e,t){const n=ll(e);return new $a(t,new ul("[PRIORITY-POST]",n))}toString(){return".priority"}},dl=Math.log(2);class fl{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/dl,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pl=function(e,t,n,i){e.sort(t);const r=function(t,i){const s=i-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new el(a,o.node,el.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=r(t,l),u=r(l+1,i);return o=e[l],a=n?n(o):o,new el(a,o.node,el.BLACK,c,u)}},s=function(t){let i=null,s=null,o=e.length;const a=function(t,i){const s=o-t,a=o;o-=t;const c=r(s+1,a),u=e[s],h=n?n(u):u;l(new el(h,u.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(s=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,el.BLACK):(a(i,el.BLACK),a(i,el.RED))}return s}(new fl(e.length));return new tl(i||t,s)};let gl;const ml={};class vl{static get Default(){return Pe(ml&&hl,"ChildrenNode.ts has not been loaded"),gl=gl||new vl({".priority":ml},{".priority":hl}),gl}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=nt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof tl?t:null}hasIndex(e){return tt(this.indexSet_,e.toString())}addIndex(e,t){Pe(e!==Ja,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator($a.Wrap);let s,o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),n.push(o),o=r.getNext();s=i?pl(n,e.getCompare()):ml;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new vl(c,l)}addToIndexes(e,t){const n=rt(this.indexes_,((n,i)=>{const r=nt(this.indexSet_,i);if(Pe(r,"Missing index implementation for "+i),n===ml){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator($a.Wrap);let s=i.getNext();for(;s;)s.name!==e.name&&n.push(s),s=i.getNext();return n.push(e),pl(n,r.getCompare())}return ml}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new $a(e.name,i))),r.insert(e,e.node)}}));return new vl(n,this.indexSet_)}removeFromIndexes(e,t){const n=rt(this.indexes_,(n=>{if(n===ml)return n;{const i=t.get(e.name);return i?n.remove(new $a(e.name,i)):n}}));return new vl(n,this.indexSet_)}}let yl;class _l{static get EMPTY_NODE(){return yl||(yl=new _l(new tl(il),null,vl.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ol(this.priorityNode_),this.children_.isEmpty()&&Pe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yl}updatePriority(e){return this.children_.isEmpty()?this:new _l(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?yl:t}}getChild(e){const t=Aa(e);return null===t?this:this.getImmediateChild(t).getChild(Oa(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Pe(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new $a(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const s=i.isEmpty()?yl:this.priorityNode_;return new _l(i,s,r)}}updateChild(e,t){const n=Aa(e);if(null===n)return t;{Pe(".priority"!==Aa(e)||1===Ra(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(Oa(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(hl,((s,o)=>{t[s]=o.val(e),n++,r&&_l.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):r=!1})),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sl(this.getPriority().val())+":"),this.forEachChild(hl,((t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)})),this.lazyHash_=""===e?"":Mo(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new $a(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new $a(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new $a(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,$a.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,$a.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bl?-1:0}withIndex(e){if(e===Ja||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new _l(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ja||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(hl),n=t.getIterator(hl);let i=e.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===Ja?null:this.indexMap_.get(e.toString())}}_l.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const bl=new class extends _l{constructor(){super(new tl(il),_l.EMPTY_NODE,vl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _l.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties($a,{MIN:{value:new $a(qo,_l.EMPTY_NODE)},MAX:{value:new $a(Yo,bl)}}),Qa.__EMPTY_NODE=_l.EMPTY_NODE,ul.__childrenNodeConstructor=_l,rl=bl,function(e){cl=e}(bl);function wl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return _l.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Pe(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new ul(e,wl(t))}if(e instanceof Array){let n=_l.EMPTY_NODE;return Jo(e,((t,i)=>{if(tt(e,t)&&"."!==t.substring(0,1)){const e=wl(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(wl(t))}{const n=[];let i=!1;if(Jo(e,((e,t)=>{if("."!==e.substring(0,1)){const r=wl(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new $a(e,r)))}})),0===n.length)return _l.EMPTY_NODE;const r=pl(n,nl,(e=>e.name),il);if(i){const e=pl(n,hl.getCompare());return new _l(r,wl(t),new vl({".priority":e},{".priority":hl}))}return new _l(r,wl(t),vl.Default)}}!function(e){ll=e}(wl);class xl extends Ga{constructor(e){super(),this.indexPath_=e,Pe(!Fa(e)&&".priority"!==Aa(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?Ko(e.name,t.name):r}makePost(e,t){const n=wl(e),i=_l.EMPTY_NODE.updateChild(this.indexPath_,n);return new $a(t,i)}maxPost(){const e=_l.EMPTY_NODE.updateChild(this.indexPath_,bl);return new $a(Yo,e)}toString(){return Da(this.indexPath_,0).join("/")}}const kl=new class extends Ga{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Ko(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return $a.MIN}maxPost(){return $a.MAX}makePost(e,t){const n=wl(e);return new $a(t,n)}toString(){return".value"}};function Sl(e){return{type:"value",snapshotNode:e}}function Cl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function El(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Tl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Il{constructor(e){this.index_=e}updateChild(e,t,n,i,r,s){Pe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(El(t,o)):Pe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(Cl(t,n)):s.trackChildChange(Tl(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(hl,((e,i)=>{t.hasChild(e)||n.trackChildChange(El(e,i))})),t.isLeafNode()||t.forEachChild(hl,((t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(Tl(t,i,r))}else n.trackChildChange(Cl(t,i))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?_l.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pl{constructor(e){this.indexedFilter_=new Il(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Pl.getStartPost_(e),this.endPost_=Pl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,r,s){return this.matches(new $a(t,n))||(n=_l.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=_l.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(_l.EMPTY_NODE);const r=this;return t.forEachChild(hl,((e,t)=>{r.matches(new $a(e,t))||(i=i.updateImmediateChild(e,_l.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Nl{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Pl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,s){return this.rangedFilter_.matches(new $a(t,n))||(n=_l.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,s):this.fullLimitUpdateChild_(e,t,n,r,s)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=_l.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=_l.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(_l.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,_l.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;Pe(o.numChildren()===this.limit_,"");const a=new $a(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=r&&r.trackChildChange(Tl(t,n,e)),o.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(El(t,e));const n=o.updateImmediateChild(t,_l.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange(Cl(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=r&&(r.trackChildChange(El(l.name,l.node)),r.trackChildChange(Cl(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,_l.EMPTY_NODE)):e}}class Al{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hl}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Pe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Pe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qo}hasEnd(){return this.endSet_}getIndexEndValue(){return Pe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Pe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Pe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hl}copy(){const e=new Al;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Rl(e){const t={};if(e.isDefault())return t;let n;if(e.index_===hl?n="$priority":e.index_===kl?n="$value":e.index_===Ja?n="$key":(Pe(e.index_ instanceof xl,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ze(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ze(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ze(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ze(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ze(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ol(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==hl&&(t.i=e.index_.toString()),t}class Ml extends Ea{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Pe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=Uo("p:rest:"),this.listens_={}}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const s=Ml.getListenId_(e,n),o={};this.listens_[s]=o;const a=Rl(e._queryParams);this.restRequest_(r+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(r,a,!1,n),nt(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}}))}unlisten(e,t){const n=Ml.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Rl(e._queryParams),n=e._path.toString(),i=new Ve;return this.restRequest_(n+".json",t,((e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))})),i.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((i=>{let[r,s]=i;r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+at(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=Je(a.responseText)}catch(e){Wo("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Wo("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class Dl{constructor(){this.rootNode_=_l.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Ll(){return{value:null,children:new Map}}function jl(e,t,n){if(Fa(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=Aa(t);e.children.has(i)||e.children.set(i,Ll());jl(e.children.get(i),t=Oa(t),n)}}function Fl(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,i)=>{Fl(i,new Pa(t.toString()+"/"+e),n)}))}class zl{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Jo(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Ul{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new zl(e);const n=1e4+2e4*Math.random();ia(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Jo(e,((e,i)=>{i>0&&tt(this.statsToReport_,e)&&(t[e]=i,n=!0)})),n&&this.server_.reportStats(t),ia(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Hl;function Bl(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Hl||(Hl={}));class Wl{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Hl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Fa(this.path)){if(null!=this.affectedTree.value)return Pe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pa(e));return new Wl(Na(),t,this.revert)}}return Pe(Aa(this.path)===e,"operationForChild called for unrelated child."),new Wl(Oa(this.path),this.affectedTree,this.revert)}}class Vl{constructor(e,t){this.source=e,this.path=t,this.type=Hl.LISTEN_COMPLETE}operationForChild(e){return Fa(this.path)?new Vl(this.source,Na()):new Vl(this.source,Oa(this.path))}}class ql{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Hl.OVERWRITE}operationForChild(e){return Fa(this.path)?new ql(this.source,Na(),this.snap.getImmediateChild(e)):new ql(this.source,Oa(this.path),this.snap)}}class Yl{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Hl.MERGE}operationForChild(e){if(Fa(this.path)){const t=this.children.subtree(new Pa(e));return t.isEmpty()?null:t.value?new ql(this.source,Na(),t.value):new Yl(this.source,Na(),t)}return Pe(Aa(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Yl(this.source,Oa(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Kl{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Fa(e))return this.isFullyInitialized()&&!this.filtered_;const t=Aa(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class $l{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Gl(e,t,n,i,r,s){const o=i.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ne("Should only compare child_ events.");const i=new $a(t.childName,t.snapshotNode),r=new $a(n.childName,n.snapshotNode);return e.index_.compare(i,r)}(e,t,n))),o.forEach((n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);r.forEach((r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))}))}))}function Xl(e,t){return{eventCache:e,serverCache:t}}function Ql(e,t,n,i){return Xl(new Kl(t,n,i),e.serverCache)}function Jl(e,t,n,i){return Xl(e.eventCache,new Kl(t,n,i))}function Zl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ec(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let tc;class nc{static fromObject(e){let t=new nc(null);return Jo(e,((e,n)=>{t=t.set(new Pa(e),n)})),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(tc||(tc=new tl($o)),tc);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Na(),value:this.value};if(Fa(e))return null;{const n=Aa(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(Oa(e),t);if(null!=r){return{path:ja(new Pa(n),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Fa(e))return this;{const t=Aa(e),n=this.children.get(t);return null!==n?n.subtree(Oa(e)):new nc(null)}}set(e,t){if(Fa(e))return new nc(t,this.children);{const n=Aa(e),i=(this.children.get(n)||new nc(null)).set(Oa(e),t),r=this.children.insert(n,i);return new nc(this.value,r)}}remove(e){if(Fa(e))return this.children.isEmpty()?new nc(null):new nc(null,this.children);{const t=Aa(e),n=this.children.get(t);if(n){const i=n.remove(Oa(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new nc(null):new nc(this.value,r)}return this}}get(e){if(Fa(e))return this.value;{const t=Aa(e),n=this.children.get(t);return n?n.get(Oa(e)):null}}setTree(e,t){if(Fa(e))return t;{const n=Aa(e),i=(this.children.get(n)||new nc(null)).setTree(Oa(e),t);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new nc(this.value,r)}}fold(e){return this.fold_(Na(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((i,r)=>{n[i]=r.fold_(ja(e,i),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Na(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(Fa(e))return null;{const i=Aa(e),r=this.children.get(i);return r?r.findOnPath_(Oa(e),ja(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Na(),t)}foreachOnPath_(e,t,n){if(Fa(e))return this;{this.value&&n(t,this.value);const i=Aa(e),r=this.children.get(i);return r?r.foreachOnPath_(Oa(e),ja(t,i),n):new nc(null)}}foreach(e){this.foreach_(Na(),e)}foreach_(e,t){this.children.inorderTraversal(((n,i)=>{i.foreach_(ja(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class ic{constructor(e){this.writeTree_=e}static empty(){return new ic(new nc(null))}}function rc(e,t,n){if(Fa(t))return new ic(new nc(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=za(r,t);return s=s.updateChild(o,n),new ic(e.writeTree_.set(r,s))}{const i=new nc(n),r=e.writeTree_.setTree(t,i);return new ic(r)}}}function sc(e,t,n){let i=e;return Jo(n,((e,n)=>{i=rc(i,ja(t,e),n)})),i}function oc(e,t){if(Fa(t))return ic.empty();{const n=e.writeTree_.setTree(t,new nc(null));return new ic(n)}}function ac(e,t){return null!=lc(e,t)}function lc(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(za(n.path,t)):null}function cc(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(hl,((e,n)=>{t.push(new $a(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new $a(e,n.value))})),t}function uc(e,t){if(Fa(t))return e;{const n=lc(e,t);return new ic(null!=n?new nc(n):e.writeTree_.subtree(t))}}function hc(e){return e.writeTree_.isEmpty()}function dc(e,t){return fc(Na(),e.writeTree_,t)}function fc(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal(((t,r)=>{".priority"===t?(Pe(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=fc(ja(e,t),r,n)})),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(ja(e,".priority"),i)),n}}function pc(e,t){return Tc(t,e)}function gc(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Pe(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&mc(t,i.path)?r=!1:Ha(i.path,t.path)&&(s=!0)),o--}if(r){if(s)return function(e){e.visibleWrites=yc(e.allWrites,vc,Na()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(i.snap)e.visibleWrites=oc(e.visibleWrites,i.path);else{Jo(i.children,(t=>{e.visibleWrites=oc(e.visibleWrites,ja(i.path,t))}))}return!0}return!1}function mc(e,t){if(e.snap)return Ha(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ha(ja(e.path,n),t))return!0;return!1}function vc(e){return e.visible}function yc(e,t,n){let i=ic.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const e=s.path;let t;if(s.snap)Ha(n,e)?(t=za(n,e),i=rc(i,t,s.snap)):Ha(e,n)&&(t=za(e,n),i=rc(i,Na(),s.snap.getChild(t)));else{if(!s.children)throw Ne("WriteRecord should have .snap or .children");if(Ha(n,e))t=za(n,e),i=sc(i,t,s.children);else if(Ha(e,n))if(t=za(e,n),Fa(t))i=sc(i,Na(),s.children);else{const e=nt(s.children,Aa(t));if(e){const n=e.getChild(Oa(t));i=rc(i,Na(),n)}}}}}return i}function _c(e,t,n,i,r){if(i||r){const s=uc(e.visibleWrites,t);if(!r&&hc(s))return n;if(r||null!=n||ac(s,Na())){const s=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(Ha(e.path,t)||Ha(t,e.path))};return dc(yc(e.allWrites,s,t),n||_l.EMPTY_NODE)}return null}{const i=lc(e.visibleWrites,t);if(null!=i)return i;{const i=uc(e.visibleWrites,t);if(hc(i))return n;if(null!=n||ac(i,Na())){return dc(i,n||_l.EMPTY_NODE)}return null}}}function bc(e,t,n,i){return _c(e.writeTree,e.treePath,t,n,i)}function wc(e,t){return function(e,t,n){let i=_l.EMPTY_NODE;const r=lc(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(hl,((e,t)=>{i=i.updateImmediateChild(e,t)})),i;if(n){const r=uc(e.visibleWrites,t);return n.forEachChild(hl,((e,t)=>{const n=dc(uc(r,new Pa(e)),t);i=i.updateImmediateChild(e,n)})),cc(r).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}return cc(uc(e.visibleWrites,t)).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}(e.writeTree,e.treePath,t)}function xc(e,t,n,i){return function(e,t,n,i,r){Pe(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ja(t,n);if(ac(e.visibleWrites,s))return null;{const t=uc(e.visibleWrites,s);return hc(t)?r.getChild(n):dc(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function kc(e,t){return function(e,t){return lc(e.visibleWrites,t)}(e.writeTree,ja(e.treePath,t))}function Sc(e,t,n,i,r,s){return function(e,t,n,i,r,s,o){let a;const l=uc(e.visibleWrites,t),c=lc(l,Na());if(null!=c)a=c;else{if(null==n)return[];a=dc(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let l=n.getNext();for(;l&&e.length<r;)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,i,r,s)}function Cc(e,t,n){return function(e,t,n,i){const r=ja(t,n),s=lc(e.visibleWrites,r);if(null!=s)return s;if(i.isCompleteForChild(n))return dc(uc(e.visibleWrites,r),i.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Ec(e,t){return Tc(ja(e.treePath,t),e.writeTree)}function Tc(e,t){return{treePath:e,writeTree:t}}class Ic{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Pe("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Pe(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,Tl(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,El(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,Cl(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw Ne("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,Tl(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Pc=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Nc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Kl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cc(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ec(this.viewCache_),r=Sc(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}function Ac(e,t,n,i,r){const s=new Ic;let o,a;if(n.type===Hl.OVERWRITE){const l=n;l.source.fromUser?o=Mc(e,t,l.path,l.snap,i,r,s):(Pe(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Fa(l.path),o=Oc(e,t,l.path,l.snap,i,r,a,s))}else if(n.type===Hl.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,i,r,s,o){let a=t;return i.foreach(((i,l)=>{const c=ja(n,i);Dc(t,Aa(c))&&(a=Mc(e,a,c,l,r,s,o))})),i.foreach(((i,l)=>{const c=ja(n,i);Dc(t,Aa(c))||(a=Mc(e,a,c,l,r,s,o))})),a}(e,t,l.path,l.children,i,r,s):(Pe(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=jc(e,t,l.path,l.children,i,r,a,s))}else if(n.type===Hl.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,i,r,s){let o;if(null!=kc(i,n))return t;{const a=new Nc(i,t,r),l=t.eventCache.getNode();let c;if(Fa(n)||".priority"===Aa(n)){let n;if(t.serverCache.isFullyInitialized())n=bc(i,ec(t));else{const e=t.serverCache.getNode();Pe(e instanceof _l,"serverChildren would be complete if leaf node"),n=wc(i,e)}c=e.filter.updateFullNode(l,n,s)}else{const r=Aa(n);let u=Cc(i,r,t.serverCache);null==u&&t.serverCache.isCompleteForChild(r)&&(u=l.getImmediateChild(r)),c=null!=u?e.filter.updateChild(l,r,u,Oa(n),a,s):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(l,r,_l.EMPTY_NODE,Oa(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=bc(i,ec(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=kc(i,Na()),Ql(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,i,r,s):function(e,t,n,i,r,s,o){if(null!=kc(r,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(Fa(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Oc(e,t,n,l.getNode().getChild(n),r,s,a,o);if(Fa(n)){let i=new nc(null);return l.getNode().forEachChild(Ja,((e,t)=>{i=i.set(new Pa(e),t)})),jc(e,t,n,i,r,s,a,o)}return t}{let c=new nc(null);return i.foreach(((e,t)=>{const i=ja(n,e);l.isCompleteForPath(i)&&(c=c.set(e,l.getNode().getChild(i)))})),jc(e,t,n,c,r,s,a,o)}}(e,t,a.path,a.affectedTree,i,r,s)}else{if(n.type!==Hl.LISTEN_COMPLETE)throw Ne("Unknown operation type: "+n.type);o=function(e,t,n,i,r){const s=t.serverCache,o=Jl(t,s.getNode(),s.isFullyInitialized()||Fa(n),s.isFiltered());return Rc(e,o,n,i,Pc,r)}(e,t,n.path,i,s)}const l=s.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Zl(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(Sl(Zl(t)))}}(t,o,l),{viewCache:o,changes:l}}function Rc(e,t,n,i,r,s){const o=t.eventCache;if(null!=kc(i,n))return t;{let a,l;if(Fa(n))if(Pe(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=ec(t),r=wc(i,n instanceof _l?n:_l.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),r,s)}else{const n=bc(i,ec(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=Aa(n);if(".priority"===c){Pe(1===Ra(n),"Can't have a priority with additional path components");const r=o.getNode();l=t.serverCache.getNode();const s=xc(i,n,r,l);a=null!=s?e.filter.updatePriority(r,s):o.getNode()}else{const u=Oa(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=xc(i,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=Cc(i,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,r,s):o.getNode()}}return Ql(t,a,o.isFullyInitialized()||Fa(n),e.filter.filtersNodes())}}function Oc(e,t,n,i,r,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Fa(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Aa(n);if(!l.isCompleteForPath(n)&&Ra(n)>1)return t;const r=Oa(n),s=l.getNode().getImmediateChild(e).updateChild(r,i);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,r,Pc,null)}const h=Jl(t,c,l.isFullyInitialized()||Fa(n),u.filtersNodes());return Rc(e,h,n,r,new Nc(r,h,s),a)}function Mc(e,t,n,i,r,s,o){const a=t.eventCache;let l,c;const u=new Nc(r,t,s);if(Fa(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=Ql(t,c,!0,e.filter.filtersNodes());else{const r=Aa(n);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Ql(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=Oa(n),c=a.getNode().getImmediateChild(r);let h;if(Fa(s))h=i;else{const e=u.getCompleteChild(r);h=null!=e?".priority"===Ma(s)&&e.getChild(La(s)).isEmpty()?e:e.updateChild(s,i):_l.EMPTY_NODE}if(c.equals(h))l=t;else{l=Ql(t,e.filter.updateChild(a.getNode(),r,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Dc(e,t){return e.eventCache.isCompleteForChild(t)}function Lc(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function jc(e,t,n,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Fa(n)?i:new nc(null).setTree(n,i);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,i)=>{if(u.hasChild(n)){const l=Lc(0,t.serverCache.getNode().getImmediateChild(n),i);c=Oc(e,c,new Pa(n),l,r,s,o,a)}})),l.children.inorderTraversal(((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!u.hasChild(n)&&!l){const l=Lc(0,t.serverCache.getNode().getImmediateChild(n),i);c=Oc(e,c,new Pa(n),l,r,s,o,a)}})),c}class Fc{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Il(n.getIndex()),r=(s=n).loadsAllData()?new Il(s.getIndex()):s.hasLimit()?new Nl(s):new Pl(s);var s;this.processor_=function(e){return{filter:e}}(r);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(_l.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(_l.EMPTY_NODE,a.getNode(),null),u=new Kl(l,o.isFullyInitialized(),i.filtersNodes()),h=new Kl(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Xl(h,u),this.eventGenerator_=new $l(this.query_)}get query(){return this.query_}}function zc(e,t){const n=ec(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Fa(t)&&!n.getImmediateChild(Aa(t)).isEmpty())?n.getChild(t):null}function Uc(e){return 0===e.eventRegistrations_.length}function Hc(e,t,n){const i=[];if(n){Pe(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)}))}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function Bc(e,t,n,i){t.type===Hl.MERGE&&null!==t.source.queryId&&(Pe(ec(e.viewCache_),"We should always have a full cache before handling merges"),Pe(Zl(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=Ac(e.processor_,r,t,n,i);var o,a;return o=e.processor_,a=s.viewCache,Pe(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Pe(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Pe(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Wc(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Wc(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const r=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Gl(e,r,"child_removed",t,i,n),Gl(e,r,"child_added",t,i,n),Gl(e,r,"child_moved",s,i,n),Gl(e,r,"child_changed",t,i,n),Gl(e,r,"value",t,i,n),r}(e.eventGenerator_,t,n,r)}let Vc,qc;class Yc{constructor(){this.views=new Map}}function Kc(e,t,n,i){const r=t.source.queryId;if(null!==r){const s=e.views.get(r);return Pe(null!=s,"SyncTree gave us an op for an invalid query."),Bc(s,t,n,i)}{let r=[];for(const s of e.views.values())r=r.concat(Bc(s,t,n,i));return r}}function $c(e,t,n,i,r){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=bc(n,r?i:null),s=!1;e?s=!0:i instanceof _l?(e=wc(n,i),s=!1):(e=_l.EMPTY_NODE,s=!1);const o=Xl(new Kl(e,s,!1),new Kl(i,r,!1));return new Fc(t,o)}return o}function Gc(e,t,n,i,r,s){const o=$c(e,t,i,r,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(hl,((e,t)=>{i.push(Cl(e,t))}));return n.isFullyInitialized()&&i.push(Sl(n.getNode())),Wc(e,i,n.getNode(),t)}(o,n)}function Xc(e,t,n,i){const r=t._queryIdentifier,s=[];let o=[];const a=tu(e);if("default"===r)for(const[l,c]of e.views.entries())o=o.concat(Hc(c,n,i)),Uc(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(r);t&&(o=o.concat(Hc(t,n,i)),Uc(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!tu(e)&&s.push(new(Pe(Vc,"Reference.ts has not been loaded"),Vc)(t._repo,t._path)),{removed:s,events:o}}function Qc(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Jc(e,t){let n=null;for(const i of e.views.values())n=n||zc(i,t);return n}function Zc(e,t){if(t._queryParams.loadsAllData())return nu(e);{const n=t._queryIdentifier;return e.views.get(n)}}function eu(e,t){return null!=Zc(e,t)}function tu(e){return null!=nu(e)}function nu(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let iu=1;class ru{constructor(e){this.listenProvider_=e,this.syncPointTree_=new nc(null),this.pendingWriteTree_={visibleWrites:ic.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function su(e,t,n,i,r){return function(e,t,n,i,r){Pe(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=rc(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,r),r?du(e,new ql({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ou(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(gc(e.pendingWriteTree_,t)){let t=new nc(null);return null!=i.snap?t=t.set(Na(),!0):Jo(i.children,(e=>{t=t.set(new Pa(e),!0)})),du(e,new Wl(i.path,t,n))}return[]}function au(e,t,n){return du(e,new ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function lu(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||eu(o,t))){const l=Xc(o,t,n,i);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),r=e.syncPointTree_.findOnPath(s,((e,t)=>tu(t)));if(n&&!r){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&tu(t)){return[nu(t)]}{let e=[];return t&&(e=Qc(t)),Jo(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,s=gu(e,i);e.listenProvider_.startListening(wu(r),mu(e,r),s.hashFn,s.onComplete)}}}if(!r&&c.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(wu(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(vu(t));e.listenProvider_.stopListening(wu(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=vu(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function cu(e,t,n,i){const r=yu(e,i);if(null!=r){const i=_u(r),s=i.path,o=i.queryId,a=za(s,t);return bu(e,s,new ql(Bl(o),a,n))}return[]}function uu(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=za(e,r);s=s||Jc(t,n),o=o||tu(t)}));let a,l=e.syncPointTree_.get(r);if(l?(o=o||tu(l),s=s||Jc(l,Na())):(l=new Yc,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=s)a=!0;else{a=!1,s=_l.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild(((e,t)=>{const n=Jc(t,Na());n&&(s=s.updateImmediateChild(e,n))}))}const c=eu(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=vu(t);Pe(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=iu++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let u=Gc(l,t,n,pc(e.pendingWriteTree_,r),s,a);if(!c&&!o&&!i){const n=Zc(l,t);u=u.concat(function(e,t,n){const i=t._path,r=mu(e,t),s=gu(e,n),o=e.listenProvider_.startListening(wu(t),r,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(i);if(r)Pe(!tu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!Fa(e)&&t&&tu(t))return[nu(t).query];{let e=[];return t&&(e=e.concat(Qc(t).map((e=>e.query)))),Jo(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(wu(i),mu(e,i))}}return o}(e,t,n))}return u}function hu(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,((e,n)=>{const i=Jc(n,za(e,t));if(i)return i}));return _c(i,t,r,n,!0)}function du(e,t){return fu(t,e.syncPointTree_,null,pc(e.pendingWriteTree_,Na()))}function fu(e,t,n,i){if(Fa(e.path))return pu(e,t,n,i);{const r=t.get(Na());null==n&&null!=r&&(n=Jc(r,Na()));let s=[];const o=Aa(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Ec(i,o);s=s.concat(fu(a,l,e,t))}return r&&(s=s.concat(Kc(r,e,i,n))),s}}function pu(e,t,n,i){const r=t.get(Na());null==n&&null!=r&&(n=Jc(r,Na()));let s=[];return t.children.inorderTraversal(((t,r)=>{const o=n?n.getImmediateChild(t):null,a=Ec(i,t),l=e.operationForChild(t);l&&(s=s.concat(pu(l,r,o,a)))})),r&&(s=s.concat(Kc(r,e,i,n))),s}function gu(e,t){const n=t.query,i=mu(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||_l.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=yu(e,n);if(i){const n=_u(i),r=n.path,s=n.queryId,o=za(r,t);return bu(e,r,new Vl(Bl(s),o))}return[]}(e,n._path,i):function(e,t){return du(e,new Vl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return lu(e,n,null,i)}}}}function mu(e,t){const n=vu(t);return e.queryToTagMap.get(n)}function vu(e){return e._path.toString()+"$"+e._queryIdentifier}function yu(e,t){return e.tagToQueryMap.get(t)}function _u(e){const t=e.indexOf("$");return Pe(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Pa(e.substr(0,t))}}function bu(e,t,n){const i=e.syncPointTree_.get(t);Pe(i,"Missing sync point for query tag that we're tracking");return Kc(i,n,pc(e.pendingWriteTree_,t),null)}function wu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Pe(qc,"Reference.ts has not been loaded"),qc)(e._repo,e._path):e}class xu{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new xu(t)}node(){return this.node_}}class ku{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ja(this.path_,e);return new ku(this.syncTree_,t)}node(){return hu(this.syncTree_,this.path_)}}const Su=function(e,t,n){return e&&"object"===typeof e?(Pe(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Cu(e[".sv"],t,n):"object"===typeof e[".sv"]?Eu(e[".sv"],t):void Pe(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Cu=function(e,t,n){if("timestamp"===e)return n.timestamp;Pe(!1,"Unexpected server value: "+e)},Eu=function(e,t,n){e.hasOwnProperty("increment")||Pe(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!==typeof i&&Pe(!1,"Unexpected increment value: "+i);const r=t.node();if(Pe(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!==typeof s?i:s+i},Tu=function(e,t,n,i){return Pu(t,new ku(n,e),i)},Iu=function(e,t,n){return Pu(e,new xu(t),n)};function Pu(e,t,n){const i=e.getPriority().val(),r=Su(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const i=e,s=Su(i.getValue(),t,n);return s!==i.getValue()||r!==i.getPriority().val()?new ul(s,wl(r)):e}{const i=e;return s=i,r!==i.getPriority().val()&&(s=s.updatePriority(new ul(r))),i.forEachChild(hl,((e,i)=>{const r=Pu(i,t.getImmediateChild(e),n);r!==i&&(s=s.updateImmediateChild(e,r))})),s}}class Nu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Au(e,t){let n=t instanceof Pa?t:new Pa(t),i=e,r=Aa(n);for(;null!==r;){const e=nt(i.node.children,r)||{children:{},childCount:0};i=new Nu(r,i,e),n=Oa(n),r=Aa(n)}return i}function Ru(e){return e.node.value}function Ou(e,t){e.node.value=t,Fu(e)}function Mu(e){return e.node.childCount>0}function Du(e,t){Jo(e.node.children,((n,i)=>{t(new Nu(n,e,i))}))}function Lu(e,t,n,i){n&&!i&&t(e),Du(e,(e=>{Lu(e,t,!0,i)})),n&&i&&t(e)}function ju(e){return new Pa(null===e.parent?e.name:ju(e.parent)+"/"+e.name)}function Fu(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===Ru(e)&&!Mu(e)}(n),r=tt(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Fu(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,Fu(e))}(e.parent,e.name,e)}const zu=/[\[\].#$\/\u0000-\u001F\u007F]/,Uu=/[\[\].#$\u0000-\u001F\u007F]/,Hu=10485760,Bu=function(e){return"string"===typeof e&&0!==e.length&&!zu.test(e)},Wu=function(e){return"string"===typeof e&&0!==e.length&&!Uu.test(e)},Vu=function(e,t,n,i){i&&void 0===t||qu(ft(e,"value"),t,n)},qu=function(e,t,n){const i=n instanceof Pa?new Ba(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Va(i));if("function"===typeof t)throw new Error(e+"contains a function "+Va(i)+" with contents = "+t.toString());if(Vo(t))throw new Error(e+"contains "+t.toString()+" "+Va(i));if("string"===typeof t&&t.length>Hu/3&&pt(t)>Hu)throw new Error(e+"contains a string greater than "+Hu+" utf8 bytes "+Va(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,r=!1;if(Jo(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!Bu(t)))throw new Error(e+" contains an invalid key ("+t+") "+Va(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=pt(t),Wa(e)}(i,t),qu(e,s,i),function(e){const t=e.parts_.pop();e.byteLength_-=pt(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),n&&r)throw new Error(e+' contains ".value" child '+Va(i)+" in addition to actual children.")}},Yu=function(e,t,n,i){if((!i||void 0!==n)&&!Wu(n))throw new Error(ft(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ku=function(e,t){if(".info"===Aa(t))throw new Error(e+" failed = Can't modify data under /.info/")},$u=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Bu(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Wu(e)}(n))throw new Error(ft(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Gu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xu(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null===n||Ua(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function Qu(e,t,n){Xu(e,n),Zu(e,(e=>Ua(e,t)))}function Ju(e,t,n){Xu(e,n),Zu(e,(e=>Ha(e,t)||Ha(t,e)))}function Zu(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){t(r.path)?(eh(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function eh(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();Lo&&zo("event: "+n.toString()),na(i)}}}const th="repo_interrupt";class nh{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ll(),this.transactionQueueTree_=new Nu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ih(e,t,n){if(e.stats_=va(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ml(e.repoInfo_,((t,n,i,r)=>{oh(e,t,n,i,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>ah(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Ka(e.repoInfo_,t,((t,n,i,r)=>{oh(e,t,n,i,r)}),(t=>{ah(e,t)}),(t=>{!function(e,t){Jo(t,((t,n)=>{lh(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return ma[n]||(ma[n]=t()),ma[n]}(e.repoInfo_,(()=>new Ul(e.stats_,e.server_))),e.infoData_=new Dl,e.infoSyncTree_=new ru({startListening:(t,n,i,r)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=au(e.infoSyncTree_,t._path,o),setTimeout((()=>{r("ok")}),0)),s},stopListening:()=>{}}),lh(e,"connected",!1),e.serverSyncTree_=new ru({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,((n,i)=>{const s=r(n,i);Ju(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function rh(e){const t=e.infoData_.getNode(new Pa(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function sh(e){return(t=(t={timestamp:rh(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function oh(e,t,n,i,r){e.dataUpdateCount++;const s=new Pa(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const t=rt(n,(e=>wl(e)));o=function(e,t,n,i){const r=yu(e,i);if(r){const i=_u(r),s=i.path,o=i.queryId,a=za(s,t),l=nc.fromObject(n);return bu(e,s,new Yl(Bl(o),a,l))}return[]}(e.serverSyncTree_,s,t,r)}else{const t=wl(n);o=cu(e.serverSyncTree_,s,t,r)}else if(i){const t=rt(n,(e=>wl(e)));o=function(e,t,n){const i=nc.fromObject(n);return du(e,new Yl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,s,t)}else{const t=wl(n);o=au(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=vh(e,s)),Ju(e.eventQueue_,a,o)}function ah(e,t){lh(e,"connected",t),!1===t&&function(e){fh(e,"onDisconnectEvents");const t=sh(e),n=Ll();Fl(e.onDisconnect_,Na(),((i,r)=>{const s=Tu(i,r,e.serverSyncTree_,t);jl(n,i,s)}));let i=[];Fl(n,Na(),((t,n)=>{i=i.concat(au(e.serverSyncTree_,t,n));const r=xh(e,t);vh(e,r)})),e.onDisconnect_=Ll(),Ju(e.eventQueue_,Na(),i)}(e)}function lh(e,t,n){const i=new Pa("/.info/"+t),r=wl(n);e.infoData_.updateSnapshot(i,r);const s=au(e.infoSyncTree_,i,r);Ju(e.eventQueue_,i,s)}function ch(e){return e.nextWriteId_++}function uh(e,t,n,i,r){fh(e,"set",{path:t.toString(),value:n,priority:i});const s=sh(e),o=wl(n,i),a=hu(e.serverSyncTree_,t),l=Iu(o,a,s),c=ch(e),u=su(e.serverSyncTree_,t,l,c,!0);Xu(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),((n,i)=>{const s="ok"===n;s||Wo("set at "+t+" failed: "+n);const o=ou(e.serverSyncTree_,c,!s);Ju(e.eventQueue_,t,o),ph(e,r,n,i)}));const h=xh(e,t);vh(e,h),Ju(e.eventQueue_,h,[])}function hh(e,t,n){let i;i=".info"===Aa(t._path)?lu(e.infoSyncTree_,t,n):lu(e.serverSyncTree_,t,n),Qu(e.eventQueue_,t._path,i)}function dh(e){e.persistentConnection_&&e.persistentConnection_.interrupt(th)}function fh(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];zo(t,...i)}function ph(e,t,n,i){t&&na((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const s=new Error(r);s.code=e,t(s)}}))}function gh(e,t,n){return hu(e.serverSyncTree_,t,n)||_l.EMPTY_NODE}function mh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||wh(e,t),Ru(t)){const n=_h(e,t);Pe(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const i=n.map((e=>e.currentWriteId)),r=gh(e,t,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const e=n[c];Pe(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=za(t,e.path);s=s.updateChild(i,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,(i=>{fh(e,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(ou(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();wh(e,Au(e.transactionQueueTree_,t)),mh(e,e.transactionQueueTree_),Ju(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)na(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Wo("transaction at "+l.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}vh(e,t)}}),o)}(e,ju(t),n)}else Mu(t)&&Du(t,(t=>{mh(e,t)}))}function vh(e,t){const n=yh(e,t),i=ju(n);return function(e,t,n){if(0===t.length)return;const i=[];let r=[];const s=t.filter((e=>0===e.status)),o=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],c=za(n,s.path);let u,h=!1;if(Pe(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,u=s.abortReason,r=r.concat(ou(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)h=!0,u="maxretry",r=r.concat(ou(e.serverSyncTree_,s.currentWriteId,!0));else{const n=gh(e,s.path,o);s.currentInputSnapshot=n;const i=t[l].update(n.val());if(void 0!==i){qu("transaction failed: Data returned ",i,s.path);let t=wl(i);"object"===typeof i&&null!=i&&tt(i,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=sh(e),c=Iu(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=ch(e),o.splice(o.indexOf(a),1),r=r.concat(su(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),r=r.concat(ou(e.serverSyncTree_,a,!0))}else h=!0,u="nodata",r=r.concat(ou(e.serverSyncTree_,s.currentWriteId,!0))}Ju(e.eventQueue_,n,r),r=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?i.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):i.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;wh(e,e.transactionQueueTree_);for(let l=0;l<i.length;l++)na(i[l]);mh(e,e.transactionQueueTree_)}(e,_h(e,n),i),i}function yh(e,t){let n,i=e.transactionQueueTree_;for(n=Aa(t);null!==n&&void 0===Ru(i);)i=Au(i,n),n=Aa(t=Oa(t));return i}function _h(e,t){const n=[];return bh(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function bh(e,t,n){const i=Ru(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Du(t,(t=>{bh(e,t,n)}))}function wh(e,t){const n=Ru(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ou(t,n.length>0?n:void 0)}Du(t,(t=>{wh(e,t)}))}function xh(e,t){const n=ju(yh(e,t)),i=Au(e.transactionQueueTree_,t);return function(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,(t=>{kh(e,t)})),kh(e,i),Lu(i,(t=>{kh(e,t)})),n}function kh(e,t){const n=Ru(t);if(n){const i=[];let r=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Pe(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Pe(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(ou(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ou(t,void 0):n.length=s+1,Ju(e.eventQueue_,ju(t),r);for(let e=0;e<i.length;e++)na(i[e])}}const Sh=function(e,t){const n=Ch(e),i=n.namespace;"firebase.com"===n.domain&&Bo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||Bo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Wo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new da(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new Pa(n.pathString)}},Ch=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(r=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Wo("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=i}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}},Eh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Th{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class Ih{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ph{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Pe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Nh{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return Fa(this._path)?null:Ma(this._path)}get ref(){return new Ah(this._repo,this._path)}get _queryIdentifier(){const e=Ol(this._queryParams),t=Xo(e);return"{}"===t?"default":t}get _queryObject(){return Ol(this._queryParams)}isEqual(e){if(!((e=gt(e))instanceof Nh))return!1;const t=this._repo===e._repo,n=Ua(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Ah extends Nh{constructor(e,t){super(e,t,new Al,!1)}get parent(){const e=La(this._path);return null===e?null:new Ah(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Rh{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Pa(e),n=Mh(this.ref,e);return new Rh(this._node.getChild(t),n,hl)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Rh(n,Mh(this.ref,t),hl))))}hasChild(e){const t=new Pa(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Oh(e,t){return(e=gt(e))._checkNotDeleted("ref"),void 0!==t?Mh(e._root,t):e._root}function Mh(e,t){var n,i,r,s;return null===Aa((e=gt(e))._path)?(n="child",i="path",s=!1,(r=t)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Yu(n,i,r,s)):Yu("child","path",t,!1),new Ah(e._repo,ja(e._path,t))}function Dh(e){return Ku("remove",e._path),Lh(e,null)}function Lh(e,t){e=gt(e),Ku("set",e._path),Vu("set",t,e._path,!1);const n=new Ve;return uh(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}class jh{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Th("value",this,new Rh(e.snapshotNode,new Ah(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ih(this,e,t):null}matches(e){return e instanceof jh&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Fh{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ih(this,e,t):null}createEvent(e,t){Pe(null!=e.childName,"Child events should have a childName.");const n=Mh(new Ah(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new Th(e.type,this,new Rh(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Fh&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function zh(e,t,n,i,r){let s;if("object"===typeof i&&(s=void 0,r=i),"function"===typeof i&&(s=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{hh(e._repo,e,a),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const o=new Ph(n,s||void 0),a="value"===t?new jh(o):new Fh(t,o);return function(e,t,n){let i;i=".info"===Aa(t._path)?uu(e.infoSyncTree_,t,n):uu(e.serverSyncTree_,t,n),Qu(e.eventQueue_,t._path,i)}(e._repo,e,a),()=>hh(e._repo,e,a)}function Uh(e,t,n,i){return zh(e,"value",t,n,i)}!function(e){Pe(!Vc,"__referenceConstructor has already been defined"),Vc=e}(Ah),function(e){Pe(!qc,"__referenceConstructor has already been defined"),qc=e}(Ah);const Hh={};let Bh=!1;function Wh(e,t,n,i,r){let s=i||e.options.databaseURL;void 0===s&&(e.options.projectId||Bo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zo("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=Sh(s,r),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/FYP_Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_API_KEY:"854932294567319",REACT_APP_CLOUDINARY_API_SECRET:"LWXTwlOA2ncBbP5eB0DC4DpzZTg",REACT_APP_CLOUDINARY_CLOUD_NAME:"serenaproject",REACT_APP_FIREBASE_API_KEY:"AIzaSyBgng3iTWUxr8mTyEZZqO69eUZySqkl6iw",REACT_APP_FIREBASE_APP_ID:"1:316408488634:web:0882bf787f4afbba1b1883",REACT_APP_FIREBASE_AUTH_DOMAIN:"fyp-iomt.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://fyp-iomt-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-Y8EHX676KZ",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"316408488634",REACT_APP_FIREBASE_PROJECT_ID:"fyp-iomt",REACT_APP_FIREBASE_STORAGE_BUCKET:"fyp-iomt.firebasestorage.app"}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s="http://".concat(a,"?ns=").concat(c.namespace),l=Sh(s,r),c=l.repoInfo):o=!l.repoInfo.secure;const u=r&&o?new oa(oa.OWNER):new sa(e.name,e.options,t);$u("Invalid Firebase Database URL",l),Fa(l.path)||Bo("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,i){let r=Hh[t.name];r||(r={},Hh[t.name]=r);let s=r[e.toURLString()];s&&Bo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new nh(e,Bh,n,i),r[e.toURLString()]=s,s}(c,e,u,new ra(e,n));return new Vh(h,e)}class Vh{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ih(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ah(this._repo,Na())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Hh[t];n&&n[e.key]===e||Bo("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),dh(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Bo("Cannot call "+e+" on a deleted database.")}}Ka.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ka.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Eo(Mn),Pn(new yt("database",((e,t)=>{let{instanceIdentifier:n}=t;return Wh(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),jn(ko,So,e),jn(ko,So,"esm2017")}();jn("firebase","11.7.1","app");const qh={apiKey:"AIzaSyBgng3iTWUxr8mTyEZZqO69eUZySqkl6iw",authDomain:"fyp-iomt.firebaseapp.com",databaseURL:"https://fyp-iomt-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"fyp-iomt",storageBucket:"fyp-iomt.firebasestorage.app",messagingSenderId:"316408488634",appId:"1:316408488634:web:0882bf787f4afbba1b1883",measurementId:"G-Y8EHX676KZ"};let Yh;try{Yh=Dn(qh),console.log("Firebase initialized successfully:",Yh.name)}catch(Ho){throw console.error("Firebase initialization failed:",Ho.message),Ho}const Kh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln(),t=arguments.length>1?arguments[1]:void 0;const n=Nn(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(e=>{const t=He(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]})("database");e&&function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=gt(e),e._checkNotDeleted("useEmulator");const r="".concat(t,":").concat(n),s=e._repoInternal;if(e._instanceStarted){if(r===e._repoInternal.repoInfo_.host&&st(i,s.repoInfo_.emulatorOptions))return;Bo("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Bo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new oa(oa.OWNER);else if(i.mockUserToken){const t="string"===typeof i.mockUserToken?i.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(s)),""].join(".")}(i.mockUserToken,e.app.options.projectId);o=new oa(t)}mt(t)&&vt(t);!function(e,t,n,i){const r=t.lastIndexOf(":"),s=mt(t.substring(0,r));e.repoInfo_=new da(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}(s,r,i,o)}(n,...e)}return n}(Yh),$h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln();const t=Nn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Nn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(st(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ei(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:go,persistence:[Ss,rs,cs]}),i=We("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=(r=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>_o)return;const i=null===t||void 0===t?void 0:t.token;bo!==i&&(bo=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))});!function(e,t,n){gt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,i){gt(e).onIdTokenChanged(t,n,i)}(n,(e=>t(e)))}}var r;const s=He("auth");return s&&wr(n,"http://".concat(s)),n}(Yh),Gh=n.p+"static/media/logo.2453836bab459d0dbc26.png";var Xh=n(579);const Qh=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1),s=J();return(0,r.useEffect)((()=>{const e=Zr($h,(async e=>{if(t(e),e){Uh(Oh(Kh,"users/".concat(e.uid,"/token")),(e=>{const t=e.val(),n=sessionStorage.getItem("userToken");console.log("Firebase token:",null===t||void 0===t?void 0:t.token),console.log("Session token:",n),i(t&&t.token&&n&&t.token===n)}),{onlyOnce:!0})}else i(!1),sessionStorage.removeItem("userToken")}));return()=>e()}),[]),(0,Xh.jsx)("nav",{className:"navbar",children:(0,Xh.jsxs)("div",{className:"navbar-container",children:[(0,Xh.jsxs)("div",{className:"navbar-left",children:[(0,Xh.jsx)(ke,{to:"/",className:"navbar-logo",children:(0,Xh.jsx)("img",{src:Gh,alt:"logo",className:"navbar-logo-img"})}),(0,Xh.jsxs)("ul",{className:"navbar-list",children:[(0,Xh.jsx)("li",{className:"navbar-item",children:(0,Xh.jsx)(ke,{to:"/",className:"navbar-link",children:"Home"})}),(0,Xh.jsx)("li",{className:"navbar-item",children:(0,Xh.jsx)(ke,{to:"/technology",className:"navbar-link",children:"Technology"})}),(0,Xh.jsx)("li",{className:"navbar-item",children:(0,Xh.jsx)(ke,{to:"/features",className:"navbar-link",children:"Features"})}),(0,Xh.jsx)("li",{className:"navbar-item",children:(0,Xh.jsx)(ke,{to:"/about",className:"navbar-link",children:"About"})}),n&&(0,Xh.jsx)(Xh.Fragment,{children:(0,Xh.jsx)("li",{className:"navbar-item",children:(0,Xh.jsx)(ke,{to:"/oximeter",className:"navbar-link",children:"Oximeter"})})})]})]}),(0,Xh.jsx)("div",{className:"navbar-right",children:n?(0,Xh.jsxs)(Xh.Fragment,{children:[(0,Xh.jsxs)("div",{className:"navbar-user-info",children:[(0,Xh.jsx)(ke,{to:"/profile",className:"navbar-user-info",children:e.photoURL&&(0,Xh.jsx)("img",{src:e.photoURL,alt:"Profile",className:"navbar-user-image"})}),(0,Xh.jsx)(ke,{to:"/profile",className:"navbar-user-info",children:(0,Xh.jsx)("span",{className:"navbar-user-name",children:e.displayName||"User"})})]}),(0,Xh.jsx)("button",{onClick:async()=>{try{await function(e){return gt(e).signOut()}($h),sessionStorage.removeItem("userToken"),i(!1),alert("Signed out successfully"),s("/login")}catch(Ho){console.error("Sign-out error:",Ho.message),alert("Sign-out failed: "+Ho.message)}},className:"navbar-button signout",children:"Sign Out"})]}):(0,Xh.jsxs)(Xh.Fragment,{children:[(0,Xh.jsx)(ke,{to:"/login",className:"navbar-button",children:"Login"}),(0,Xh.jsx)(ke,{to:"/signup",className:"navbar-button signup",children:"Sign Up"})]})})]})})},Jh=n.p+"static/media/am.9c3a2c15aec12a55ae23.jpg",Zh=n.p+"static/media/hassan.a7b80eacae9dfb670825.jpg",ed=e=>{let{onClose:t}=e;const[n,i]=(0,r.useState)(null),s=[{name:"Abdul Malik",role:"Founder",email:"amabbaxi9876@gmail.com",phone:"+92-318-0971788",image:Jh},{name:"M. Hassan Mehmood",role:"Co-Founder",email:"mhassankhokhar476@gmail.com",phone:"+92-349-9194480",image:Zh}],o=(e,t)=>{navigator.clipboard.writeText(e).then((()=>{i(t),setTimeout((()=>{i(null)}),2e3)})).catch((e=>{console.error("Failed to copy text: ",e)}))};return(0,Xh.jsx)("div",{className:"popup-overlay",onClick:t,children:(0,Xh.jsxs)("div",{className:"popup-content",onClick:e=>e.stopPropagation(),children:[(0,Xh.jsx)("h2",{className:"popup-title",children:"Contact Us"}),(0,Xh.jsx)("button",{className:"popup-close",onClick:t,children:"\xd7"}),(0,Xh.jsx)("div",{className:"popup-team",children:s.map(((e,t)=>(0,Xh.jsxs)("div",{className:"popup-member",children:[(0,Xh.jsx)("img",{src:e.image,alt:e.name,className:"popup-image"}),(0,Xh.jsx)("h4",{className:"popup-name",children:e.name}),(0,Xh.jsx)("p",{className:"popup-role",children:e.role}),(0,Xh.jsxs)("div",{className:"popup-email-container",children:[(0,Xh.jsxs)("p",{className:"popup-email",children:["Email: ",e.email]}),(0,Xh.jsx)("button",{className:"copy-button ".concat(n==="email-".concat(t)?"copied":""),onClick:()=>o(e.email,"email-".concat(t)),children:n==="email-".concat(t)?"Copied!":"Copy"})]}),(0,Xh.jsxs)("div",{className:"popup-phone-container",children:[(0,Xh.jsxs)("p",{className:"popup-phone",children:["Phone: ",e.phone]}),(0,Xh.jsx)("button",{className:"copy-button ".concat(n==="phone-".concat(t)?"copied":""),onClick:()=>o(e.phone,"phone-".concat(t)),children:n==="phone-".concat(t)?"Copied!":"Copy"})]})]},t)))})]})})};const td=function(){const[e,t]=(0,r.useState)(!1);return(0,Xh.jsxs)("section",{className:"hero-section",children:[(0,Xh.jsxs)("div",{className:"hero-container",children:[(0,Xh.jsx)("h1",{className:"hero-title",children:"Advanced ESP32 Sensor Encryption Solutions"}),(0,Xh.jsx)("p",{className:"hero-subtitle",children:"Secure, efficient, and scalable IoT solutions with military-grade cryptography"}),(0,Xh.jsx)("button",{className:"hero-button",onClick:()=>{t(!0)},children:"Contact Us"})]}),e&&(0,Xh.jsx)(ed,{onClose:()=>{t(!1)}})]})},nd=n.p+"static/media/key.a014829b9dcbd0d58eae.png",id=n.p+"static/media/chip.52fbfabefe4a50a0f287.png",rd=n.p+"static/media/battery.84962d7647884e90509a.png";const sd=function(){return(0,Xh.jsx)("section",{className:"highlights-section",children:(0,Xh.jsx)("div",{className:"highlights-container",children:(0,Xh.jsxs)("div",{className:"highlights-grid",children:[(0,Xh.jsxs)("div",{className:"highlights-item",children:[(0,Xh.jsx)("img",{src:nd,alt:"Advanced Encryption",className:"highlights-icon"}),(0,Xh.jsx)("h3",{className:"highlights-title",children:"Advanced Encryption"}),(0,Xh.jsx)("p",{className:"highlights-text",children:"Military-grade security protocols for your IoMT devices"})]}),(0,Xh.jsxs)("div",{className:"highlights-item",children:[(0,Xh.jsx)("img",{src:id,alt:"High Performance",className:"highlights-icon"}),(0,Xh.jsx)("h3",{className:"highlights-title",children:"High Performance"}),(0,Xh.jsx)("p",{className:"highlights-text",children:"Optimized processing for real-time data handling"})]}),(0,Xh.jsxs)("div",{className:"highlights-item",children:[(0,Xh.jsx)("img",{src:rd,alt:"Power Efficient",className:"highlights-icon"}),(0,Xh.jsx)("h3",{className:"highlights-title",children:"Power Efficient"}),(0,Xh.jsx)("p",{className:"highlights-text",children:"Ultra-low power consumption for extended operation"})]})]})})})};var od=n(705);function ad(e){return e+.5|0}const ld=(e,t,n)=>Math.max(Math.min(e,n),t);function cd(e){return ld(ad(2.55*e),0,255)}function ud(e){return ld(ad(255*e),0,255)}function hd(e){return ld(ad(e/2.55)/100,0,1)}function dd(e){return ld(ad(100*e),0,100)}const fd={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pd=[..."0123456789ABCDEF"],gd=e=>pd[15&e],md=e=>pd[(240&e)>>4]+pd[15&e],vd=e=>(240&e)>>4===(15&e);function yd(e){var t=(e=>vd(e.r)&&vd(e.g)&&vd(e.b)&&vd(e.a))(e)?gd:md;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const _d=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function bd(e,t,n){const i=t*Math.min(n,1-n),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function wd(e,t,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function xd(e,t,n){const i=bd(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function kd(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i),o=(r+s)/2;let a,l,c;return r!==s&&(c=r-s,l=o>.5?c/(2-r-s):c/(r+s),a=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,r),a=60*a+.5),[0|a,l||0,o]}function Sd(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(ud)}function Cd(e,t,n){return Sd(bd,e,t,n)}function Ed(e){return(e%360+360)%360}function Td(e){const t=_d.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?cd(+t[5]):ud(+t[5]));const r=Ed(+t[2]),s=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Sd(xd,e,t,n)}(r,s,o):"hsv"===t[1]?function(e,t,n){return Sd(wd,e,t,n)}(r,s,o):Cd(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}const Id={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Nd;function Ad(e){Nd||(Nd=function(){const e={},t=Object.keys(Pd),n=Object.keys(Id);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Id[s]);s=parseInt(Pd[o],16),e[a]=[s>>16&255,s>>8&255,255&s]}return e}(),Nd.transparent=[0,0,0,0]);const t=Nd[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Rd=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Od=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Md=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Dd(e,t,n){if(e){let i=kd(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=Cd(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Ld(e,t){return e?Object.assign(t||{},e):e}function jd(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ud(e[3]))):(t=Ld(e,{r:0,g:0,b:0,a:1})).a=ud(t.a),t}function Fd(e){return"r"===e.charAt(0)?function(e){const t=Rd.exec(e);let n,i,r,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?cd(e):ld(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?cd(n):ld(n,0,255)),i=255&(t[4]?cd(i):ld(i,0,255)),r=255&(t[6]?cd(r):ld(r,0,255)),{r:n,g:i,b:r,a:s}}}(e):Td(e)}class zd{constructor(e){if(e instanceof zd)return e;const t=typeof e;let n;"object"===t?n=jd(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*fd[e[1]],g:255&17*fd[e[2]],b:255&17*fd[e[3]],a:5===n?17*fd[e[4]]:255}:7!==n&&9!==n||(t={r:fd[e[1]]<<4|fd[e[2]],g:fd[e[3]]<<4|fd[e[4]],b:fd[e[5]]<<4|fd[e[6]],a:9===n?fd[e[7]]<<4|fd[e[8]]:255})),t}(e)||Ad(e)||Fd(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Ld(this._rgb);return e&&(e.a=hd(e.a)),e}set rgb(e){this._rgb=jd(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(hd(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?yd(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=kd(e),n=t[0],i=dd(t[1]),r=dd(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(hd(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const s=t===r?.5:t,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=Md(hd(e.r)),r=Md(hd(e.g)),s=Md(hd(e.b));return{r:ud(Od(i+n*(Md(hd(t.r))-i))),g:ud(Od(r+n*(Md(hd(t.g))-r))),b:ud(Od(s+n*(Md(hd(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new zd(this.rgb)}alpha(e){return this._rgb.a=ud(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ad(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Dd(this._rgb,2,e),this}darken(e){return Dd(this._rgb,2,-e),this}saturate(e){return Dd(this._rgb,1,e),this}desaturate(e){return Dd(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=kd(e);n[0]=Ed(n[0]+t),n=Cd(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Ud(){}const Hd=(()=>{let e=0;return()=>e++})();function Bd(e){return null===e||void 0===e}function Wd(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Vd(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function qd(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Yd(e,t){return qd(e)?e:t}function Kd(e,t){return"undefined"===typeof e?t:e}const $d=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Gd(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Xd(e,t,n,i){let r,s,o;if(Wd(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(Vd(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function Qd(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Jd(e){if(Wd(e))return e.map(Jd);if(Vd(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=Jd(e[n[r]]);return t}return e}function Zd(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function ef(e,t,n,i){if(!Zd(e))return;const r=t[e],s=n[e];Vd(r)&&Vd(s)?tf(r,s,i):t[e]=Jd(s)}function tf(e,t,n){const i=Wd(t)?t:[t],r=i.length;if(!Vd(e))return e;const s=(n=n||{}).merger||ef;let o;for(let a=0;a<r;++a){if(o=i[a],!Vd(o))continue;const t=Object.keys(o);for(let i=0,r=t.length;i<r;++i)s(t[i],e,o,n)}return e}function nf(e,t){return tf(e,t,{merger:rf})}function rf(e,t,n){if(!Zd(e))return;const i=t[e],r=n[e];Vd(i)&&Vd(r)?nf(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Jd(r))}const sf={"":e=>e,x:e=>e.x,y:e=>e.y};function of(e,t){const n=sf[t]||(sf[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function af(e){return e.charAt(0).toUpperCase()+e.slice(1)}const lf=e=>"undefined"!==typeof e,cf=e=>"function"===typeof e,uf=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const hf=Math.PI,df=2*hf,ff=df+hf,pf=Number.POSITIVE_INFINITY,gf=hf/180,mf=hf/2,vf=hf/4,yf=2*hf/3,_f=Math.log10,bf=Math.sign;function wf(e,t,n){return Math.abs(e-t)<n}function xf(e){const t=Math.round(e);e=wf(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(_f(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function kf(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Sf(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Cf(e){return e*(hf/180)}function Ef(e){return e*(180/hf)}function Tf(e){if(!qd(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function If(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*hf&&(s+=df),{angle:s,distance:r}}function Pf(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Nf(e,t){return(e-t+ff)%df-hf}function Af(e){return(e%df+df)%df}function Rf(e,t,n,i){const r=Af(e),s=Af(t),o=Af(n),a=Af(s-r),l=Af(o-r),c=Af(r-s),u=Af(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Of(e,t,n){return Math.max(t,Math.min(n,e))}function Mf(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Df(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Lf=(e,t,n,i)=>Df(e,n,i?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),jf=(e,t,n)=>Df(e,n,(i=>e[i][t]>=n));const Ff=["push","pop","shift","splice","unshift"];function zf(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(Ff.forEach((t=>{delete e[t]})),delete e._chartjs)}function Uf(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Hf="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Bf(e,t){let n=[],i=!1;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];n=s,i||(i=!0,Hf.call(window,(()=>{i=!1,e.apply(t,n)})))}}const Wf=e=>"start"===e?"left":"end"===e?"right":"center",Vf=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function qf(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(r=Math.min(Lf(l,u,h).lo,n?i:Lf(t,u,o.getPixelForValue(h)).lo),c){const e=l.slice(0,r+1).reverse().findIndex((e=>!Bd(e[a.axis])));r-=Math.max(0,e)}r=Of(r,0,i-1)}if(p){let e=Math.max(Lf(l,o.axis,d,!0).hi+1,n?0:Lf(t,u,o.getPixelForValue(d),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!Bd(e[a.axis])));e+=Math.max(0,t)}s=Of(e,r,i)-r}else s=i-r}return{start:r,count:s}}function Yf(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Kf=e=>0===e||1===e,$f=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*df/n),Gf=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*df/n)+1,Xf={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*mf),easeOutSine:e=>Math.sin(e*mf),easeInOutSine:e=>-.5*(Math.cos(hf*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Kf(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Kf(e)?e:$f(e,.075,.3),easeOutElastic:e=>Kf(e)?e:Gf(e,.075,.3),easeInOutElastic(e){const t=.1125;return Kf(e)?e:e<.5?.5*$f(2*e,t,.45):.5+.5*Gf(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Xf.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Xf.easeInBounce(2*e):.5*Xf.easeOutBounce(2*e-1)+.5};function Qf(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Jf(e){return Qf(e)?e:new zd(e)}function Zf(e){return Qf(e)?e:new zd(e).saturate(.5).darken(.1).hexString()}const ep=["x","y","borderWidth","radius","tension"],tp=["color","borderColor","backgroundColor"];const np=new Map;function ip(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=np.get(n);return i||(i=new Intl.NumberFormat(e,t),np.set(n,i)),i}(t,n).format(e)}const rp={values:e=>Wd(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=_f(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ip(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(_f(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?rp.numeric.call(this,e,t,n):""}};var sp={formatters:rp};const op=Object.create(null),ap=Object.create(null);function lp(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const t=n[i];e=e[t]||(e[t]=Object.create(null))}return e}function cp(e,t,n){return"string"===typeof t?tf(lp(e,t),n):tf(lp(e,""),t)}class up{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Zf(t.backgroundColor),this.hoverBorderColor=(e,t)=>Zf(t.borderColor),this.hoverColor=(e,t)=>Zf(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return cp(this,e,t)}get(e){return lp(this,e)}describe(e,t){return cp(ap,e,t)}override(e,t){return cp(op,e,t)}route(e,t,n,i){const r=lp(this,e),s=lp(this,n),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=s[i];return Vd(e)?Object.assign({},t,e):Kd(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var hp=new up({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:tp},numbers:{type:"number",properties:ep}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function dp(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function fp(e,t,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||Wd(h)){if(Wd(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||Wd(d)||(o=dp(e,r,s,o,d))}else o=dp(e,r,s,o,h);e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function pp(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function gp(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function mp(e,t,n,i){vp(e,t,n,i,null)}function vp(e,t,n,i,r){let s,o,a,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*gf;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,i),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:r?e.ellipse(n,i,r/2,g,0,0,df):e.arc(n,i,g,0,df),e.closePath();break;case"triangle":u=r?r/2:g,e.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=yf,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=yf,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+vf)*l,h=Math.cos(m+vf)*(r?r/2-c:l),a=Math.sin(m+vf)*l,d=Math.sin(m+vf)*(r?r/2-c:l),e.arc(n-h,i-a,c,m-hf,m-mf),e.arc(n+d,i-o,c,m-mf,m),e.arc(n+h,i+a,c,m,m+mf),e.arc(n-d,i+o,c,m+mf,m+hf),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,e.rect(n-u,i-l,2*u,2*l);break}m+=vf;case"rectRot":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+d,i-o),e.lineTo(n+h,i+a),e.lineTo(n-d,i+o),e.closePath();break;case"crossRot":m+=vf;case"cross":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"star":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o),m+=vf,h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function yp(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function _p(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function bp(e){e.restore()}function wp(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!==!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function xp(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function kp(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function Sp(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Cp(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Wd(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Bd(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Sp(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Bd(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,i,s.maxWidth)),e.fillText(c,n,i,s.maxWidth),kp(e,n,i,c,s),i+=Number(r.lineHeight);e.restore()}function Ep(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*hf,hf,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,hf,mf,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,mf,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-mf,!0),e.lineTo(n+o.topLeft,i)}const Tp=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ip=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Pp(e,t){const n=(""+e).match(Tp);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Np=e=>+e||0;function Ap(e,t){const n={},i=Vd(t),r=i?Object.keys(t):t,s=Vd(e)?i?n=>Kd(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of r)n[o]=Np(s(o));return n}function Rp(e){return Ap(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Op(e){return Ap(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Mp(e){const t=Rp(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Dp(e,t){e=e||{},t=t||hp.font;let n=Kd(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let i=Kd(e.style,t.style);i&&!(""+i).match(Ip)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Kd(e.family,t.family),lineHeight:Pp(Kd(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Kd(e.weight,t.weight),string:""};return r.string=function(e){return!e||Bd(e.size)||Bd(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function Lp(e,t,n,i){let r,s,o,a=!0;for(r=0,s=e.length;r<s;++r)if(o=e[r],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),a=!1),void 0!==n&&Wd(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function jp(e,t){return Object.assign(Object.create(e),t)}function Fp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const r=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Gp("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>Fp([i,...e],t,r,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>Wp(n,i,(()=>function(e,t,n,i){let r;for(const s of t)if(r=Gp(Hp(s,e),n),"undefined"!==typeof r)return Bp(e,r)?Kp(n,i,e,r):r}(i,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Xp(e).includes(t),ownKeys:e=>Xp(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function zp(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Up(e,i),setContext:t=>zp(e,t,n,i),override:r=>zp(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Wp(e,t,(()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];cf(a)&&o.isScriptable(t)&&(a=function(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||i);a.delete(e),Bp(e,l)&&(l=Kp(r._scopes,r,e,l));return l}(t,a,e,n));Wd(a)&&a.length&&(a=function(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&i(e))return t[s.index%t.length];if(Vd(t[0])){const n=t,i=r._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Kp(i,r,e,l);t.push(zp(n,s,o&&o[e],a))}}return t}(t,a,e,o.isIndexable));Bp(t,a)&&(a=zp(a,r,s&&s[t],o));return a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function Up(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:cf(n)?n:()=>n,isIndexable:cf(i)?i:()=>i}}const Hp=(e,t)=>e?e+af(t):t,Bp=(e,t)=>Vd(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Wp(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const i=n();return e[t]=i,i}function Vp(e,t,n){return cf(e)?e(t,n):e}const qp=(e,t)=>!0===e?t:"string"===typeof e?of(t,e):void 0;function Yp(e,t,n,i,r){for(const s of t){const t=qp(n,s);if(t){e.add(t);const s=Vp(t._fallback,n,r);if("undefined"!==typeof s&&s!==n&&s!==i)return s}else if(!1===t&&"undefined"!==typeof i&&n!==i)return null}return!1}function Kp(e,t,n,i){const r=t._rootScopes,s=Vp(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=$p(a,o,n,s||n,i);return null!==l&&(("undefined"===typeof s||s===n||(l=$p(a,o,s,l,i),null!==l))&&Fp(Array.from(a),[""],r,s,(()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];if(Wd(r)&&Vd(n))return n;return r||{}}(t,n,i))))}function $p(e,t,n,i,r){for(;n;)n=Yp(e,t,n,i,r);return n}function Gp(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Xp(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Qp(e,t,n,i){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:r.parse(of(u,s),c)};return o}const Jp=Number.EPSILON||1e-14,Zp=(e,t)=>t<e.length&&!e[t].skip&&e[t],eg=e=>"x"===e?"y":"x";function tg(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=Pf(s,r),l=Pf(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function ng(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=eg(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Zp(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=Zp(e,o+1),l){if(c){const e=c[t]-l[t];r[o]=0!==e?(c[n]-l[n])/e:0}s[o]=a?c?bf(r[o-1])!==bf(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,n){const i=e.length;let r,s,o,a,l,c=Zp(e,0);for(let u=0;u<i-1;++u)l=c,c=Zp(e,u+1),l&&c&&(wf(t[u],0,Jp)?n[u]=n[u+1]=0:(r=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=r*o*t[u],n[u+1]=s*o*t[u])))}(e,r,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=eg(n),r=e.length;let s,o,a,l=Zp(e,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Zp(e,c+1),!a)continue;const r=a[n],u=a[i];o&&(s=(r-o[n])/3,a["cp1".concat(n)]=r-s,a["cp1".concat(i)]=u-s*t[c]),l&&(s=(l[n]-r)/3,a["cp2".concat(n)]=r+s,a["cp2".concat(i)]=u+s*t[c])}}(e,s,t)}function ig(e,t,n){return Math.max(Math.min(e,n),t)}function rg(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)ng(e,r);else{let n=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=tg(n,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,i,r,s,o,a=yp(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&yp(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=ig(r.cp1x,t.left,t.right),r.cp1y=ig(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=ig(r.cp2x,t.left,t.right),r.cp2y=ig(r.cp2y,t.top,t.bottom)))}(e,n)}function sg(){return"undefined"!==typeof window&&"undefined"!==typeof document}function og(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ag(e,t,n){let i;return"string"===typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const lg=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const cg=["top","right","bottom","left"];function ug(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=cg[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function hg(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=lg(n),s="border-box"===r.boxSizing,o=ug(r,"padding"),a=ug(r,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(r,s,e.target))o=r,a=s;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,a=i.clientY-e.top,l=!0}return{x:o,y:a,box:l}}(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=t;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const dg=e=>Math.round(10*e)/10;function fg(e,t,n,i){const r=lg(e),s=ug(r,"margin"),o=ag(r.maxWidth,e,"clientWidth")||pf,a=ag(r.maxHeight,e,"clientHeight")||pf,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const s=e&&og(e);if(s){const e=s.getBoundingClientRect(),o=lg(s),a=ug(o,"border","width"),l=ug(o,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,i=ag(o.maxWidth,s,"clientWidth"),r=ag(o.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||pf,maxHeight:r||pf}}(e,t,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const e=ug(r,"border","width"),t=ug(r,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=dg(Math.min(c,o,l.maxWidth)),u=dg(Math.min(u,a,l.maxHeight)),c&&!u&&(u=dg(c/2));return(void 0!==t||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=dg(Math.floor(u*i))),{width:c,height:u}}function pg(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0)}const gg=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};sg()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function mg(e,t){const n=function(e,t){return lg(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function vg(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function yg(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function _g(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=vg(e,r,n),a=vg(r,s,n),l=vg(s,t,n),c=vg(o,a,n),u=vg(a,l,n);return vg(c,u,n)}function bg(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function wg(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function xg(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function kg(e){return"angle"===e?{between:Rf,compare:Nf,normalize:Af}:{between:Mf,compare:(e,t)=>e-t,normalize:e=>e}}function Sg(e){let{start:t,end:n,count:i,loop:r,style:s}=e;return{start:t%i,end:n%i,loop:r&&(n-t+1)%i===0,style:s}}function Cg(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=kg(i),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=kg(i),l=t.length;let c,u,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(t[h%l][i]),r,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let g,m,v,y=!1,_=null;const b=()=>y||l(r,v,g)&&0!==a(r,v),w=()=>!y||0===a(s,g)||l(s,v,g);for(let x=u,k=u;x<=h;++x)m=t[x%o],m.skip||(g=c(m[i]),g!==v&&(y=l(g,r,s),null===_&&b()&&(_=0===a(g,r)?x:k),null!==_&&w()&&(p.push(Sg({start:_,end:x,loop:d,count:o,style:f})),_=null),k=x,v=g));return null!==_&&p.push(Sg({start:_,end:h,loop:d,count:o,style:f})),p}function Eg(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=Cg(i[r],e.points,t);s.length&&n.push(...s)}return n}function Tg(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),s=Ig(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=s,h=t[0].start,d=h;function f(e,t,i,r){const s=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),u=r,h=t%l)}}for(const p of t){h=a?h:p.start;let e,t=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];e=Ig(i.setContext(jp(r,{type:"segment",p0:t,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Pg(e,u)&&f(h,d-1,p.loop,u),t=s,u=e}h<d-1&&f(h,d-1,p.loop,u)}return c}(e,t,n,i):t}function Ig(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Pg(e,t){if(!t)return!1;const n=[],i=function(e,t){return Qf(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Ng(e,t,n){return e.options.clip?e[n]:t[n]}function Ag(e,t){const n=t._clip;if(n.disabled)return!1;const i=function(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Ng(n,t,"left"),right:Ng(n,t,"right"),top:Ng(i,t,"top"),bottom:Ng(i,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:i.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:i.right+(!0===n.right?0:n.right),top:!1===n.top?0:i.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:i.bottom+(!0===n.bottom?0:n.bottom)}}class Rg{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],s=t.duration;r.forEach((i=>i({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=Hf.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Og=new Rg;const Mg="transparent",Dg={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=Jf(e||Mg),r=i.valid&&Jf(t||Mg);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Lg{constructor(e,t,n,i){const r=t[n];i=Lp([e.to,i,r,e.from]);const s=Lp([e.from,r,i]);this._active=!0,this._fn=e.fn||Dg[e.type||typeof s],this._easing=Xf[e.easing]||Xf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Lp([e.to,t,i,e.from]),this._from=Lp([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=r:(a=t/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class jg{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Vd(e))return;const t=Object.keys(hp.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const r=e[i];if(!Vd(r))return;const s={};for(const e of t)s[e]=r[e];(Wd(r.properties)&&r.properties||[i]).forEach((e=>{e!==i&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const t=e[i[r]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(r[l]=u=new Lg(h,e,l,c),i.push(u)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Og.add(this._chart,n),!0):void 0}}function Fg(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:i?s:r,end:i?r:s}}function zg(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function Ug(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,s="single"===i.mode;let o,a,l,c;if(null===t)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,i.all)continue;break}c=e.values[l],qd(c)&&(s||0===t||bf(t)===bf(c))&&(t+=c)}return u||i.all?t:0}function Hg(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Bg(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function Wg(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function Vg(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(s,o,i),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[l]:n,[c]:s}=e;d=(e._stacks||(e._stacks={}))[c]=Bg(r,u,n),d[a]=s,d._top=Wg(d,o,!0,i.type),d._bottom=Wg(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=s}}function qg(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function Yg(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[n]&&delete t[i]._visualValues[n]}}}const Kg=e=>"reset"===e||"none"===e,$g=(e,t)=>t?e:Object.assign({},e);class Gg{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Hg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=Kd(n.xAxisID,qg(e,"x")),s=t.yAxisID=Kd(n.yAxisID,qg(e,"y")),o=t.rAxisID=Kd(n.rAxisID,qg(e,"r")),a=t.indexAxis,l=t.iAxisID=i(a,r,s,o),c=t.vAxisID=i(a,s,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&zf(this._data,this),e._stacked&&Yg(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Vd(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:i}=t,r="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:e[u]};return a}(t,e)}else if(n!==t){if(n){zf(n,this);const e=this._cachedMeta;Yg(e),e._parsed=[]}t&&Object.isExtensible(t)&&(r=this,(i=t)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Ff.forEach((e=>{const t="_onData"+af(e),n=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];const o=n.apply(this,r);return i._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...r)})),o}})})))),this._syncList=[],this._data=t}var i,r}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Hg(t.vScale,t),t.stack!==n.stack&&(i=!0,Yg(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&(Vg(this,t._parsed),t._stacked=Hg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,u=0===e&&t===i.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=Wd(i[e])?this.parseArrayData(n,i,e,t):Vd(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}s&&Vg(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:s}=e,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[o]:c||r.parse(l[f],f),[a]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,i){const{xScale:r,yScale:s}=e,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=t[h],l[c]={x:r.parse(of(d,o),h),y:s.parse(of(d,a),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,s=t[e.axis];return Ug({keys:zg(i,!0),values:t._stacks[e.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let s=null===r?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,s=Ug(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,s=i.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:zg(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=i[h];const t=d[o.axis];return!qd(d[e.axis])||c>t||u<t}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,e,d,a),!r));++h);if(r)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,e,d,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i][e.axis],qd(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return Vd(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(Kd(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=Fg(e,n),r=Fg(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,o,a),c=o;c<o+a;++c){const t=i[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,r))}for(c=0;c<s.length;++c)s[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return jp(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return jp(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===t,r=this._cachedDataOpts,s=e+"-"+t,o=r[s],a=this.enableOptionSharing&&lf(n);if(o)return $g(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(hp.elements[e]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i,t)),u);return f.$shared&&(f.$shared=a,r[s]=Object.freeze($g(f,a))),f}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,s="animation-".concat(t),o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(e,n,t))}const l=new jg(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Kg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:s}}updateElement(e,t,n,i){Kg(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!Kg(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=t.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,s=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=s;o--)e[o]=e[o-t]};for(a(r),o=e;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Yg(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Xg(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=Uf(i.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let i,r,s,o,a=t._length;const l=()=>{32767!==s&&-32768!==s&&(lf(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=t.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=t.ticks.length;i<r;++i)s=t.getPixelForTick(i),l();return a}function Qg(e,t,n,i){return Wd(e)?function(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Jg(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=t[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(Qg(d,h,s,c));return l}function Zg(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function em(e,t,n,i){let r=t.borderSkipped;const s={};if(!r)return void(e.borderSkipped=s);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[tm(u,o,a,l)]=!0,r=c)),s[tm(r,o,a,l)]=!0,e.borderSkipped=s}function tm(e,t,n,i){var r,s,o;return i?(o=n,e=nm(e=(r=e)===(s=t)?o:r===o?s:r,n,t)):e=nm(e,t,n),e}function nm(e,t,n){return"start"===e?t:"end"===e?n:e}function im(e,t,n){let{inflateAmount:i}=t;e.inflateAmount="auto"===i?1===n?.33:0:i}(0,od.A)(Gg,"defaults",{}),(0,od.A)(Gg,"datasetElementType",null),(0,od.A)(Gg,"dataElementType",null);class rm extends Gg{parsePrimitiveData(e,t,n,i){return Jg(e,t,n,i)}parseArrayData(e,t,n,i){return Jg(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=t[h],f={},f[r.axis]=r.parse(of(p,l),h),u.push(Qg(of(p,c),f,s,h));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),s=r._custom,o=Zg(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=r||Bd(t[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(t._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||Zg(t._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,e[d].active?"active":i));const m=g.options||e[d].options;em(g,m,p,s),im(g,m,c.ratio),this.updateElement(e[d],d,g,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),r=n.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(t),a=o&&o[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===a)),i=t&&t[e.vScale.axis];if(Bd(i)||isNaN(i))return!0};for(const c of i)if((void 0===t||!l(c))&&((!1===r||-1===s.indexOf(c.stack)||void 0===r&&void 0===c.stack)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,s;for(r=0,s=t.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=e.barThickness;return{min:o||Xg(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(e),l=a._custom,c=Zg(l);let u,h,d=a[t.axis],f=0,p=n?this.applyStack(t,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&bf(d)!==bf(l.barEnd)&&(f=0),f+=d);const g=Bd(r)||c?f:r;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<s){h=function(e,t,n){return 0!==e?bf(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,o)*s,d===o&&(m-=h/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),l=Math.min(e,r),f=Math.max(e,r);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[t.axis]._visualValues[i]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const e=bf(h)*t.getLineWidthForValue(o)/2;m+=e,h-=e}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,s=Kd(i.maxBarThickness,1/0);let o,a;if(t.grouped){const n=r?this._getStackCount(e):t.stackCount,l="flex"===i.barThickness?function(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?t.end-t.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,i,n):function(e,t,n,i){const r=n.barThickness;let s,o;return Bd(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}(e,t,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(s,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[t.axis]||n[r].hidden||n[r].draw(this._ctx)}}(0,od.A)(rm,"id","bar"),(0,od.A)(rm,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,od.A)(rm,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class sm extends Gg{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let s=0;s<r.length;s++){const e=t[n+s];r[s]._custom=Kd(e[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let s=0;s<r.length;s++){const e=t[n+s];r[s]._custom=Kd(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,s=this.getParsed(e),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n[e]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,i),c=s.axis,u=o.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!r&&this.getParsed(h),d={},f=d[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,t.active?"active":i),r&&(d.options.radius=0)),this.updateElement(t,h,d,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=Kd(n&&n._custom,r),i}}(0,od.A)(sm,"id","bubble"),(0,od.A)(sm,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,od.A)(sm,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class om extends Gg{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=e=>+n[e];if(Vd(n[e])){const{key:e="value"}=this._parsing;o=t=>+of(n[t],e)}for(r=e,s=e+t;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return Cf(this.options.rotation-90)}_getCircumference(){return Cf(this.options.circumference)}_getRotationExtents(){let e=df,t=-df;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(e,t,n){let i=1,r=1,s=0,o=0;if(t<df){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(e,t,i)=>Rf(e,a,l,!0)?1:Math.max(t,t*n,i,i*n),p=(e,t,i)=>Rf(e,a,l,!0)?-1:Math.min(t,t*n,i,i*n),g=f(0,c,h),m=f(mf,u,d),v=p(hf,c,h),y=p(hf+mf,u,d);i=(g-v)/2,r=(m-y)/2,s=-(g+v)/2,o=-(m+y)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(d,h,a),v=(n.width-s)/f,y=(n.height-s)/p,_=Math.max(Math.min(v,y)/2,0),b=$d(this.options.radius,_),w=(b-Math.max(b*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=m*b,i.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/df)}updateElements(e,t,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,i);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,r);for(g=t;g<t+n;++g){const t=this._circumference(g,r),n=e[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":i)),m+=t,this.updateElement(n,g,s,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?df*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ip(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,s,o,a;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),e=s.data,o=s.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Kd(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,od.A)(om,"id","doughnut"),(0,od.A)(om,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,od.A)(om,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,od.A)(om,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const s=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class am extends Gg{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=qf(t,i,s);this._drawStart=o,this._drawCount=a,Yf(t)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(i,o,a,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=kf(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,v=t+n,y=e.length;let _=t>0&&this.getParsed(t-1);for(let b=0;b<y;++b){const n=e[b],f=m?n:{};if(b<t||b>=v){f.skip=!0;continue}const y=this.getParsed(b),w=Bd(y[d]),x=f[h]=s.getPixelForValue(y[h],b),k=f[d]=r||w?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[d],b);f.skip=isNaN(x)||isNaN(k)||w,f.stop=b>0&&Math.abs(y[h]-_[h])>g,p&&(f.parsed=y,f.raw=l.data[b]),u&&(f.options=c||this.resolveDataElementOptions(b,n.active?"active":i)),m||this.updateElement(n,b,f,i),_=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,od.A)(am,"id","line"),(0,od.A)(am,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,od.A)(am,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class lm extends Gg{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ip(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return Qp.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),s=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,i){const r="reset"===i,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*hf;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,i,f);for(h=t;h<t+n;h++){const t=e[h];let n=d,p=d+this._computeAngle(h,i,f),g=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,r&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,t.active?"active":i)};this.updateElement(t,h,m,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Cf(this.resolveDataElementOptions(e,t).angle||n):0}}(0,od.A)(lm,"id","polarArea"),(0,od.A)(lm,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,od.A)(lm,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const s=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class cm extends om{}(0,od.A)(cm,"id","pie"),(0,od.A)(cm,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class um extends Gg{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return Qp.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,c=s?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,i)}}}(0,od.A)(um,"id","radar"),(0,od.A)(um,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,od.A)(um,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class hm extends Gg{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,s=this.getParsed(e),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y);return{label:n[e]||"",value:"("+o+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:s}=qf(t,n,i);if(this._drawStart=r,this._drawCount=s,Yf(t)&&(r=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:s}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,r,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=kf(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let y=t>0&&this.getParsed(t-1);for(let _=t;_<t+n;++_){const t=e[_],n=this.getParsed(_),c=v?t:{},p=Bd(n[f]),b=c[d]=s.getPixelForValue(n[d],_),w=c[f]=r||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],_);c.skip=isNaN(b)||isNaN(w)||p,c.stop=_>0&&Math.abs(n[d]-y[d])>m,g&&(c.parsed=n,c.raw=l.data[_]),h&&(c.options=u||this.resolveDataElementOptions(_,t.active?"active":i)),v||this.updateElement(t,_,c,i),y=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,s)/2}}(0,od.A)(hm,"id","scatter"),(0,od.A)(hm,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,od.A)(hm,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function dm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fm{static override(e){Object.assign(fm.prototype,e)}constructor(e){(0,od.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return dm()}parse(){return dm()}format(){return dm()}add(){return dm()}diff(){return dm()}startOf(){return dm()}endOf(){return dm()}}var pm=fm;function gm(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&"r"!==t&&o&&s.length){const o=a._reversePixels?jf:Lf;if(!i){const i=o(s,t,n);if(l){const{vScale:t}=r._cachedMeta,{_parsed:n}=e,s=n.slice(0,i.lo+1).reverse().findIndex((e=>!Bd(e[t.axis])));i.lo-=Math.max(0,s);const o=n.slice(i.hi).findIndex((e=>!Bd(e[t.axis])));i.hi+=Math.max(0,o)}return i}if(r._sharedOptions){const e=s[0],i="function"===typeof e.getRange&&e.getRange(t);if(i){const e=o(s,t,n-i),r=o(s,t,n+i);return{lo:e.lo,hi:r.hi}}}}return{lo:0,hi:s.length-1}}function mm(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:e,data:n}=s[a],{lo:l,hi:c}=gm(s[a],t,o,r);for(let t=l;t<=c;++t){const r=n[t];r.skip||i(r,e,t)}}}function vm(e,t,n,i,r){const s=[];if(!r&&!e.isPointInArea(t))return s;return mm(e,n,t,(function(n,o,a){(r||yp(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function ym(e,t,n,i,r,s){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,s=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return mm(e,n,t,(function(n,c,u){const h=n.inRange(t.x,t.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!s||e.isPointInArea(d))&&!h)return;const f=a(t,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function _m(e,t,n,i,r,s){return s||e.isPointInArea(t)?"r"!==n||i?ym(e,t,n,i,r,s):function(e,t,n,i){let r=[];return mm(e,n,t,(function(e,n,s){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],i),{angle:l}=If(e,{x:t.x,y:t.y});Rf(l,o,a)&&r.push({element:e,datasetIndex:n,index:s})})),r}(e,t,n,r):[]}function bm(e,t,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return mm(e,n,t,((e,i,l)=>{e[o]&&e[o](t[n],r)&&(s.push({element:e,datasetIndex:i,index:l}),a=a||e.inRange(t.x,t.y,r))})),i&&!a?[]:s}var wm={evaluateInteractionItems:mm,modes:{index(e,t,n,i){const r=hg(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?vm(e,r,s,i,o):_m(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,i){const r=hg(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?vm(e,r,s,i,o):_m(e,r,s,!1,i,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,i)=>vm(e,hg(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=hg(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return _m(e,r,s,n.intersect,i,o)},x:(e,t,n,i)=>bm(e,hg(t,e),"x",n.intersect,i),y:(e,t,n,i)=>bm(e,hg(t,e),"y",n.intersect,i)}};const xm=["left","top","right","bottom"];function km(e,t){return e.filter((e=>e.pos===t))}function Sm(e,t){return e.filter((e=>-1===xm.indexOf(e.pos)&&e.box.axis===t))}function Cm(e,t){return e.sort(((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function Em(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!xm.includes(i))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&t.availableHeight)}return n}function Tm(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function Im(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Pm(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!Vd(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[r]+=n.size}s.getPadding&&Im(o,s.getPadding());const a=Math.max(0,t.outerWidth-Tm(o,e,"left","right")),l=Math.max(0,t.outerHeight-Tm(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Nm(e,t){const n=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{i[e]=Math.max(t[e],n[e])})),i}return i(e?["left","right"]:["top","bottom"])}function Am(e,t,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,Nm(a.horizontal,t));const{same:o,other:h}=Pm(t,n,a,i);c|=o&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&Am(r,t,n,i)||u}function Rm(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function Om(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const e=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=t.w*c,s=l.size||e.height;lf(l.start)&&(o=l.start),e.fullSize?Rm(e,r.left,o,n.outerWidth-r.right-r.left,s):Rm(e,t.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;lf(l.start)&&(s=l.start),e.fullSize?Rm(e,s,r.top,o,n.outerHeight-r.bottom-r.top):Rm(e,s,t.top+l.placed,o,i),l.start=s,l.placed+=i,s=e.right}}t.x=s,t.y=o}var Mm={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=Mp(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=function(e){const t=function(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}(e),n=Cm(t.filter((e=>e.box.fullSize)),!0),i=Cm(km(t,"left"),!0),r=Cm(km(t,"right")),s=Cm(km(t,"top"),!0),o=Cm(km(t,"bottom")),a=Sm(t,"x"),l=Sm(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:km(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;Xd(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);Im(d,Mp(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=Em(l.concat(c),h);Am(a.fullSize,f,h,p),Am(l,f,h,p),Am(c,f,h,p)&&Am(l,f,h,p),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),Om(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Om(a.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Xd(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Dm{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class Lm extends Dm{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const jm="$chartjs",Fm={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zm=e=>null===e||""===e;const Um=!!gg&&{passive:!0};function Hm(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Um)}function Bm(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Wm(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Bm(n.addedNodes,i),t=t&&!Bm(n.removedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Vm(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Bm(n.removedNodes,i),t=t&&!Bm(n.addedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const qm=new Map;let Ym=0;function Km(){const e=window.devicePixelRatio;e!==Ym&&(Ym=e,qm.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function $m(e,t,n){const i=e.canvas,r=i&&og(i);if(!r)return;const s=Bf(((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),function(e,t){qm.size||window.addEventListener("resize",Km),qm.set(e,t)}(e,s),o}function Gm(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){qm.delete(e),qm.size||window.removeEventListener("resize",Km)}(e)}function Xm(e,t,n){const i=e.canvas,r=Bf((t=>{null!==e.ctx&&n(function(e,t){const n=Fm[e.type]||e.type,{x:i,y:r}=hg(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,Um)}(i,t,r),r}class Qm extends Dm{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[jm]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",zm(r)){const t=mg(e,"width");void 0!==t&&(e.width=t)}if(zm(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=mg(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[jm])return!1;const n=t[jm].initial;["height","width"].forEach((e=>{const i=n[e];Bd(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t[jm],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:Wm,detach:Vm,resize:$m}[t]||Xm;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:Gm,detach:Gm,resize:Gm}[t]||Hm)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return fg(e,t,n,i)}isAttached(e){const t=e&&og(e);return!(!t||!t.isConnected)}}class Jm{constructor(){(0,od.A)(this,"x",void 0),(0,od.A)(this,"y",void 0),(0,od.A)(this,"active",!1),(0,od.A)(this,"options",void 0),(0,od.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return kf(this.x)&&kf(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach((e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),i}}function Zm(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return function(e,t,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),s++,o=n[s*i])}(t,c,s,o/r),c;const u=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const s=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(i);for(let o=0,a=s.length-1;o<a;o++){const e=s[o];if(e>r)return e}return Math.max(r,1)}(s,t,r);if(o>0){let e,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(ev(t,c,u,Bd(i)?0:a-i,a),e=0,n=o-1;e<n;e++)ev(t,c,u,s[e],s[e+1]);return ev(t,c,u,l,Bd(i)?t.length:l+i),c}return ev(t,c,u),c}function ev(e,t,n,i,r){const s=Kd(i,0),o=Math.min(Kd(r,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}(0,od.A)(Jm,"defaults",{}),(0,od.A)(Jm,"defaultRoutes",void 0);const tv=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,nv=(e,t)=>Math.min(t||e,e);function iv(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function rv(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<s-a||c>o+a)))return c}function sv(e){return e.drawTicks?e.tickLength:0}function ov(e,t){if(!e.display)return 0;const n=Dp(e.font,t),i=Mp(e.padding);return(Wd(e.text)?e.text.length:1)*n.lineHeight+i.height}function av(e,t,n){let i=Wf(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class lv extends Jm{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=Yd(e,Number.POSITIVE_INFINITY),t=Yd(t,Number.NEGATIVE_INFINITY),n=Yd(n,Number.POSITIVE_INFINITY),i=Yd(i,Number.NEGATIVE_INFINITY),{min:Yd(e,n),max:Yd(t,i),minDefined:qd(e),maxDefined:qd(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),s||(i=Math.max(i,t.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Yd(n,Yd(i,n)),max:Yd(i,Yd(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gd(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:r}=e,s=$d(t,(r-i)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?iv(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=Zm(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gd(this.options.afterUpdate,[this])}beforeSetDimensions(){Gd(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gd(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Gd(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gd(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=Gd(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){Gd(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gd(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=nv(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Of(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(e.offset?.5:1)),o=this.maxHeight-sv(e.grid)-t.padding-ov(e.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Ef(Math.min(Math.asin(Of((c.highest.height+6)/s,-1,1)),Math.asin(Of(o/a,-1,1))-Math.asin(Of(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Gd(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gd(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=ov(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=sv(r)+s):(e.height=this.maxHeight,e.width=sv(r)+s),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Cf(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*r.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*r.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*e.width,h=n*t.height):(u=n*e.height,h=i*t.width):"start"===r?h=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gd(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Bd(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=iv(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(t/nv(t,n));let l,c,u,h,d,f,p,g,m,v,y,_=0,b=0;for(l=0;l<t;l+=a){if(h=e[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},g=d.lineHeight,m=v=0,Bd(h)||Wd(h)){if(Wd(h))for(c=0,u=h.length;c<u;++c)y=h[c],Bd(y)||Wd(y)||(m=dp(i,p.data,p.gc,m,y),v+=g)}else m=dp(i,p.data,p.gc,m,h),v=g;s.push(m),o.push(v),_=Math.max(m,_),b=Math.max(v,b)}!function(e,t){Xd(e,(e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}}))}(r,t);const w=s.indexOf(_),x=o.indexOf(b),k=e=>({width:s[e]||0,height:o[e]||0});return{first:k(0),last:k(t-1),widest:k(w),highest:k(x),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Of(this._alignToPixels?pp(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return jp(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=jp(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Cf(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),s=e.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=sv(r),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(e){return pp(n,e,f)};let m,v,y,_,b,w,x,k,S,C,E,T;if("top"===s)m=g(this.bottom),w=this.bottom-u,k=m-p,C=g(e.top)+p,T=e.bottom;else if("bottom"===s)m=g(this.top),C=e.top,T=g(e.bottom)-p,w=m+p,k=this.top+u;else if("left"===s)m=g(this.right),b=this.right-u,x=m-p,S=g(e.left)+p,E=e.right;else if("right"===s)m=g(this.left),S=e.left,E=g(e.right)-p,b=m+p,x=this.left+u;else if("x"===t){if("center"===s)m=g((e.top+e.bottom)/2+.5);else if(Vd(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}C=e.top,T=e.bottom,w=m+p,k=w+u}else if("y"===t){if("center"===s)m=g((e.left+e.right)/2);else if(Vd(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}b=m-p,x=b-u,S=e.left,E=e.right}const I=Kd(i.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/I));for(v=0;v<c;v+=P){const e=this.getContext(v),t=r.setContext(e),i=o.setContext(e),s=t.lineWidth,c=t.color,u=i.dash||[],d=i.dashOffset,f=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;y=rv(this,v,a),void 0!==y&&(_=pp(n,y,s),l?b=x=S=E=_:w=k=C=T=_,h.push({tx1:b,ty1:w,tx2:x,ty2:k,x1:S,y1:C,x2:E,y2:T,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=sv(n.grid),d=h+c,f=u?-c:d,p=-Cf(this.labelRotation),g=[];let m,v,y,_,b,w,x,k,S,C,E,T,I="middle";if("top"===i)w=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===i)w=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(h);x=e.textAlign,b=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(h);x=e.textAlign,b=e.x}else if("x"===t){if("center"===i)w=(e.top+e.bottom)/2+d;else if(Vd(i)){const e=Object.keys(i)[0],t=i[e];w=this.chart.scales[e].getPixelForValue(t)+d}x=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)b=(e.left+e.right)/2-d;else if(Vd(i)){const e=Object.keys(i)[0],t=i[e];b=this.chart.scales[e].getPixelForValue(t)}x=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===a?I="top":"end"===a&&(I="bottom"));const P=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){y=o[m],_=y.label;const e=r.setContext(this.getContext(m));k=this.getPixelForTick(m)+r.labelOffset,S=this._resolveTickFontOptions(m),C=S.lineHeight,E=Wd(_)?_.length:1;const t=E/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let h,d=x;if(s?(b=k,"inner"===x&&(d=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),T="top"===i?"near"===l||0!==p?-E*C+C/2:"center"===l?-P.highest.height/2-t*C+C:-P.highest.height+C/2:"near"===l||0!==p?C/2:"center"===l?P.highest.height/2-t*C:P.highest.height-E*C,u&&(T*=-1),0===p||e.showLabelBackdrop||(b+=C/2*Math.sin(p))):(w=k,T=(1-E)*C/2),e.showLabelBackdrop){const t=Mp(e.backdropPadding),n=P.heights[m],i=P.widths[m];let r=T-t.top,s=0-t.left;switch(I){case"middle":r-=n/2;break;case"bottom":r-=n}switch(x){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":m===v-1?s-=i:m>0&&(s-=i/2)}h={left:s,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:_,font:S,textOffset:T,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:I,translation:[b,w],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Cf(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=e+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===t?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===t?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,s;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,s=i.length;r<s;++r){const e=i[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=pp(e,this.left,s)-s/2,c=pp(e,this.right,o)+o/2,u=h=a):(u=pp(e,this.top,s)-s/2,h=pp(e,this.bottom,o)+o/2,l=c=a),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&_p(t,n);const i=this.getLabelItems(e);for(const r of i){const e=r.options,n=r.font;Cp(t,r.label,0,r.textOffset,n,e)}n&&bp(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=Dp(n.font),s=Mp(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===t||"center"===t||Vd(t)?(a+=s.bottom,Wd(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=o-r,m=a-s;if(e.isHorizontal()){if(d=Vf(i,s,a),Vd(n)){const e=Object.keys(n)[0],i=n[e];f=u[e].getPixelForValue(i)+g-t}else f="center"===n?(c.bottom+c.top)/2+g-t:tv(e,n,t);h=a-s}else{if(Vd(n)){const e=Object.keys(n)[0],i=n[e];d=u[e].getPixelForValue(i)-m+t}else d="center"===n?(c.left+c.right)/2-m+t:tv(e,n,t);f=Vf(i,o,r),p="left"===n?-mf:mf}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,t,o);Cp(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:av(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Kd(e.grid&&e.grid.z,-1),i=Kd(e.border&&e.border.z,0);return this._isVisible()&&this.draw===lv.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=t.length;r<s;++r){const s=t[r];s[n]!==this.id||e&&s.type!==e||i.push(s)}return i}_resolveTickFontOptions(e){return Dp(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class cv{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=tf(Object.create(null),[n?hp.get(n):{},hp.get(t),e.defaults]);hp.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");hp.route(s,r,l,a)}))}(t,e.defaultRoutes);e.descriptors&&hp.describe(t,e.descriptors)}(e,s,n),this.override&&hp.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in hp[i]&&(delete hp[i][n],this.override&&delete op[n])}}class uv{constructor(){this.controllers=new cv(Gg,"datasets",!0),this.elements=new cv(Jm,"elements"),this.plugins=new cv(Object,"plugins"),this.scales=new cv(lv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):Xd(t,(t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)}))}))}_exec(e,t,n){const i=af(e);Gd(n["before"+i],[],n),t[e](n),Gd(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var hv=new uv;class dv{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===Gd(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){Bd(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=Kd(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys(hv.plugins.items);for(let s=0;s<i.length;s++)n.push(hv.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const e=r[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,t,n,i){let{plugins:r,localIds:s}=t;const o=[],a=e.getContext();for(const l of r){const t=l.id,r=fv(n[t],i);null!==r&&o.push({plugin:l,options:pv(e.config,{plugin:l,local:s[t]},r,a)})}return o}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function fv(e,t){return t||!1!==e?!0===e?{}:e:null}function pv(e,t,n,i){let{plugin:r,local:s}=t;const o=e.pluginScopeKeys(r),a=e.getOptionScopes(n,o);return s&&r.defaults&&a.push(r.defaults),e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gv(e,t){const n=hp.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function mv(e){if("x"===e||"y"===e||"r"===e)return e}function vv(e){if(mv(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const s of n){const t=s.axis||("top"===(r=s.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||e.length>1&&mv(e[0].toLowerCase());if(t)return t}var r;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function yv(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function _v(e,t){const n=op[e.type]||{scales:{}},i=t.scales||{},r=gv(e.type,t),s=Object.create(null);return Object.keys(i).forEach((t=>{const o=i[t];if(!Vd(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const a=vv(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return yv(e,"x",n[0])||yv(e,"y",n[0])}return{}}(t,e),hp.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,r),c=n.scales||{};s[t]=nf(Object.create(null),[{axis:a},o,c[a],c[l]])})),e.data.datasets.forEach((n=>{const r=n.type||e.type,o=n.indexAxis||gv(r,t),a=(op[r]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),r=n[t+"AxisID"]||t;s[r]=s[r]||Object.create(null),nf(s[r],[{axis:t},i[r],a[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];nf(t,[hp.scales[t.type],hp.scale])})),s}function bv(e){const t=e.options||(e.options={});t.plugins=Kd(t.plugins,{}),t.scales=_v(e,t)}function wv(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const xv=new Map,kv=new Set;function Sv(e,t){let n=xv.get(e);return n||(n=t(),xv.set(e,n),kv.add(n)),n}const Cv=(e,t,n)=>{const i=of(t,n);void 0!==i&&e.add(i)};class Ev{constructor(e){this._config=function(e){return(e=e||{}).data=wv(e.data),bv(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=wv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),bv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Sv(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return Sv("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return Sv("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return Sv("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,s=this._cachedScopes(e,n),o=s.get(t);if(o)return o;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>Cv(a,e,t)))),t.forEach((e=>Cv(a,i,e))),t.forEach((e=>Cv(a,op[r]||{},e))),t.forEach((e=>Cv(a,hp,e))),t.forEach((e=>Cv(a,ap,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),kv.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,op[t]||{},hp.datasets[t]||{},{type:t},hp,ap]}resolveNamedOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:s,subPrefixes:o}=Tv(this._resolverCache,e,i);let a=s;if(function(e,t){const{isScriptable:n,isIndexable:i}=Up(e);for(const r of t){const t=n(r),s=i(r),o=(s||t)&&e[r];if(t&&(cf(o)||Iv(o))||s&&Wd(o))return!0}return!1}(s,t)){r.$shared=!1;a=zp(s,n=cf(n)?n():n,this.createResolver(e,n,o))}for(const l of t)r[l]=a[l];return r}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=Tv(this._resolverCache,e,n);return Vd(t)?zp(r,t,void 0,i):r}}function Tv(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:Fp(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(r,s)}return s}const Iv=e=>Vd(e)&&Object.getOwnPropertyNames(e).some((t=>cf(e[t])));const Pv=["top","bottom","left","right","chartArea"];function Nv(e,t){return"top"===e||"bottom"===e||-1===Pv.indexOf(e)&&"x"===t}function Av(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Rv(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Gd(n&&n.onComplete,[e],t)}function Ov(e){const t=e.chart,n=t.options.animation;Gd(n&&n.onProgress,[e],t)}function Mv(e){return sg()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Dv={},Lv=e=>{const t=Mv(e);return Object.values(Dv).filter((e=>e.canvas===t)).pop()};function jv(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const s=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=s)}}}class Fv{static register(){hv.add(...arguments),zv()}static unregister(){hv.remove(...arguments),zv()}constructor(e,t){const n=this.config=new Ev(t),i=Mv(e),r=Lv(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!sg()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Lm:Qm}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=Hd(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],Dv[this.id]=this,o&&a?(Og.listen(this,"complete",Rv),Og.listen(this,"progress",Ov),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return Bd(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return hv}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gp(this.canvas,this.ctx),this}stop(){return Og.stop(this),this}resize(e,t){Og.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,pg(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),Gd(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){Xd(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const n=t[e],i=vv(e,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),Xd(r,(t=>{const r=t.options,s=r.id,o=vv(s,r),a=Kd(r.type,t.dtype);void 0!==r.position&&Nv(r.position,o)===Nv(t.dposition)||(r.position=t.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(hv.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,e)})),Xd(i,((e,t)=>{e||delete n[t]})),Xd(n,(e=>{Mm.configure(this,e,e.options),Mm.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Av("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||gv(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=hv.getController(s),{datasetElementType:i,dataElementType:o}=hp.datasets[s];Object.assign(t,{dataElementType:hv.getElement(o),datasetElementType:i&&hv.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Xd(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===r.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||Xd(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Av("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Xd(this.scales,(e=>{Mm.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);uf(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){jv(e,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let r=1;r<t;r++)if(!uf(i,n(r)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Mm.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Xd(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,cf(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Og.has(this)?this.attached&&!Og.running(this)&&Og.start(this):(this.draw(),Rv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=Ag(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(i&&_p(t,i),e.controller.draw(),i&&bp(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return yp(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=wm.modes[t];return"function"===typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter((e=>e&&e._dataset===t)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=jp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),s=r.controller._resolveAnimations(void 0,i);lf(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(r,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Og.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),gp(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Dv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Xd(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){Xd(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Xd(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){s=e[o];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}));!Qd(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=r(t,e),o=n?e:r(e,t);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,s=t,o=this._getActiveElements(e,i,n,s),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,Gd(r.onHover,[e,o,this],this),a&&Gd(r.onClick,[e,o,this],this));const c=!Qd(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function zv(){return Xd(Fv.instances,(e=>e._plugins.invalidate()))}function Uv(e,t,n,i){const r=Ap(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,o=Math.min(s,i*t/2),a=e=>{const t=(n-Math.min(s,e))*i/2;return Of(e,0,Math.min(s,t))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Of(r.innerStart,0,o),innerEnd:Of(r.innerEnd,0,o)}}function Hv(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Bv(e,t,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const e=((u>0?u-i:0)+(h>0?h-i:0))/2;f=(p-(0!==e?p*e/(e+i):p))/2}const g=(p-Math.max(.001,p*h-n/hf)/h)/2,m=l+g+f,v=r-g-f,{outerStart:y,outerEnd:_,innerStart:b,innerEnd:w}=Uv(t,d,h,v-m),x=h-y,k=h-_,S=m+y/x,C=v-_/k,E=d+b,T=d+w,I=m+b/E,P=v-w/T;if(e.beginPath(),s){const t=(S+C)/2;if(e.arc(o,a,h,S,t),e.arc(o,a,h,t,C),_>0){const t=Hv(k,C,o,a);e.arc(t.x,t.y,_,C,v+mf)}const n=Hv(T,v,o,a);if(e.lineTo(n.x,n.y),w>0){const t=Hv(T,P,o,a);e.arc(t.x,t.y,w,v+mf,P+Math.PI)}const i=(v-w/d+(m+b/d))/2;if(e.arc(o,a,d,v-w/d,i,!0),e.arc(o,a,d,i,m+b/d,!0),b>0){const t=Hv(E,I,o,a);e.arc(t.x,t.y,b,I+Math.PI,m-mf)}const r=Hv(x,m,o,a);if(e.lineTo(r.x,r.y),y>0){const t=Hv(x,S,o,a);e.arc(t.x,t.y,y,m-mf,S)}}else{e.moveTo(o,a);const t=Math.cos(S)*h+o,n=Math.sin(S)*h+a;e.lineTo(t,n);const i=Math.cos(C)*h+o,r=Math.sin(C)*h+a;e.lineTo(i,r)}e.closePath()}function Wv(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(s){Bv(e,t,n,i,p,r);for(let t=0;t<s;++t)e.stroke();isNaN(a)||(p=o+(a%df||df))}f&&function(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(s,o,a,i-c,n+c),l>r?(c=r/l,e.arc(s,o,l,n+c,i-c,!0)):e.arc(s,o,r,n+mf,i-mf),e.closePath(),e.clip()}(e,t,p),s||(Bv(e,t,n,i,p,r),e.stroke())}(0,od.A)(Fv,"defaults",hp),(0,od.A)(Fv,"instances",Dv),(0,od.A)(Fv,"overrides",op),(0,od.A)(Fv,"registry",hv),(0,od.A)(Fv,"version","4.4.9"),(0,od.A)(Fv,"getChart",Lv);class Vv extends Jm{constructor(e){super(),(0,od.A)(this,"circumference",void 0),(0,od.A)(this,"endAngle",void 0),(0,od.A)(this,"fullCircles",void 0),(0,od.A)(this,"innerRadius",void 0),(0,od.A)(this,"outerRadius",void 0),(0,od.A)(this,"pixelMargin",void 0),(0,od.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=If(i,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=Kd(u,a-o),f=Rf(r,o,a)&&o!==a,p=d>=df||f,g=Mf(s,l+h,c+h);return p&&g}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(s+o+l+a)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>df?Math.floor(n/df):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(hf,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){Bv(e,t,n,i,l,r);for(let t=0;t<s;++t)e.fill();isNaN(a)||(l=o+(a%df||df))}Bv(e,t,n,i,l,r),e.fill()}(e,this,a,r,s),Wv(e,this,a,r,s),e.restore()}}function qv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Kd(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Kd(n.borderDash,t.borderDash)),e.lineDashOffset=Kd(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Kd(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Kd(n.borderWidth,t.borderWidth),e.strokeStyle=Kd(n.borderColor,t.borderColor)}function Yv(e,t,n){e.lineTo(n.x,n.y)}function Kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function $v(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=Kv(r,n,i),u=function(e){return e.stepped?wp:e.tension||"monotone"===e.cubicInterpolationMode?xp:Yv}(s);let h,d,f,{move:p=!0,reverse:g}=i||{};for(h=0;h<=c;++h)d=r[(a+(g?c-h:h))%o],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,g,s.stepped),f=d);return l&&(d=r[(a+(g?c:0))%o],u(e,f,d,g,s.stepped)),!!l}function Gv(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=Kv(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,f,p,g,m=0,v=0;const y=e=>(o+(c?a-e:e))%s,_=()=>{f!==p&&(e.lineTo(m,p),e.lineTo(m,f),e.lineTo(m,g))};for(l&&(h=r[y(0)],e.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[y(u)],h.skip)continue;const t=h.x,n=h.y,i=0|t;i===d?(n<f?f=n:n>p&&(p=n),m=(v*m+t)/++v):(_(),e.lineTo(t,n),d=i,v=0,f=p=n),g=n}_()}function Xv(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Gv:$v}(0,od.A)(Vv,"id","arc"),(0,od.A)(Vv,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),(0,od.A)(Vv,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,od.A)(Vv,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Qv="function"===typeof Path2D;function Jv(e,t,n,i){Qv&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),qv(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:s}=t,o=Xv(t);for(const a of r)qv(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}class Zv extends Jm{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;rg(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=function(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}(n,r,s,i);return Tg(e,!0===i?[{start:o,end:a,loop:s}]:function(e,t,n,i){const r=e.length,s=[];let o,a=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:t%r,end:(o-1)%r,loop:i}),t=a=n.stop?o:null):(a=o,l.skip&&(t=o)),l=n}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(n,o,a<o?a+r:a,!!e._fullLoop&&0===o&&a===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,s=Eg(this,{property:t,start:i,end:i});if(!s.length)return;const o=[],a=function(e){return e.stepped?yg:e.tension||"monotone"===e.cubicInterpolationMode?_g:vg}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=r[c],d=r[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((i-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],o.push(f)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return Xv(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=Xv(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)s&=r(e,this,o,{start:t,end:t+n-1});return!!s}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Jv(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ey(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}(0,od.A)(Zv,"id","line"),(0,od.A)(Zv,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,od.A)(Zv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,od.A)(Zv,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class ty extends Jm{constructor(e){super(),(0,od.A)(this,"parsed",void 0),(0,od.A)(this,"skip",void 0),(0,od.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return ey(this,e,"x",t)}inYRange(e,t){return ey(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!yp(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,mp(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function ny(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function iy(e,t,n,i){return e?0:Of(t,n,i)}function ry(e){const t=ny(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=Rp(i);return{t:iy(r.top,s.top,0,n),r:iy(r.right,s.right,0,t),b:iy(r.bottom,s.bottom,0,n),l:iy(r.left,s.left,0,t)}}(e,n/2,i/2),s=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=Op(r),o=Math.min(t,n),a=e.borderSkipped,l=i||Vd(r);return{topLeft:iy(!l||a.top||a.left,s.topLeft,0,o),topRight:iy(!l||a.top||a.right,s.topRight,0,o),bottomLeft:iy(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:iy(!l||a.bottom||a.right,s.bottomRight,0,o)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function sy(e,t,n,i){const r=null===t,s=null===n,o=e&&!(r&&s)&&ny(e,i);return o&&(r||Mf(t,o.left,o.right))&&(s||Mf(n,o.top,o.bottom))}function oy(e,t){e.rect(t.x,t.y,t.w,t.h)}function ay(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}(0,od.A)(ty,"id","point"),(0,od.A)(ty,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,od.A)(ty,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class ly extends Jm{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=ry(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Ep:oy;var a;e.save(),s.w===r.w&&s.h===r.h||(e.beginPath(),o(e,ay(s,t,r)),e.clip(),o(e,ay(r,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,ay(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return sy(this,e,t,n)}inXRange(e,t){return sy(this,e,null,t)}inYRange(e,t){return sy(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,od.A)(ly,"id","bar"),(0,od.A)(ly,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,od.A)(ly,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const cy=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class uy extends Jm{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Gd(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=Dp(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=cy(n,r);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,i,o,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=e;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+r.measureText(e.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+o})),u}_fitCols(e,t,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,i,r){const s=function(e,t,n,i){let r=e.text;r&&"string"!==typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+i.measureText(r).width}(i,e,t,n),o=function(e,t,n){let i=e;"string"!==typeof t.text&&(i=hy(t,n));return i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,r,e,i);s>0&&d+m+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,s=bg(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=Vf(n,this.left+i,this.right-this.lineWidths[r]);for(const a of t)r!==a.row&&(r=a.row,o=Vf(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+e+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=Vf(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const a of t)a.col!==r&&(r=a.col,o=Vf(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;_p(e,this),this._draw(),bp(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:s}=e,o=hp.color,a=bg(e.rtl,this.left,this.width),l=Dp(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=cy(s,u),m=this.isHorizontal(),v=this._computeTitleHeight();d=m?{x:Vf(r,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:Vf(r,this.top+v+c,this.bottom-t[0].height),line:0},wg(this.ctx,e.textDirection);const y=g+c;this.legendItems.forEach(((_,b)=>{i.strokeStyle=_.fontColor,i.fillStyle=_.fontColor;const w=i.measureText(_.text).width,x=a.textAlign(_.textAlign||(_.textAlign=s.textAlign)),k=f+h+w;let S=d.x,C=d.y;a.setWidth(this.width),m?b>0&&S+k+c>this.right&&(C=d.y+=y,d.line++,S=d.x=Vf(r,this.left+c,this.right-n[d.line])):b>0&&C+y>this.bottom&&(S=d.x=S+t[d.line].width+c,d.line++,C=d.y=Vf(r,this.top+v+c,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=Kd(n.lineWidth,1);if(i.fillStyle=Kd(n.fillStyle,o),i.lineCap=Kd(n.lineCap,"butt"),i.lineDashOffset=Kd(n.lineDashOffset,0),i.lineJoin=Kd(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=Kd(n.strokeStyle,o),i.setLineDash(Kd(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(e,f/2);vp(i,o,l,t+h,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),o=a.leftForLtr(e,f),l=Op(n.borderRadius);i.beginPath(),Object.values(l).some((e=>0!==e))?Ep(i,{x:o,y:s,w:f,h:p,radius:l}):i.rect(o,s,f,p),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(S),C,_),S=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(x,S+f+h,m?S+k:this.right,e.rtl),function(e,t,n){Cp(i,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(S),C,_),m)d.x+=k+c;else if("string"!==typeof _.text){const e=l.lineHeight;d.y+=hy(_,e)+c}else d.y+=y})),xg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Dp(t.font),i=Mp(t.padding);if(!t.display)return;const r=bg(e.rtl,this.left,this.width),s=this.ctx,o=t.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=Vf(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Vf(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=Vf(o,u,u+h);s.textAlign=r.textAlign(Wf(o)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Cp(s,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=Dp(e.font),n=Mp(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(Mf(e,this.left,this.right)&&Mf(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Mf(e,i.left,i.left+i.width)&&Mf(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,r=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(i,n);i&&!r&&Gd(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&Gd(t.onHover,[e,n,this],this)}else n&&Gd(t.onClick,[e,n,this],this)}}function hy(e,t){return t*(e.text?e.text.length:0)}var dy={id:"legend",_element:uy,start(e,t,n){const i=e.legend=new uy({ctx:e.ctx,options:n,chart:e});Mm.configure(e,i,n),Mm.addBox(e,i)},stop(e){Mm.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Mm.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Mp(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class fy extends Jm{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=Wd(n.text)?n.text.length:1;this._padding=Mp(n.padding);const r=i*Dp(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=Vf(o,n,r),c=t+e,a=r-n):("left"===s.position?(l=n+e,c=Vf(o,i,t),u=-.5*hf):(l=r-e,c=Vf(o,t,i),u=.5*hf),a=i-t),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Dp(t.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(i);Cp(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:a,textAlign:Wf(t.align),textBaseline:"middle",translation:[r,s]})}}var py={id:"title",_element:fy,start(e,t,n){!function(e,t){const n=new fy({ctx:e.ctx,options:t,chart:e});Mm.configure(e,n,t),Mm.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Mm.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Mm.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const gy={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i.add(e.x),r+=e.y,++s}}if(0===s||0===i.size)return!1;const o=[...i].reduce(((e,t)=>e+t))/i.size;return{x:o,y:r/s}},nearest(e,t){if(!e.length)return!1;let n,i,r,s=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=Pf(t,i.getCenterPoint());e<a&&(a=e,r=i)}}if(r){const e=r.tooltipPosition();s=e.x,o=e.y}return{x:s,y:o}}};function my(e,t){return t&&(Wd(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function vy(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function yy(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function _y(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Dp(t.bodyFont),c=Dp(t.titleFont),u=Dp(t.footerFont),h=s.length,d=r.length,f=i.length,p=Mp(t.padding);let g=p.height,m=0,v=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){g+=f*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const _=function(e){m=Math.max(m,n.measureText(e).width+y)};return n.save(),n.font=c.string,Xd(e.title,_),n.font=l.string,Xd(e.beforeBody.concat(e.afterBody),_),y=t.displayColors?o+2+t.boxPadding:0,Xd(i,(e=>{Xd(e.before,_),Xd(e.lines,_),Xd(e.after,_)})),y=0,n.font=u.string,Xd(e.footer,_),n.restore(),m+=p.width,{width:m,height:g}}function by(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===e&&r+s+o>t.width||"right"===e&&r-s-o<0||void 0}(c,e,t,n)&&(c="center"),c}function wy(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||by(e,t,n,i),yAlign:i}}function xy(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Op(o);let p=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,a);const g=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:Of(p,0,i.width-t.width),y:Of(g,0,i.height-t.height)}}function ky(e,t,n){const i=Mp(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function Sy(e){return my([],vy(e))}function Cy(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Ey={beforeTitle:Ud,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Ud,beforeBody:Ud,beforeLabel:Ud,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Bd(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ud,afterBody:Ud,beforeFooter:Ud,footer:Ud,afterFooter:Ud};function Ty(e,t,n,i){const r=e[t].call(n,i);return"undefined"===typeof r?Ey[t].call(n,i):r}class Iy extends Jm{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new jg(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,jp(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,i=Ty(n,"beforeTitle",this,e),r=Ty(n,"title",this,e),s=Ty(n,"afterTitle",this,e);let o=[];return o=my(o,vy(i)),o=my(o,vy(r)),o=my(o,vy(s)),o}getBeforeBody(e,t){return Sy(Ty(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return Xd(e,(e=>{const t={before:[],lines:[],after:[]},r=Cy(n,e);my(t.before,vy(Ty(r,"beforeLabel",this,e))),my(t.lines,Ty(r,"label",this,e)),my(t.after,vy(Ty(r,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return Sy(Ty(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=Ty(n,"beforeFooter",this,e),r=Ty(n,"footer",this,e),s=Ty(n,"afterFooter",this,e);let o=[];return o=my(o,vy(i)),o=my(o,vy(r)),o=my(o,vy(s)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=t.length;o<a;++o)l.push(yy(this.chart,t[o]));return e.filter&&(l=l.filter(((t,i,r)=>e.filter(t,i,r,n)))),e.itemSort&&(l=l.sort(((t,i)=>e.itemSort(t,i,n)))),Xd(l,(t=>{const n=Cy(e.callbacks,t);i.push(Ty(n,"labelColor",this,t)),r.push(Ty(n,"labelPointStyle",this,t)),s.push(Ty(n,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const e=gy[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=_y(this,n),o=Object.assign({},e,t),a=wy(this.chart,n,o),l=xy(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Op(o),{x:h,y:d}=e,{width:f,height:p}=t;let g,m,v,y,_,b;return"center"===r?(_=d+p/2,"left"===i?(g=h,m=g-s,y=_+s,b=_-s):(g=h+f,m=g+s,y=_-s,b=_+s),v=g):(m="left"===i?h+Math.max(a,c)+s:"right"===i?h+f-Math.max(l,u)-s:this.caretX,"top"===r?(y=d,_=y-s,g=m-s,v=m+s):(y=d+p,_=y+s,g=m+s,v=m-s),b=y),{x1:g,x2:m,x3:v,y1:y,y2:_,y3:b}}drawTitle(e,t,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=bg(n.rtl,this.x,this.width);for(e.x=ky(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Dp(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,a=0;a<r;++a)t.fillText(i[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,a+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=Dp(r.bodyFont),u=ky(this,"left",r),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=t.y+d;if(r.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+a/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,mp(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,mp(e,t,n,c)}else{e.lineWidth=Vd(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),o=Op(s.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Ep(e,{x:t,y:f,w:l,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Ep(e,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,f,l,a),e.strokeRect(t,f,l,a),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Dp(n.bodyFont);let h=u.lineHeight,d=0;const f=bg(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+r},g=f.textAlign(s);let m,v,y,_,b,w,x;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=ky(this,g,n),t.fillStyle=n.bodyColor,Xd(this.beforeBody,p),d=o&&"right"!==g?"center"===s?l/2+c:l+2+c:0,_=0,w=i.length;_<w;++_){for(m=i[_],v=this.labelTextColors[_],t.fillStyle=v,Xd(m.before,p),y=m.lines,o&&y.length&&(this._drawColorBox(t,e,_,f,n),h=Math.max(u.lineHeight,a)),b=0,x=y.length;b<x;++b)p(y[b]),h=u.lineHeight;Xd(m.after,p)}d=0,h=u.lineHeight,Xd(this.afterBody,p),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let s,o;if(r){const a=bg(n.rtl,this.x,this.width);for(e.x=ky(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",s=Dp(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,o=0;o<r;++o)t.fillText(i[o],a.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Op(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,a),"top"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+l-h,a),t.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+l,a+c-f),t.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+d,a+c),t.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(o,a+u),t.quadraticCurveTo(o,a,o+u,a),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=gy[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=_y(this,e),o=Object.assign({},n,this._size),a=wy(t,e,o),l=xy(e,o,a,t);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Mp(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),wg(e,t.textDirection),r.y+=s.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),xg(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[n],index:n}})),r=!Qd(n,i),s=this._positionChanged(i,t);(r||s)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(e,r,t,n),o=this._positionChanged(s,e),a=t||!Qd(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,s=gy[r.position].call(this,e,t);return!1!==s&&(n!==s.x||i!==s.y)}}(0,od.A)(Iy,"positioners",gy);var Py={id:"tooltip",_element:Iy,positioners:gy,afterInit(e,t,n){n&&(e.tooltip=new Iy({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",(0,Pt.A)((0,Pt.A)({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ey},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Ny(e,t,n,i){const r=e.indexOf(t);if(-1===r)return((e,t,n,i)=>("string"===typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i);return r!==e.lastIndexOf(t)?n:r}function Ay(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ry extends lv{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Bd(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Of(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Ny(n,e,Kd(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)i.push({value:s});return i}getLabelForValue(e){return Ay.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Oy(e,t){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=r||1,f=c-1,{min:p,max:g}=t,m=!Bd(s),v=!Bd(o),y=!Bd(l),_=(g-p)/(u+1);let b,w,x,k,S=xf((g-p)/f/d)*d;if(S<1e-14&&!m&&!v)return[{value:p},{value:g}];k=Math.ceil(g/S)-Math.floor(p/S),k>f&&(S=xf(k*S/f/d)*d),Bd(a)||(b=Math.pow(10,a),S=Math.ceil(S*b)/b),"ticks"===i?(w=Math.floor(p/S)*S,x=Math.ceil(g/S)*S):(w=p,x=g),m&&v&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-s)/r,S/1e3)?(k=Math.round(Math.min((o-s)/S,c)),S=(o-s)/k,w=s,x=o):y?(w=m?s:w,x=v?o:x,k=l-1,S=(x-w)/k):(k=(x-w)/S,k=wf(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const C=Math.max(Tf(S),Tf(w));b=Math.pow(10,Bd(a)?C:a),w=Math.round(w*b)/b,x=Math.round(x*b)/b;let E=0;for(m&&(h&&w!==s?(n.push({value:s}),w<s&&E++,wf(Math.round((w+E*S)*b)/b,s,My(s,_,e))&&E++):w<s&&E++);E<k;++E){const e=Math.round((w+E*S)*b)/b;if(v&&e>o)break;n.push({value:e})}return v&&h&&x!==o?n.length&&wf(n[n.length-1].value,o,My(o,_,e))?n[n.length-1].value=o:n.push({value:o}):v&&x!==o||n.push({value:x}),n}function My(e,t,n){let{horizontal:i,minRotation:r}=n;const s=Cf(r),o=(i?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}(0,od.A)(Ry,"id","category"),(0,od.A)(Ry,"defaults",{ticks:{callback:Ay}});class Dy extends lv{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Bd(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=e=>i=t?i:e,o=e=>r=n?r:e;if(e){const e=bf(i),t=bf(r);e<0&&t<0?o(0):e>0&&t>0&&s(0)}if(i===r){let t=0===r?1:Math.abs(.05*r);o(r+t),e||s(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=Oy({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Sf(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return ip(e,this.chart.options.locale,this.options.ticks.format)}}class Ly extends Dy{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=qd(e)?e:0,this.max=qd(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Cf(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,od.A)(Ly,"id","linear"),(0,od.A)(Ly,"defaults",{ticks:{callback:sp.formatters.numeric}});const jy=e=>Math.floor(_f(e)),Fy=(e,t)=>Math.pow(10,jy(e)+t);function zy(e){return 1===e/Math.pow(10,jy(e))}function Uy(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function Hy(e,t){let{min:n,max:i}=t;n=Yd(e.min,n);const r=[],s=jy(n);let o=function(e,t){let n=jy(t-e);for(;Uy(e,t,n)>10;)n++;for(;Uy(e,t,n)<10;)n--;return Math.min(n,jy(e))}(n,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=Yd(e.min,Math.round((c+h+d*Math.pow(10,o))*a)/a);for(;f<i;)r.push({value:f,major:zy(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((c+h+d*Math.pow(10,o))*a)/a;const p=Yd(e.max,f);return r.push({value:p,major:zy(p),significand:d}),r}class By extends lv{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Dy.prototype.parse.apply(this,[e,t]);if(0!==n)return qd(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=qd(e)?Math.max(0,e):null,this.max=qd(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!qd(this._userMin)&&(this.min=e===Fy(this.min,0)?Fy(this.min,-1):Fy(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,s=e=>i=t?i:e;n===i&&(n<=0?(r(1),s(10)):(r(Fy(n,-1)),s(Fy(i,1)))),n<=0&&r(Fy(i,-1)),i<=0&&s(Fy(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=Hy({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Sf(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":ip(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=_f(e),this._valueRange=_f(this.max)-_f(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(_f(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Wy(e){const t=e.ticks;if(t.display&&e.display){const e=Mp(t.backdropPadding);return Kd(t.font&&t.font.size,hp.font.size)+e.height}return 0}function Vy(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function qy(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?hf/s:0;for(let h=0;h<s;h++){const s=o.setContext(e.getPointLabelContext(h));r[h]=s.padding;const d=e.getPointPosition(h,e.drawingArea+r[h],a),f=Dp(s.font),p=(l=e.ctx,c=f,u=Wd(u=e._pointLabels[h])?u:[u],{w:fp(l,c.string,u),h:u.length*c.lineHeight});i[h]=p;const g=Af(e.getIndexAngle(h)+a),m=Math.round(Ef(g));Yy(n,t,g,Vy(m,d.x,p.w,0,180),Vy(m,d.y,p.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Wy(s)/2,additionalAngle:o?hf/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=t[u];const r=Ky(e,u,l);i.push(r),"auto"===a&&(r.visible=$y(r,c),r.visible&&(c=r))}return i}(e,i,r)}function Yy(e,t,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function Ky(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,i+r+o,s),c=Math.round(Ef(Af(l.angle+mf))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,a.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function $y(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:s}=e;return!(yp({x:n,y:i},t)||yp({x:n,y:s},t)||yp({x:r,y:i},t)||yp({x:r,y:s},t))}function Gy(e,t,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=t;if(!Bd(a)){const n=Op(t.borderRadius),l=Mp(t.backdropPadding);e.fillStyle=a;const c=i-l.left,u=r-l.top,h=s-i+l.width,d=o-r+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),Ep(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function Xy(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,df);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=e.getPointPosition(s,t),r.lineTo(n.x,n.y)}}(0,od.A)(By,"id","logarithmic"),(0,od.A)(By,"defaults",{ticks:{callback:sp.formatters.logarithmic,major:{enabled:!0}}});class Qy extends Dy{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Mp(Wy(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=qd(e)&&!isNaN(e)?e:0,this.max=qd(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Wy(this.options))}generateTickLabels(e){Dy.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=Gd(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?qy(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return Af(e*(df/(this._pointLabels.length||1))+Cf(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Bd(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Bd(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return jp(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(e)-mf+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Xy(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:r}=t,s=this._pointLabels.length;let o,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const s=i.setContext(e.getPointLabelContext(r));Gy(n,s,t);const o=Dp(s.font),{x:a,y:l,textAlign:c}=t;Cp(n,e._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){a=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=i.setContext(n),l=r.setContext(n);!function(e,t,n,i,r){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),Xy(e,n,o,i),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}})),n.display){for(e.save(),o=s-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:s}=i;s&&r&&(e.lineWidth=s,e.strokeStyle=r,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const a=n.setContext(this.getContext(o)),l=Dp(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){e.font=l.string,s=e.measureText(i.label).width,e.fillStyle=a.backdropColor;const t=Mp(a.backdropPadding);e.fillRect(-s/2-t.left,-r-l.size/2-t.top,s+t.width,l.size+t.height)}Cp(e,i.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),e.restore()}drawTitle(){}}(0,od.A)(Qy,"id","radialLinear"),(0,od.A)(Qy,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:sp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,od.A)(Qy,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,od.A)(Qy,"descriptors",{angleLines:{_fallback:"grid"}});const Jy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zy=Object.keys(Jy);function e_(e,t){return e-t}function t_(e,t){if(Bd(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return"function"===typeof i&&(o=i(o)),qd(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!kf(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function n_(e,t,n,i){const r=Zy.length;for(let s=Zy.indexOf(e);s<r-1;++s){const e=Jy[Zy[s]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return Zy[s]}return Zy[r-1]}function i_(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=Df(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function r_(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class s_ extends lv{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),i=this._adapter=new pm(e.adapters.date);i.init(t),nf(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:t_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(e){s||isNaN(e.min)||(i=Math.min(i,e.min)),o||isNaN(e.max)||(r=Math.max(r,e.max))}s&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),i=qd(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=qd(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?n_(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let s=Zy.length-1;s>=Zy.indexOf(n);s--){const n=Zy[s];if(Jy[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return Zy[n?Zy.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Zy.indexOf(e)+1,n=Zy.length;t<n;++t)if(Jy[Zy[t]].common)return Zy[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&s.reverse(),r_(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),i=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),r=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;i=Of(i,0,s),r=Of(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||n_(r.minUnit,t,n,this._getLabelCapacity(t)),o=Kd(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=kf(a)||!0===a,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",a)),d=+e.startOf(d,l?"day":s),e.diff(n,t,s)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,o,s),h++)i_(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||i_(c,u,f),Object.keys(c).sort(e_).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,r=t||n[i];return this._adapter.format(e,r)}_tickFormatFunction(e,t,n,i){const r=this.options,s=r.ticks.callback;if(s)return Gd(s,[e,t,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,i||(d?u:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=Cf(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,r_(this,[e],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(t_(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Uf(e.sort(e_))}}function o_(e,t,n){let i,r,s,o,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=Lf(e,"pos",t)),({pos:i,time:s}=e[a]),({pos:r,time:o}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=Lf(e,"time",t)),({time:i,pos:s}=e[a]),({time:r,pos:o}=e[l]));const c=r-i;return c?s+(o-s)*(t-i)/c:s}(0,od.A)(s_,"id","time"),(0,od.A)(s_,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class a_ extends s_{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=o_(t,this.min),this._tableRange=o_(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;++s)l=e[s],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],a=i[s-1],l=i[s],Math.round((c+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(o_(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return o_(this._table,n*this._tableRange+this._minPos,!0)}}(0,od.A)(a_,"id","timeseries"),(0,od.A)(a_,"defaults",s_.defaults);const l_=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],c_="label";function u_(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function h_(e,t){e.labels=t}function d_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c_;const i=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[n]===t[n]));return r&&t.data&&!i.includes(r)?(i.push(r),Object.assign(r,t),r):(0,Pt.A)({},t)}))}function f_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c_;const n={labels:[],datasets:[]};return h_(n,e.labels),d_(n,e.datasets,t),n}function p_(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d}=e,f=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,l_),p=(0,r.useRef)(null),g=(0,r.useRef)(null),m=()=>{p.current&&(g.current=new Fv(p.current,{type:a,data:f_(l,o),options:c&&(0,Pt.A)({},c),plugins:u}),u_(t,g.current))},v=()=>{u_(t,null),g.current&&(g.current.destroy(),g.current=null)};return(0,r.useEffect)((()=>{!s&&g.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,c)}),[s,c]),(0,r.useEffect)((()=>{!s&&g.current&&h_(g.current.config.data,l.labels)}),[s,l.labels]),(0,r.useEffect)((()=>{!s&&g.current&&l.datasets&&d_(g.current.config.data,l.datasets,o)}),[s,l.datasets]),(0,r.useEffect)((()=>{g.current&&(s?(v(),setTimeout(m)):g.current.update(d))}),[s,c,l.labels,l.datasets,d]),(0,r.useEffect)((()=>{g.current&&(v(),setTimeout(m))}),[a]),(0,r.useEffect)((()=>(m(),()=>v())),[]),r.createElement("canvas",(0,Pt.A)({ref:p,role:"img",height:n,width:i},f),h)}const g_=(0,r.forwardRef)(p_);function m_(e,t){return Fv.register(t),(0,r.forwardRef)(((t,n)=>r.createElement(g_,(0,Pt.A)((0,Pt.A)({},t),{},{ref:n,type:e}))))}const v_=m_("line",am);Fv.register(Ry,Ly,ty,Zv,py,Py,dy);const y_=function(){return(0,Xh.jsx)("section",{className:"metrics-section",children:(0,Xh.jsxs)("div",{className:"metrics-container",children:[(0,Xh.jsx)("h2",{className:"metrics-title",children:"Performance Metrics"}),(0,Xh.jsxs)("div",{className:"metrics-charts-row",children:[(0,Xh.jsxs)("div",{className:"metrics-chart",children:[(0,Xh.jsx)("h3",{className:"metrics-subtitle",children:"Power Consumption vs Data Size"}),(0,Xh.jsx)("div",{className:"metrics-chart-wrapper",children:(0,Xh.jsx)(v_,{data:{labels:["1KB","10KB","20KB","50KB","100KB"],datasets:[{label:"Power Consumption (mAh)",data:[110,140,180,250,380],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,tension:.3,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:0,bottom:0}},scales:{y:{min:0,max:500,title:{display:!0,text:"Power (mAh)",color:"#fff"},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#fff"}},x:{title:{display:!0,text:"Data Size",color:"#fff"},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#fff"}}},plugins:{legend:{position:"top",labels:{color:"#fff",boxWidth:20}},title:{display:!1},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=e.parsed.y+" mAh"),t}}}}}})})]}),(0,Xh.jsxs)("div",{className:"metrics-chart",children:[(0,Xh.jsx)("h3",{className:"metrics-subtitle",children:"Encryption Time vs Decryption Time"}),(0,Xh.jsx)("div",{className:"metrics-chart-wrapper",children:(0,Xh.jsx)(v_,{data:{labels:["1KB","10KB","20KB","50KB","100KB"],datasets:[{label:"Encryption Time (ms)",data:[1.2,10,20,50,100],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,tension:.3,yAxisID:"y"},{label:"Decryption Time (ms)",data:[1.5,12,24,60,120],borderColor:"#f43f5e",backgroundColor:"rgba(244, 63, 94, 0.1)",borderWidth:2,tension:.3,yAxisID:"y"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:0,bottom:0}},interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!0,position:"left",min:0,max:150,title:{display:!0,text:"Time (ms)",color:"#fff"},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#fff"}},x:{title:{display:!0,text:"Data Size",color:"#fff"},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#fff"}}},plugins:{legend:{position:"top",labels:{color:"#fff",boxWidth:20}},title:{display:!1},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=e.parsed.y+" ms"),t}}}}}})})]})]})]})})};const __=function(){return(0,Xh.jsxs)("div",{className:"home-container",children:[(0,Xh.jsx)(td,{}),(0,Xh.jsx)(sd,{}),(0,Xh.jsx)(y_,{})]})},b_=n.p+"static/media/esp32-circuit.9294875670cf348dff99.jpg",w_=n.p+"static/media/math-diagram.a43336dc1e8e03f975eb.jpg";const x_=function(){return(0,Xh.jsx)("section",{className:"technology-section",children:(0,Xh.jsxs)("div",{className:"technology-container",children:[(0,Xh.jsx)("h2",{className:"technology-title",children:"Technology"}),(0,Xh.jsxs)("div",{className:"technology-content",children:[(0,Xh.jsxs)("div",{className:"technology-row",children:[(0,Xh.jsxs)("div",{className:"technology-text-column",children:[(0,Xh.jsx)("h3",{className:"technology-subtitle",children:"ESP32 Architecture"}),(0,Xh.jsx)("p",{className:"technology-text",children:"Our solutions leverage the powerful dual-core Xtensa LX6 microprocessor, running at 240 MHz, with integrated Wi-Fi and Bluetooth connectivity for seamless IoT integration."}),(0,Xh.jsxs)("ul",{className:"technology-features",children:[(0,Xh.jsx)("li",{children:"\u2714 Dual-core processing for parallel task execution"}),(0,Xh.jsx)("li",{children:"\u2714 Ultra-low power consumption with multiple sleep modes"}),(0,Xh.jsx)("li",{children:"\u2714 Integrated cryptographic hardware acceleration"})]})]}),(0,Xh.jsx)("div",{className:"technology-image-column",children:(0,Xh.jsx)("img",{src:b_,alt:"ESP32 Circuit"})})]}),(0,Xh.jsxs)("div",{className:"technology-row",children:[(0,Xh.jsx)("div",{className:"technology-image-column",children:(0,Xh.jsx)("img",{src:w_,alt:"Math Diagram"})}),(0,Xh.jsxs)("div",{className:"technology-text-column",children:[(0,Xh.jsx)("h3",{className:"technology-subtitle",children:"Military-Grade Security"}),(0,Xh.jsx)("p",{className:"technology-text",children:"We implement our own Military-Grade cryptographic algorithm in hardware for maximum security with minimal performance impact."}),(0,Xh.jsxs)("div",{className:"technology-security-features",children:[(0,Xh.jsxs)("div",{className:"security-item",children:[(0,Xh.jsx)("span",{className:"security-icon",children:"\ud83d\udd12"}),(0,Xh.jsxs)("div",{children:[(0,Xh.jsx)("h4",{children:"Secure Boot"}),(0,Xh.jsx)("p",{children:"Verified firmware execution from boot to application"})]})]}),(0,Xh.jsxs)("div",{className:"security-item",children:[(0,Xh.jsx)("span",{className:"security-icon",children:"\ud83d\udd11"}),(0,Xh.jsxs)("div",{children:[(0,Xh.jsx)("h4",{children:"Flash Encryption"}),(0,Xh.jsx)("p",{children:"256-bit encryption for all the data and code"})]})]})]})]})]})]})]})})},k_=n.p+"static/media/zap.a9122cbdf631c6402e38.png",S_=n.p+"static/media/shield.a25bcc03b390430d8e5a.png",C_=n.p+"static/media/cloud.912f11b7ec0f980ae066.png",E_=n.p+"static/media/hardware.933c0f9a834daf9a837c.png";const T_=function(){const[e,t]=(0,r.useState)(!1);return(0,Xh.jsxs)("section",{className:"features-section",children:[(0,Xh.jsxs)("div",{className:"features-container",children:[(0,Xh.jsx)("h2",{className:"features-title",children:"Key Features"}),(0,Xh.jsx)("p",{className:"features-text",children:"Discover the powerful capabilities of our ESP32-based solutions"}),(0,Xh.jsxs)("div",{className:"features-grid",children:[(0,Xh.jsxs)("div",{className:"features-item",children:[(0,Xh.jsx)("img",{src:k_,alt:"Real-time Processing",className:"features-icon"}),(0,Xh.jsx)("h3",{className:"features-heading",children:"Real-time Processing"}),(0,Xh.jsx)("p",{className:"features-text",children:"Dual-core architecture enables parallel processing of sensor data and communication tasks with minimal latency."})]}),(0,Xh.jsxs)("div",{className:"features-item",children:[(0,Xh.jsx)("img",{src:S_,alt:"End-to-End Encryption",className:"features-icon"}),(0,Xh.jsx)("h3",{className:"features-heading",children:"End-to-End Encryption"}),(0,Xh.jsx)("p",{className:"features-text",children:"All data is encrypted at the sensor level using AES-256 before transmission to the cloud."})]}),(0,Xh.jsxs)("div",{className:"features-item",children:[(0,Xh.jsx)("img",{src:rd,alt:"Low Power Operation",className:"features-icon"}),(0,Xh.jsx)("h3",{className:"features-heading",children:"Low Power Operation"}),(0,Xh.jsx)("p",{className:"features-text",children:"Advanced power management extends battery life to years in field deployments."})]}),(0,Xh.jsxs)("div",{className:"features-item",children:[(0,Xh.jsx)("img",{src:C_,alt:"Cloud Integration",className:"features-icon"}),(0,Xh.jsx)("h3",{className:"features-heading",children:"Cloud Integration"}),(0,Xh.jsx)("p",{className:"features-text",children:"Seamless connectivity with major cloud platforms including AWS IoT and Azure IoT Hub."})]}),(0,Xh.jsxs)("div",{className:"features-item",children:[(0,Xh.jsx)("img",{src:id,alt:"Hardware Acceleration",className:"features-icon"}),(0,Xh.jsx)("h3",{className:"features-heading",children:"Hardware Acceleration"}),(0,Xh.jsx)("p",{className:"features-text",children:"Dedicated cryptographic processors for secure operations without performance penalty."})]}),(0,Xh.jsxs)("div",{className:"features-item",children:[(0,Xh.jsx)("img",{src:E_,alt:"Modular Design",className:"features-icon"}),(0,Xh.jsx)("h3",{className:"features-heading",children:"Modular Design"}),(0,Xh.jsx)("p",{className:"features-text",children:"Customizable sensor arrays and communication modules for diverse applications."})]})]}),(0,Xh.jsxs)("div",{className:"features-cta",children:[(0,Xh.jsx)("h3",{className:"features-heading-cta",children:"Ready to Get Started?"}),(0,Xh.jsx)("p",{className:"features-text-cta",children:"Choose the perfect solution for your IoT needs with our flexible deployment options."}),(0,Xh.jsx)("button",{className:"features-button",onClick:()=>{t(!0)},children:"Contact Us"})]})]}),e&&(0,Xh.jsx)(ed,{onClose:()=>{t(!1)}})]})};const I_=function(){return(0,Xh.jsxs)("div",{className:"team-container",children:[(0,Xh.jsx)("h3",{className:"team-title",children:"Our Team"}),(0,Xh.jsxs)("div",{className:"team-members",children:[(0,Xh.jsxs)("div",{className:"team-member",children:[(0,Xh.jsx)("img",{src:Jh,alt:"Abdul Malik",className:"team-image"}),(0,Xh.jsx)("h4",{className:"team-name",children:"Abdul Malik"}),(0,Xh.jsx)("p",{className:"team-role",children:"Founder"}),(0,Xh.jsx)("p",{className:"team-bio",children:"Former cybersecurity researcher with 15+ years in embedded systems"})]}),(0,Xh.jsxs)("div",{className:"team-member",children:[(0,Xh.jsx)("img",{src:Zh,alt:"M. Hassan Mehmood",className:"team-image"}),(0,Xh.jsx)("h4",{className:"team-name",children:"M. Hassan Mehmood"}),(0,Xh.jsx)("p",{className:"team-role",children:"Co-Founder"}),(0,Xh.jsx)("p",{className:"team-bio",children:"IoT architect specializing and cryptographic Expert with 10+ years of Experience"})]})]})]})},P_=n.p+"static/media/our_story.f1874f5c07ae05129f50.jpeg",N_=n.p+"static/media/mission-image.e456b21b18cf304d39d5.jpg",A_=n.p+"static/media/security-first.0ecf1d564cde0c022995.png",R_=n.p+"static/media/continue-inovation.79834fc59c6ee8140f20.png",O_=n.p+"static/media/global-impact.a1256fd5830a112a8044.png";const M_=function(){return(0,Xh.jsx)("section",{className:"about-section",children:(0,Xh.jsxs)("div",{className:"about-container",children:[(0,Xh.jsx)("h2",{className:"about-title",children:"About Our Company"}),(0,Xh.jsx)("p",{className:"about-subtitle",children:"Pioneering secure IoMT Encryption solutions since 2025"}),(0,Xh.jsxs)("div",{className:"about-story",children:[(0,Xh.jsx)("h3",{className:"about-heading",children:"Our Story"}),(0,Xh.jsxs)("div",{className:"about-story-content",children:[(0,Xh.jsxs)("div",{className:"about-text-column",children:[(0,Xh.jsx)("p",{className:"about-text",children:"Founded in 2025 by a team of cybersecurity and embedded systems experts, we set out to solve the growing security challenges in the IoMT space."}),(0,Xh.jsx)("p",{className:"about-text",children:"Recognizing the vulnerabilities in existing IoT devices, we developed our proprietary security framework that combines hardware-based encryption with over-the-air secure updates."}),(0,Xh.jsx)("p",{className:"about-text",children:"Today, our solutions protect critical infrastructure for Fortune 500 companies, government agencies, and innovative startups around the world."})]}),(0,Xh.jsx)("div",{className:"about-image-column",children:(0,Xh.jsx)("img",{src:P_,alt:"Our Story",className:"about-story-image"})})]})]}),(0,Xh.jsxs)("div",{className:"about-mission",children:[(0,Xh.jsx)("h3",{className:"about-heading",children:"Our Mission"}),(0,Xh.jsxs)("div",{className:"about-mission-content",children:[(0,Xh.jsx)("div",{className:"about-image-column",children:(0,Xh.jsx)("img",{src:N_,alt:"Our Mission",className:"about-mission-image"})}),(0,Xh.jsxs)("div",{className:"about-text-column",children:[(0,Xh.jsx)("p",{className:"about-text",children:"We believe in a future where connected devices enhance our lives without compromising our security and privacy."}),(0,Xh.jsxs)("ul",{className:"about-list",children:[(0,Xh.jsxs)("li",{className:"about-list-item",children:[(0,Xh.jsx)("img",{src:A_,alt:"Security First",className:"about-icon"}),(0,Xh.jsxs)("div",{className:"about-list-item-content",children:[(0,Xh.jsx)("strong",{className:"about-list-heading",children:"Security First"}),(0,Xh.jsx)("p",{className:"about-list-text",children:"Building security into every layer of our technology stack"})]})]}),(0,Xh.jsxs)("li",{className:"about-list-item",children:[(0,Xh.jsx)("img",{src:R_,alt:"Continuous Innovation",className:"about-icon"}),(0,Xh.jsxs)("div",{className:"about-list-item-content",children:[(0,Xh.jsx)("strong",{className:"about-list-heading",children:"Continuous Innovation"}),(0,Xh.jsx)("p",{className:"about-list-text",children:"Pushing the boundaries of what's possible in edge computing"})]})]}),(0,Xh.jsxs)("li",{className:"about-list-item",children:[(0,Xh.jsx)("img",{src:O_,alt:"Global Impact",className:"about-icon"}),(0,Xh.jsxs)("div",{className:"about-list-item-content",children:[(0,Xh.jsx)("strong",{className:"about-list-heading",children:"Global Impact"}),(0,Xh.jsx)("p",{className:"about-list-text",children:"Making secure IoT accessible to organizations of all sizes"})]})]})]})]})]})]}),(0,Xh.jsx)(I_,{}),(0,Xh.jsxs)("div",{className:"about-join",children:[(0,Xh.jsx)("h3",{className:"about-heading-team",children:"Join Our Team"}),(0,Xh.jsx)("p",{className:"about-text",children:"We're always looking for talented engineers and security experts to join our mission."}),(0,Xh.jsx)("button",{className:"about-button",children:"View Open Positions"})]})]})})},D_=(0,r.createContext)();function L_(e){let{children:t}=e;const[n,i]=(0,r.useState)("");return(0,Xh.jsx)(D_.Provider,{value:{chipId:n,setChipId:i},children:t})}const j_=()=>(0,r.useContext)(D_);Fv.register(Ry,Ly,ty,Zv,py,Py,dy);const F_=function(){const{chipId:e}=j_(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[d,f]=(0,r.useState)(15);(0,r.useEffect)((()=>{if(console.log("Chip ID in OximeterData:",e),!e)return void console.log("No chip ID available in context");const t=Oh(Kh,"decrypted_data/".concat(e));console.log("Listening to Firebase path:","decrypted_data/".concat(e));const i=function(e,t,n,i){return zh(e,"child_added",t,n,i)}(t,(e=>{const t=e.val(),i=new Date(t.timestamp);n((e=>{const n={heartRate:"heartRate"===t.value_name?t.value:void 0,spo2:"spo2"===t.value_name?t.value:void 0,timestamp:i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),rawTimestamp:i},r=e.findIndex((e=>Math.abs(e.rawTimestamp-i)<6e4));if(-1!==r){const t=[...e];return t[r]=(0,Pt.A)((0,Pt.A)({},t[r]),{},{heartRate:void 0!==n.heartRate?n.heartRate:t[r].heartRate,spo2:void 0!==n.spo2?n.spo2:t[r].spo2}),t}return[...e,n].sort(((e,t)=>t.rawTimestamp-e.rawTimestamp))}))}),(e=>{console.error("Firebase listener error:",e)}));return()=>i()}),[e]);const p=()=>{let e=t;if(i||o){const t=i?new Date(i):new Date(0),n=o?new Date(o):new Date;e=e.filter((e=>e.rawTimestamp>=t&&e.rawTimestamp<=n))}return(l||u)&&(e=e.filter((e=>{const t=!l||void 0!==e.heartRate&&e.heartRate>parseFloat(l),n=!u||void 0!==e.spo2&&e.spo2>parseFloat(u);return t||n}))),e.slice(0,d).reverse()},g=p(),m=Math.max(...g.map((e=>{var t;return null!==(t=e.heartRate)&&void 0!==t?t:0})),0)+20||120,v=Math.max(...g.map((e=>{var t;return null!==(t=e.spo2)&&void 0!==t?t:0})),0)+20||100,y={labels:g.map((e=>e.timestamp)),datasets:[{label:"Heart Rate (BPM)",data:g.map((e=>void 0!==e.heartRate?Math.max(0,e.heartRate):null)),borderColor:"#3498db",backgroundColor:"rgba(52, 152, 219, 0.2)",tension:.1,spanGaps:!0}]},_={labels:g.map((e=>e.timestamp)),datasets:[{label:"SpO2 (%)",data:g.map((e=>void 0!==e.spo2?Math.max(0,e.spo2):null)),borderColor:"#e74c3c",backgroundColor:"rgba(231, 76, 60, 0.2)",tension:.1,spanGaps:!0}]},b={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,color:"aqua"}},scales:{y:{beginAtZero:!0,min:0,ticks:{color:"white"}},x:{ticks:{color:"white"}}}},w=(0,Pt.A)((0,Pt.A)({},b),{},{scales:(0,Pt.A)((0,Pt.A)({},b.scales),{},{y:(0,Pt.A)((0,Pt.A)({},b.scales.y),{},{max:m,title:{display:!0,text:"Heart Rate (BPM)",color:"white"}})}),plugins:(0,Pt.A)((0,Pt.A)({},b.plugins),{},{title:(0,Pt.A)((0,Pt.A)({},b.plugins.title),{},{text:"Heart Rate"})})}),x=(0,Pt.A)((0,Pt.A)({},b),{},{scales:(0,Pt.A)((0,Pt.A)({},b.scales),{},{y:(0,Pt.A)((0,Pt.A)({},b.scales.y),{},{max:v,title:{display:!0,text:"SpO2 (%)",color:"white"}})}),plugins:(0,Pt.A)((0,Pt.A)({},b.plugins),{},{title:(0,Pt.A)((0,Pt.A)({},b.plugins.title),{},{text:"SpO2"})})});return(0,Xh.jsx)("section",{className:"oximeter-section",children:(0,Xh.jsxs)("div",{className:"oximeter-container",children:[(0,Xh.jsx)("h2",{className:"oximeter-title",children:"Decrypted Oximeter Data"}),0!==t.length||e?0===t.length?(0,Xh.jsx)("p",{className:"oximeter-text",children:"No data available"}):(0,Xh.jsxs)(Xh.Fragment,{children:[(0,Xh.jsx)("div",{className:"oximeter-table-controls",children:(0,Xh.jsxs)("label",{children:["Show Entries:",(0,Xh.jsxs)("select",{value:d,onChange:e=>f(parseInt(e.target.value)),style:{margin:"0 10px",padding:"5px",borderRadius:"4px",border:"1px solid aqua",backgroundColor:"#16304a",color:"#ddd"},children:[(0,Xh.jsx)("option",{value:10,children:"10"}),(0,Xh.jsx)("option",{value:15,children:"15"}),(0,Xh.jsx)("option",{value:20,children:"20"}),(0,Xh.jsx)("option",{value:50,children:"50"}),(0,Xh.jsx)("option",{value:100,children:"100"})]})]})}),(0,Xh.jsx)("div",{className:"oximeter-table-wrapper",children:(0,Xh.jsxs)("table",{className:"oximeter-table",children:[(0,Xh.jsx)("thead",{children:(0,Xh.jsxs)("tr",{children:[(0,Xh.jsx)("th",{children:"Heart Rate (BPM)"}),(0,Xh.jsx)("th",{children:"SpO2 (%)"}),(0,Xh.jsx)("th",{children:"Time"})," "]})}),(0,Xh.jsx)("tbody",{children:g.map(((e,t)=>(0,Xh.jsxs)("tr",{className:"oximeter-table-row",children:[(0,Xh.jsx)("td",{children:void 0!==e.heartRate?e.heartRate.toFixed(1):"N/A"}),(0,Xh.jsx)("td",{children:void 0!==e.spo2?e.spo2.toFixed(1):"N/A"}),(0,Xh.jsx)("td",{children:e.timestamp})," "]},t)))})]})})]}):(0,Xh.jsx)("p",{className:"oximeter-text",children:"No ESP32 is saved to show data. Go to profile and save your ESP32 Chip ID to see data."}),(0,Xh.jsxs)("div",{className:"oximeter-threshold-filter",children:[(0,Xh.jsxs)("label",{children:["Heart Rate Threshold (BPM):",(0,Xh.jsx)("input",{type:"number",value:l,onChange:e=>c(e.target.value),placeholder:"e.g., 100",style:{margin:"0 10px",padding:"5px",borderRadius:"4px",border:"1px solid aqua",backgroundColor:"#16304a",color:"#ddd"}})]}),(0,Xh.jsxs)("label",{children:["SpO2 Threshold (%):",(0,Xh.jsx)("input",{type:"number",value:u,onChange:e=>h(e.target.value),placeholder:"e.g., 95",style:{margin:"0 10px",padding:"5px",borderRadius:"4px",border:"1px solid aqua",backgroundColor:"#16304a",color:"#ddd"}})]}),(0,Xh.jsx)("button",{onClick:p,style:{padding:"5px 10px",borderRadius:"4px",border:"1px solid aqua",backgroundColor:"#3498db",color:"#fff",cursor:"pointer"},children:"Apply Thresholds"})]}),(0,Xh.jsxs)("div",{className:"oximeter-date-filter",children:[(0,Xh.jsxs)("label",{children:["Start Date:",(0,Xh.jsx)("input",{type:"date",value:i,onChange:e=>s(e.target.value),style:{margin:"0 10px",padding:"5px",borderRadius:"4px",border:"1px solid aqua",backgroundColor:"#16304a",color:"#ddd"}})]}),(0,Xh.jsxs)("label",{children:["End Date:",(0,Xh.jsx)("input",{type:"date",value:o,onChange:e=>a(e.target.value),style:{margin:"0 10px",padding:"5px",borderRadius:"4px",border:"1px solid aqua",backgroundColor:"#16304a",color:"#ddd"}})]}),(0,Xh.jsx)("button",{onChange:p,style:{padding:"5px 10px",borderRadius:"4px",border:"1px solid aqua",backgroundColor:"#3498db",color:"#fff",cursor:"pointer"},children:"Filter"})]}),t.length>0&&(0,Xh.jsxs)("div",{className:"oximeter-charts-container",children:[(0,Xh.jsx)("div",{className:"oximeter-chart",children:(0,Xh.jsx)(v_,{data:y,options:w})}),(0,Xh.jsx)("div",{className:"oximeter-chart",children:(0,Xh.jsx)(v_,{data:_,options:x})})]})]})})};var z_=Object.defineProperty,U_=(e,t,n)=>((e,t,n)=>t in e?z_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);const H_={x:0,y:0,width:0,height:0,unit:"px"},B_=(e,t,n)=>Math.min(Math.max(e,t),n),W_=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function V_(e,t,n){return"%"===e.unit?(0,Pt.A)((0,Pt.A)((0,Pt.A)({},H_),e),{},{unit:"%"}):{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function q_(e,t,n){return e.unit?"px"===e.unit?(0,Pt.A)((0,Pt.A)((0,Pt.A)({},H_),e),{},{unit:"px"}):{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:(0,Pt.A)((0,Pt.A)((0,Pt.A)({},H_),e),{},{unit:"px"})}function Y_(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:i,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:r;const c=(0,Pt.A)({},e);let u=Math.min(s,i),h=Math.min(o,r),d=Math.min(a,i),f=Math.min(l,r);t&&(t>1?(u=o?o*t:u,h=u/t,d=a*t):(h=s?s/t:h,u=h*t,f=l/t)),c.y<0&&(c.height=Math.max(c.height+c.y,h),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);const p=i-(c.x+c.width);p<0&&(c.x=Math.min(c.x,i-u),c.width+=p);const g=r-(c.y+c.height);if(g<0&&(c.y=Math.min(c.y,r-h),c.height+=g),c.width<u&&(("sw"===n||"nw"==n)&&(c.x-=u-c.width),c.width=u),c.height<h&&(("nw"===n||"ne"==n)&&(c.y-=h-c.height),c.height=h),c.width>d&&(("sw"===n||"nw"==n)&&(c.x-=d-c.width),c.width=d),c.height>f&&(("nw"===n||"ne"==n)&&(c.y-=f-c.height),c.height=f),t){const e=c.width/c.height;if(e<t){const e=Math.max(c.width/t,h);("nw"===n||"ne"==n)&&(c.y-=e-c.height),c.height=e}else if(e>t){const e=Math.max(c.height*t,u);("sw"===n||"nw"==n)&&(c.x-=e-c.width),c.width=e}}return c}const K_={capture:!0,passive:!1};let $_=0;const G_=class e extends r.PureComponent{constructor(){super(...arguments),U_(this,"docMoveBound",!1),U_(this,"mouseDownOnCrop",!1),U_(this,"dragStarted",!1),U_(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),U_(this,"componentRef",(0,r.createRef)()),U_(this,"mediaRef",(0,r.createRef)()),U_(this,"resizeObserver"),U_(this,"initChangeCalled",!1),U_(this,"instanceId","rc-".concat($_++)),U_(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),U_(this,"onCropPointerDown",(e=>{const{crop:t,disabled:n}=this.props,i=this.getBox();if(!t)return;const r=q_(t,i.width,i.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=e.target.dataset.ord,o=!!s;let a=e.clientX,l=e.clientY,c=r.x,u=r.y;if(s){const t=e.clientX-i.x,n=e.clientY-i.y;let o=0,h=0;"ne"===s||"e"==s?(o=t-(r.x+r.width),h=n-r.y,c=r.x,u=r.y+r.height):"se"===s||"s"===s?(o=t-(r.x+r.width),h=n-(r.y+r.height),c=r.x,u=r.y):"sw"===s||"w"==s?(o=t-r.x,h=n-(r.y+r.height),c=r.x+r.width,u=r.y):("nw"===s||"n"==s)&&(o=t-r.x,h=n-r.y,c=r.x+r.width,u=r.y+r.height),a=c+i.x+o,l=u+i.y+h}this.evData={startClientX:a,startClientY:l,startCropX:c,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:o,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})})),U_(this,"onComponentPointerDown",(e=>{const{crop:t,disabled:n,locked:i,keepSelection:r,onChange:s}=this.props,o=this.getBox();if(n||i||r&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const a=e.clientX-o.x,l=e.clientY-o.y,c={unit:"px",x:a,y:l,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:a,startCropY:l,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(q_(c,o.width,o.height),V_(c,o.width,o.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})})),U_(this,"onDocPointerMove",(e=>{const{crop:t,disabled:n,onChange:i,onDragStart:r}=this.props,s=this.getBox();if(n||!t||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,r&&r(e));const{evData:o}=this;let a;o.clientX=e.clientX,o.clientY=e.clientY,a=o.isResize?this.resizeCrop():this.dragCrop(),W_(t,a)||i(q_(a,s.width,s.height),V_(a,s.width,s.height))})),U_(this,"onComponentKeyDown",(t=>{const{crop:n,disabled:i,onChange:r,onComplete:s}=this.props;if(i)return;const o=t.key;let a=!1;if(!n)return;const l=this.getBox(),c=this.makePixelCrop(l),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===o?(c.x-=u,a=!0):"ArrowRight"===o?(c.x+=u,a=!0):"ArrowUp"===o?(c.y-=u,a=!0):"ArrowDown"===o&&(c.y+=u,a=!0),a){t.cancelable&&t.preventDefault(),c.x=B_(c.x,0,l.width-c.width),c.y=B_(c.y,0,l.height-c.height);const e=q_(c,l.width,l.height),n=V_(c,l.width,l.height);r(e,n),s&&s(e,n)}})),U_(this,"onHandlerKeyDown",((t,n)=>{const{aspect:i=0,crop:r,disabled:s,minWidth:o=0,minHeight:a=0,maxWidth:l,maxHeight:c,onChange:u,onComplete:h}=this.props,d=this.getBox();if(s||!r)return;if("ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();const f=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,p=function(e,t,n,i){const r=(0,Pt.A)({},e);return"ArrowLeft"===t?"nw"===i?(r.x-=n,r.y-=n,r.width+=n,r.height+=n):"w"===i?(r.x-=n,r.width+=n):"sw"===i?(r.x-=n,r.width+=n,r.height+=n):"ne"===i?(r.y+=n,r.width-=n,r.height-=n):"e"===i?r.width-=n:"se"===i&&(r.width-=n,r.height-=n):"ArrowRight"===t&&("nw"===i?(r.x+=n,r.y+=n,r.width-=n,r.height-=n):"w"===i?(r.x+=n,r.width-=n):"sw"===i?(r.x+=n,r.width-=n,r.height-=n):"ne"===i?(r.y-=n,r.width+=n,r.height+=n):"e"===i?r.width+=n:"se"===i&&(r.width+=n,r.height+=n)),"ArrowUp"===t?"nw"===i?(r.x-=n,r.y-=n,r.width+=n,r.height+=n):"n"===i?(r.y-=n,r.height+=n):"ne"===i?(r.y-=n,r.width+=n,r.height+=n):"sw"===i?(r.x+=n,r.width-=n,r.height-=n):"s"===i?r.height-=n:"se"===i&&(r.width-=n,r.height-=n):"ArrowDown"===t&&("nw"===i?(r.x+=n,r.y+=n,r.width-=n,r.height-=n):"n"===i?(r.y+=n,r.height-=n):"ne"===i?(r.y+=n,r.width-=n,r.height-=n):"sw"===i?(r.x-=n,r.width+=n,r.height+=n):"s"===i?r.height+=n:"se"===i&&(r.width+=n,r.height+=n)),r}(q_(r,d.width,d.height),t.key,f,n),g=Y_(p,i,n,d.width,d.height,o,a,l,c);if(!W_(r,g)){const e=V_(g,d.width,d.height);u(g,e),h&&h(g,e)}})),U_(this,"onDocPointerDone",(e=>{const{crop:t,disabled:n,onComplete:i,onDragEnd:r}=this.props,s=this.getBox();this.unbindDocMove(),!n&&t&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,r&&r(e),i&&i(q_(t,s.width,s.height),V_(t,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))})),U_(this,"onDragFocus",(()=>{var e;null==(e=this.componentRef.current)||e.scrollTo(0,0)}))}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:t,y:n,width:i,height:r}=e.getBoundingClientRect();return{x:t,y:n,width:i,height:r}}componentDidUpdate(e){const{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){const{width:e,height:i}=this.getBox();e&&i&&n(q_(t,e,i),V_(t,e,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,K_),this.document.addEventListener("pointerup",this.onDocPointerDone,K_),this.document.addEventListener("pointercancel",this.onDocPointerDone,K_),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,K_),this.document.removeEventListener("pointerup",this.onDocPointerDone,K_),this.document.removeEventListener("pointercancel",this.onDocPointerDone,K_),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}dragCrop(){const{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),i=e.clientX-e.startClientX,r=e.clientY-e.startClientY;return n.x=B_(e.startCropX+i,0,t.width-n.width),n.y=B_(e.startCropY+r,0,t.height-n.height),n}getPointRegion(e,t,n,i){const{evData:r}=this,s=r.clientX-e.x,o=r.clientY-e.y;let a,l;return a=i&&t?"nw"===t||"n"===t||"ne"===t:o<r.startCropY,l=n&&t?"nw"===t||"w"===t||"sw"===t:s<r.startCropX,l?a?"nw":"sw":a?"ne":"se"}resolveMinDimensions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=Math.min(n,e.width),s=Math.min(i,e.height);return t&&(r||s)?t>1?r?[r,r/t]:[s*t,s]:s?[s*t,s]:[r,r/t]:[r,s]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:i,maxHeight:r}=this.props,s=this.getBox(),[o,a]=this.resolveMinDimensions(s,n,this.props.minWidth,this.props.minHeight);let l=this.makePixelCrop(s);const c=this.getPointRegion(s,t.ord,o,a),u=t.ord||c;let h=t.clientX-t.startClientX,d=t.clientY-t.startClientY;(o&&"nw"===u||"w"===u||"sw"===u)&&(h=Math.min(h,-o)),(a&&"nw"===u||"n"===u||"ne"===u)&&(d=Math.min(d,-a));const f={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(f.x=t.startCropX,f.width=h,n?(f.height=f.width/n,f.y=t.startCropY-f.height):(f.height=Math.abs(d),f.y=t.startCropY-f.height)):"se"===c?(f.x=t.startCropX,f.y=t.startCropY,f.width=h,f.height=n?f.width/n:d):"sw"===c?(f.x=t.startCropX+h,f.y=t.startCropY,f.width=Math.abs(h),f.height=n?f.width/n:d):"nw"===c&&(f.x=t.startCropX+h,f.width=Math.abs(h),n?(f.height=f.width/n,f.y=t.startCropY-f.height):(f.height=Math.abs(d),f.y=t.startCropY+d));const p=Y_(f,n,c,s.width,s.height,o,a,i,r);return n||e.xyOrds.indexOf(u)>-1?l=p:e.xOrds.indexOf(u)>-1?(l.x=p.x,l.width=p.width):e.yOrds.indexOf(u)>-1&&(l.y=p.y,l.height=p.height),l.x=B_(l.x,0,s.width-l.width),l.y=B_(l.y,0,s.height-l.height),l}renderCropSelection(){const{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:i,renderSelectionAddon:s,ruleOfThirds:o,crop:a}=this.props,l=this.getCropStyle();if(a)return r.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!i&&r.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},r.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),s&&r.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:e=>e.stopPropagation()},s(this.state)),o&&r.createElement(r.Fragment,null,r.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),r.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return q_((0,Pt.A)((0,Pt.A)({},H_),this.props.crop||{}),e.width,e.height)}render(){const{aspect:e,children:t,circularCrop:n,className:i,crop:s,disabled:o,locked:a,style:l,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:h}=this.state,d=s?this.renderCropSelection():null,f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>e&&"string"==typeof e)).join(" ")}("ReactCrop",i,u&&"ReactCrop--active",o&&"ReactCrop--disabled",a&&"ReactCrop--locked",h&&"ReactCrop--new-crop",s&&e&&"ReactCrop--fixed-aspect",s&&n&&"ReactCrop--circular-crop",s&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return r.createElement("div",{ref:this.componentRef,className:f,style:l},r.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),s?r.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},r.createElement("defs",null,r.createElement("mask",{id:"hole-".concat(this.instanceId)},r.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?r.createElement("ellipse",{cx:"".concat(s.x+s.width/2).concat(s.unit),cy:"".concat(s.y+s.height/2).concat(s.unit),rx:"".concat(s.width/2).concat(s.unit),ry:"".concat(s.height/2).concat(s.unit),fill:"black"}):r.createElement("rect",{x:"".concat(s.x).concat(s.unit),y:"".concat(s.y).concat(s.unit),width:"".concat(s.width).concat(s.unit),height:"".concat(s.height).concat(s.unit),fill:"black"}))),r.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:"url(#hole-".concat(this.instanceId,")")})):void 0,d)}};U_(G_,"xOrds",["e","w"]),U_(G_,"yOrds",["n","s"]),U_(G_,"xyOrds",["nw","ne","se","sw"]),U_(G_,"nudgeStep",1),U_(G_,"nudgeStepMedium",10),U_(G_,"nudgeStepLarge",100),U_(G_,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let X_=G_;const Q_=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),[h,d]=(0,r.useState)(null),[f,p]=(0,r.useState)({unit:"%",width:100,aspect:1}),[g,m]=(0,r.useState)(!1),[v,y]=(0,r.useState)(""),[_,b]=(0,r.useState)(""),w=(0,r.useRef)(null),x=J(),{setChipId:k}=j_();(0,r.useEffect)((()=>{const e=Zr($h,(e=>{if(e){t(e),i(e.displayName||""),o(e.email||""),d(e.photoURL||null);const n=Uh(Oh(Kh,"users/".concat(e.uid)),(e=>{const t=e.val();t&&t.chipId&&(y(t.chipId),k(t.chipId))}));return()=>n()}x("/login")}));return()=>e()}),[x,k]);const S=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;if(e)try{await Lh(Oh(Kh,"users/".concat(e.uid)),{username:n,email:s,photoURL:t,chipId:v,timestamp:(new Date).toISOString()}),k(v),alert("Profile data saved to Firebase successfully")}catch(_){console.error("Firebase save error:",_.message),alert("Failed to save profile data: "+_.message)}},C=t=>{if(w.current&&t.width&&t.height){const n=document.createElement("canvas"),i=w.current.naturalWidth/w.current.width,r=w.current.naturalHeight/w.current.height;n.width=t.width,n.height=t.height;n.getContext("2d").drawImage(w.current,t.x*i,t.y*r,t.width*i,t.height*r,0,0,t.width,t.height),n.toBlob((async t=>{if(!t)return console.error("Failed to create blob from canvas"),void b("Failed to process image for upload");console.log("Blob created:",t);const n=new File([t],"cropped.jpg",{type:"image/jpeg"});await(async t=>{try{const n=new FormData;n.append("file",t),n.append("upload_preset","FYP_Project"),n.append("folder","FYP");const i="serenaproject";if(console.log("Cloudinary cloud name:",i),!i)throw new Error("Cloudinary cloud name is not set in environment variables");const r=await fetch("https://api.cloudinary.com/v1_1/".concat(i,"/image/upload"),{method:"POST",body:n});if(console.log("Cloudinary response status:",r.status),!r.ok){const e=await r.text();throw console.error("Cloudinary error response:",e),new Error("Failed to upload image to Cloudinary: ".concat(e))}const s=await r.json();console.log("Cloudinary upload result:",s);const o=s.secure_url;d(o),u(null),m(!1),b(""),await Qr(e,{photoURL:o}),await S(o)}catch(n){console.error("Upload error:",n),b(n.message)}})(n)}),"image/jpeg")}};return e?(0,Xh.jsx)("section",{className:"profile-section",children:(0,Xh.jsxs)("div",{className:"profile-container",children:[(0,Xh.jsx)("h2",{className:"profile-title",children:"Profile"}),_&&(0,Xh.jsx)("p",{style:{color:"red"},children:_}),(0,Xh.jsx)("div",{className:"profile-content",children:(0,Xh.jsxs)("div",{className:"profile-box",children:[(0,Xh.jsxs)("div",{className:"profile-image",children:[(0,Xh.jsx)("h3",{children:"Profile Image"}),h?(0,Xh.jsx)("img",{src:h,alt:"Profile Preview",className:"profile-preview"}):(0,Xh.jsx)("div",{className:"profile-no-image",children:"No Image Uploaded"}),(0,Xh.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(!t.type.startsWith("image/"))return void b("Please select an image file");if(t.size>10485760)return void b("File size exceeds 10MB limit");u(t),m(!0),b("")}}}),g&&c&&(0,Xh.jsxs)("div",{className:"profile-crop-editor",children:[(0,Xh.jsx)(X_,{crop:f,onChange:e=>p(e),onComplete:e=>p(e),aspect:1,children:(0,Xh.jsx)("img",{ref:w,src:URL.createObjectURL(c),alt:"Crop"})}),(0,Xh.jsxs)("div",{className:"crop-buttons",children:[(0,Xh.jsx)("button",{className:"crop-button",onClick:()=>{C(f)},children:"Crop"}),(0,Xh.jsx)("button",{className:"cancel-button",onClick:()=>{m(!1),u(null),p({unit:"%",width:100,aspect:1}),b("")},children:"Cancel Crop"})]})]})]}),(0,Xh.jsxs)("div",{className:"profile-details",children:[(0,Xh.jsx)("h3",{children:"Account Details"}),(0,Xh.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&n)try{await Qr(e,{displayName:n}),alert("Username updated successfully"),await S()}catch(_){console.error("Username update error:",_.message),alert("Failed to update username: "+_.message)}},className:"profile-form",children:[(0,Xh.jsxs)("label",{children:["Username:",(0,Xh.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Enter username",className:"profile-input"})]}),(0,Xh.jsx)("button",{type:"submit",className:"profile-button",children:"Update Username"})]}),(0,Xh.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&a)try{await function(e,t){const n=gt(e);return An(n.auth.app)?Promise.reject(ii(n.auth)):Jr(n,t,null)}(e,a),o(a),alert("Email updated successfully"),await S()}catch(_){console.error("Email update error:",_.message),alert("Failed to update email: "+_.message)}},className:"profile-form",children:[(0,Xh.jsxs)("label",{className:"profile-email-label",children:["Current Email: ",s]}),(0,Xh.jsx)("br",{}),(0,Xh.jsxs)("label",{children:["New Email:",(0,Xh.jsx)("input",{type:"email",value:a,onChange:e=>l(e.target.value),placeholder:"Enter new email",className:"profile-input"})]}),(0,Xh.jsx)("button",{type:"submit",className:"profile-button",children:"Update Email"})]}),(0,Xh.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&v)try{await S(),alert("Chip ID updated successfully")}catch(_){console.error("Chip ID save error:",_.message),alert("Failed to update chip ID: "+_.message)}},className:"profile-form",children:[(0,Xh.jsxs)("label",{className:"profile-chip-label",children:["ESP32 Chip ID:",(0,Xh.jsx)("input",{type:"text",value:v,onChange:e=>y(e.target.value),placeholder:"Enter chip ID (e.g., 000098CA4A3B015C)",className:"profile-input"})]}),(0,Xh.jsx)("button",{type:"submit",className:"profile-chip-button",children:"Save Chip ID"})]})]}),(0,Xh.jsxs)("div",{className:"profile-sensors",children:[(0,Xh.jsx)("h3",{children:"Connected Sensors"}),(0,Xh.jsx)("ul",{children:(0,Xh.jsx)("li",{children:"Oximeter"})})]})]})})]})}):(0,Xh.jsx)("div",{children:"Loading..."})},J_={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Z_;const eb=new Uint8Array(16);const tb=[];for(let ub=0;ub<256;++ub)tb.push((ub+256).toString(16).slice(1));function nb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(tb[e[t+0]]+tb[e[t+1]]+tb[e[t+2]]+tb[e[t+3]]+"-"+tb[e[t+4]]+tb[e[t+5]]+"-"+tb[e[t+6]]+tb[e[t+7]]+"-"+tb[e[t+8]]+tb[e[t+9]]+"-"+tb[e[t+10]]+tb[e[t+11]]+tb[e[t+12]]+tb[e[t+13]]+tb[e[t+14]]+tb[e[t+15]]).toLowerCase()}const ib=function(e,t,n){var i,r,s,o;if(J_.randomUUID&&!t&&!e)return J_.randomUUID();const a=null!==(i=null!==(r=(e=e||{}).random)&&void 0!==r?r:null===(s=(o=e).rng)||void 0===s?void 0:s.call(o))&&void 0!==i?i:function(){if(!Z_){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Z_=crypto.getRandomValues.bind(crypto)}return Z_(eb)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[n+e]=a[e];return t}return nb(a)};const rb=function(){const[e,t]=(0,r.useState)({email:"",password:""}),[n,i]=(0,r.useState)({message:"",type:""}),s=J(),o=(0,r.useState)(null),a=e=>{o.current&&clearTimeout(o.current),o.current=setTimeout((()=>{console.log("User inactive for 10 minutes, deleting token..."),l(e)}),6e5)},l=async e=>{await Dh(Oh(Kh,"users/".concat(e,"/token"))),sessionStorage.removeItem("userToken"),console.log("Token deleted")},c=function(e){i({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{i({message:"",type:""})}),2e3)};(0,r.useEffect)((()=>{let e=null;const t=sessionStorage.getItem("userToken");t&&console.log("Token found in sessionStorage:",t);const n=$h.onAuthStateChanged((t=>{t&&(e=t.uid,a(e))})),i=()=>{e&&a(e)};return window.addEventListener("mousemove",i),window.addEventListener("keypress",i),window.addEventListener("click",i),window.addEventListener("scroll",i),()=>{window.removeEventListener("mousemove",i),window.removeEventListener("keypress",i),window.removeEventListener("click",i),window.removeEventListener("scroll",i),o.current&&clearTimeout(o.current),n()}})),(0,r.useEffect)((()=>{const e=async()=>{const e=$h.currentUser;e&&await l(e.uid)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]);const u=n=>{t((0,Pt.A)((0,Pt.A)({},e),{},{[n.target.name]:n.target.value}))};return(0,Xh.jsx)("section",{className:"login-section",children:(0,Xh.jsxs)("div",{className:"login-container",children:[(0,Xh.jsx)("h2",{className:"login-title",children:"Log In"}),(0,Xh.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await function(e,t,n){return An(e.app)?Promise.reject(ii(e)):Gr(gt(e),Mr.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Xr(e),t}))}($h,e.email,e.password),n=t.user;console.log("User logged in:",n.uid);const i=Oh(Kh,"users/".concat(n.uid,"/token"));await new Promise((e=>{Uh(i,(async t=>{const i=t.val();i&&i.token?(console.log("Token found in Firebase:",i.token),sessionStorage.setItem("userToken",i.token)):(console.log("No token found for user, generating a new one..."),await(async e=>{const t=ib();return console.log("Generated token on login:",t),await Lh(Oh(Kh,"users/".concat(e,"/token")),{token:t,createdAt:(new Date).toISOString()}),sessionStorage.setItem("userToken",t),t})(n.uid)),e()}),{onlyOnce:!0})})),c("Logged in successfully!","success"),setTimeout((()=>{s("/profile")}),500)}catch(Ho){console.error("Login error:",Ho.message),c("Login failed: "+Ho.message,"error")}},className:"login-form",children:[(0,Xh.jsxs)("label",{className:"login-label",children:["Email",(0,Xh.jsx)("input",{type:"email",name:"email",value:e.email,onChange:u,required:!0,className:"login-input"})]}),(0,Xh.jsxs)("label",{className:"login-label",children:["Password",(0,Xh.jsx)("input",{type:"password",name:"password",value:e.password,onChange:u,required:!0,className:"login-input"})]}),(0,Xh.jsx)("button",{type:"submit",className:"login-button",children:"Log In"}),(0,Xh.jsxs)("p",{className:"login-text",children:["Don\u2019t have an account? ",(0,Xh.jsx)(ke,{to:"/signup",className:"login-link",children:"Sign Up"})]})]}),n.message&&(0,Xh.jsx)("div",{className:"notification ".concat(n.type),children:n.message})]})})};const sb=function(){const[e,t]=(0,r.useState)({email:"",password:""}),[n]=(0,r.useState)(null),[i,s]=(0,r.useState)(""),o=(0,r.useState)(null),a=e=>{s(e),setTimeout((()=>{s("")}),2e3)},l=async e=>{e&&(await Dh(Oh(Kh,"users/".concat(e,"/token"))),console.log("Token deleted from Firebase"),sessionStorage.removeItem("userToken"),n(null),console.log("Token deleted from sessionStorage"))},c=e=>{o.current&&clearTimeout(o.current),o.current=setTimeout((()=>{console.log("User inactive for 10 minutes, deleting token..."),l(e)}),6e5)};(0,r.useEffect)((()=>{let e=null;const t=sessionStorage.getItem("userToken");t&&n(t);const i=$h.onAuthStateChanged((t=>{t&&(e=t.uid,c(e))})),r=()=>{e&&c(e)};return window.addEventListener("mousemove",r),window.addEventListener("keypress",r),window.addEventListener("click",r),window.addEventListener("scroll",r),()=>{window.removeEventListener("mousemove",r),window.removeEventListener("keypress",r),window.removeEventListener("click",r),window.removeEventListener("scroll",r),o.current&&clearTimeout(o.current),i()}})),(0,r.useEffect)((()=>{const e=async()=>{const e=$h.currentUser;e&&await l(e.uid)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}));const u=n=>{t((0,Pt.A)((0,Pt.A)({},e),{},{[n.target.name]:n.target.value}))};return(0,Xh.jsx)("section",{className:"signup-section",children:(0,Xh.jsxs)("div",{className:"signup-container",children:[(0,Xh.jsx)("h2",{className:"signup-title",children:"Sign Up"}),(0,Xh.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),console.log("Attempting to sign up with email:",e.email);try{const t=await async function(e,t,n){if(An(e.app))return Promise.reject(ii(e));const i=cr(e),r=_r(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hr,"EMAIL_PASSWORD_PROVIDER"),s=await r.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Xr(e),t})),o=await Br._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(o.user),o}($h,e.email,e.password),i=t.user;console.log("User signed up successfully:",i.uid),await(async e=>{const t=ib();return console.log("Generated token:",t),await Lh(Oh(Kh,"users/".concat(e,"/token")),{token:t,createdAt:(new Date).toISOString()}),sessionStorage.setItem("userToken",t),n(t),t})(i.uid),await Lh(Oh(Kh,"users/"+i.uid),{email:e.email,createdAt:(new Date).toISOString()}),console.log("User data stored in database"),a("Sign-up successful! You can now log in.")}catch(Ho){console.error("Sign-up error details:",Ho.code,Ho.message),a("Sign-up failed: "+Ho.message)}},className:"signup-form",children:[(0,Xh.jsxs)("label",{className:"signup-label",children:["Email",(0,Xh.jsx)("input",{type:"email",name:"email",value:e.email,onChange:u,required:!0,className:"signup-input"})]}),(0,Xh.jsxs)("label",{className:"signup-label",children:["Password",(0,Xh.jsx)("input",{type:"password",name:"password",value:e.password,onChange:u,required:!0,className:"signup-input"})]}),(0,Xh.jsx)("button",{type:"submit",className:"signup-button",children:"Sign Up"}),(0,Xh.jsxs)("p",{className:"signup-text",children:["Already have an account? ",(0,Xh.jsx)(ke,{to:"/login",className:"signup-link",children:"Log In"})]})]}),i&&(0,Xh.jsx)("div",{className:"notification",children:i})]})})};const ob=function(){return(0,Xh.jsx)("footer",{className:"footer",children:(0,Xh.jsx)("div",{className:"footer-container",children:(0,Xh.jsxs)("div",{className:"footer-sections",children:[(0,Xh.jsxs)("div",{className:"footer-section",children:[(0,Xh.jsx)("h3",{className:"footer-title",children:"About Us"}),(0,Xh.jsx)("p",{className:"footer-text",children:"Leading provider of ESP32-based IoMT advanced cryptography solutions"})]}),(0,Xh.jsxs)("div",{className:"footer-section",children:[(0,Xh.jsx)("h3",{className:"footer-title",children:"Quick Links"}),(0,Xh.jsxs)("ul",{className:"footer-list",children:[(0,Xh.jsx)("li",{className:"footer-item",children:(0,Xh.jsx)(ke,{to:"/technology",className:"footer-link",children:"Technology"})}),(0,Xh.jsx)("li",{className:"footer-item",children:(0,Xh.jsx)(ke,{to:"/features",className:"footer-link",children:"Features"})}),(0,Xh.jsx)("li",{className:"footer-item",children:(0,Xh.jsx)(ke,{to:"/about",className:"footer-link",children:"About"})})]})]}),(0,Xh.jsxs)("div",{className:"footer-section",children:[(0,Xh.jsx)("h3",{className:"footer-title",children:"Contact"}),(0,Xh.jsx)("p",{className:"footer-text",children:"info@example.com"}),(0,Xh.jsx)("p",{className:"footer-text",children:"+92 318 0971788"}),(0,Xh.jsx)("p",{className:"footer-text",children:"Sir Syed CASE Institute of Technology"})]}),(0,Xh.jsxs)("div",{className:"footer-section",children:[(0,Xh.jsx)("h3",{className:"footer-title",children:"Newsletter"}),(0,Xh.jsxs)("form",{className:"footer-form",children:[(0,Xh.jsx)("input",{type:"email",placeholder:"Your email",required:!0,className:"footer-input"}),(0,Xh.jsx)("button",{type:"submit",className:"footer-button",children:"Subscribe"})]})]})]})})})};const ab=function(e){let{children:t}=e;const[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{const e=$h.onAuthStateChanged((e=>{if(e){Uh(Oh(Kh,"users/".concat(e.uid,"/token")),(e=>{const t=e.val(),n=sessionStorage.getItem("userToken");console.log("ProtectedRoute - Firebase token:",null===t||void 0===t?void 0:t.token),console.log("ProtectedRoute - Session token:",n),t&&t.token&&n&&t.token===n?i(!0):(i(!1),sessionStorage.removeItem("userToken")),o(!1)}),{onlyOnce:!0})}else i(!1),sessionStorage.removeItem("userToken"),o(!1)}));return()=>e()}),[]),s?(0,Xh.jsx)("div",{children:"Loading..."}):n?t:(0,Xh.jsx)(he,{to:"/login"})};const lb=function(){return(0,Xh.jsx)(be,{children:(0,Xh.jsxs)(L_,{children:[(0,Xh.jsx)(Qh,{}),(0,Xh.jsxs)(pe,{children:[(0,Xh.jsx)(de,{path:"/",element:(0,Xh.jsx)(__,{})}),(0,Xh.jsx)(de,{path:"/technology",element:(0,Xh.jsx)(x_,{})}),(0,Xh.jsx)(de,{path:"/features",element:(0,Xh.jsx)(T_,{})}),(0,Xh.jsx)(de,{path:"/about",element:(0,Xh.jsx)(M_,{})}),(0,Xh.jsx)(de,{path:"/oximeter",element:(0,Xh.jsx)(ab,{children:(0,Xh.jsx)(F_,{})})}),(0,Xh.jsx)(de,{path:"/profile",element:(0,Xh.jsx)(ab,{children:(0,Xh.jsx)(Q_,{})})}),(0,Xh.jsx)(de,{path:"/login",element:(0,Xh.jsx)(rb,{})}),(0,Xh.jsx)(de,{path:"/signup",element:(0,Xh.jsx)(sb,{})})]}),(0,Xh.jsx)(ob,{})]})})},cb=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,488)).then((t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:s,getTTFB:o}=t;n(e),i(e),r(e),s(e),o(e)}))};o.createRoot(document.getElementById("root")).render((0,Xh.jsx)(r.StrictMode,{children:(0,Xh.jsx)(lb,{})})),cb()})();
//# sourceMappingURL=main.45bbee93.js.map